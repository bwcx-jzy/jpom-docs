---
title: 必读前言
date: 2022-06-11 09:57:14
permalink: /pages/install/
tags: 
  - 前言
  - 必读
categories: 
  - docs
  - 文档
  - 安装使用
---

> 请您在使用 Jpom 前请仔细阅读文档，我们不能保证您在安装以及使用过程中不出任何问题，但是请您遇到问题还是先查阅文档。

您还可以阅读[文档说明](../00.自述序言/10.文档说明.md)来更详细的了解该如何阅读本文档

## 前言

**开源不易请大家多多支持，请给个 star 支持一下，谢谢！**

- [Gitee ![star](https://gitee.com/dromara/Jpom/badge/star.svg?theme=gvp)](https://gitee.com/dromara/Jpom/)
- [Github![star](https://img.shields.io/github/stars/dromara/Jpom.svg?style=social)](https://github.com/dromara/Jpom)


如果您在安装或者使用 Jpom 过程中遇到问题，请先查阅文档，如果文档中没有找到解决方案，您可以先自己尝试解决，如果实在解决不了，请提交 issue 或者加入我们的社群反馈。

**如您自行解决后还恳请您不要吝啬，将其贡献出来，为开源项目做出贡献。**

Jpom 是一款 Java 编写的前后端分离项目，并且默认使用 `H2 数据库`安装此软件非常简单，但前提条件是您已经会安装 Java 环境了，如果您还没有安装 Java 环境，请先安装 Java 环境。

Jpom 理论上支持在有 Java 环境的任意平台安装，但为了更好的使用体验，我们建议您安装在 Linux 系统上。

## 需要考虑部署 Jpom 的前端吗？

不需要，因为 Jpom 默认已经将前端打包到 Jar 包里面了，您只需要运行我们的安装包即可

## 数据库

Jpom 默认使用 `H2 数据库`，我们还支持 `mysql、postgresql、mariadb 数据库`。

在大多数使用场景下其实您使用默认的 H2 数据库可以满足您的日常需求，如果您对数据稳定性和数据备份有一定要求那则建议您使用 mysql / postgresql / mariadb 数据库。

**我们为了简化您的安装流程，系统会在启动时自动执行表结构DDL脚本，完全不需要您手动控制。**

::: tip 注意
H2 数据库在一些极端情况下（断电关闭、强杀进程）会出现数据库损坏，如果出现启动过程中数据库异常请不要慌，系统默认开启了 H2 数据库的备份功能，您可以使用已经备份的数据文件进行还原
:::

## JAVA 版本（JDK要求）

Jpom 采用 `jdk 1.8` 开发，我们推荐您在 Java 8 环境下使用，如果您想在高版本中使用您可以需要修改我们的启动脚本。

如果您在使用高版本的 JDK 过程中遇到了问题可以先尝试搜索引擎了解或者联系我们一起排查

**我们更期望您把您遇到的问题反馈给我们，一起完善 Jpom**

经社区测试：

JDK 17、21 在适当修改启动参数后可以正常运行。

### 高版本 JDK 非法反射访问警告

- Unable to make protected
- Unable to make private
- .....

这种问题不会在JDK8出现，但是 jdk8+ 可能出现因此解决方式类似，开放模块即可。

需要添加如下启动参数：

- --add-opens java.base/java.lang=ALL-UNNAMED
- --add-opens java.base/sun.net.util=ALL-UNNAMED
- --add-opens java.base/java.util=ALL-UNNAMED
- --add-opens java.base/java.lang.reflect=ALL-UNNAMED

通过规律可以看到，再报类似错误，都是一个套路，

module java.base does not “opens java.lang“ to unnamed module

直接加：java.base/java.lang=ALL-UNNAMED

### Could not create the Java Virtual Machine.

高版本出现如下错误是因为启动脚本中的默认参数在高版本中不支持，解决办法是提示什么参数错误就删除什么参数，如果不怎么删除什么参数可以将 JVM 参数仅保留：

`-server -Xms200m -Xmx600m -XX:+UseG1GC`

## 如何选择服务端&插件端

Jpom 是一个带插件端（Agent）的软件。

插件端（Agent） 主要作用是控制需要被管理的服务器（项目文件控制、执行脚本等）

服务端（Server）主要作用是管控所有 Agent、执行项目构建打包等

::: tip 注意
Server端和Agent端不可安装在同一目录下，因为两个程序数据目录会使用到同一个文件夹/文件会造成数据错乱
:::

## 网络限制

Jpom 的插件端和服务端通讯协议目前采用 HTTP+WebSocket 协议。

所以服务器需要能正常使用 HTTP 协议访问到插件端的端口才能正常添加节点。

如果您的网络环境下服务端不能正常访问到插件端端口需要您自行使用

- 内网穿透
- 端口代理
- 防火墙策略

等方案来解决

内网穿透可以采用：frp、ngrok、[neutrino-proxy](https://dromara.gitee.io/neutrino-proxy) 等常用软件来实现

### 可以只安装服务端吗？

可以，服务端在没有插件端时，节点相关功能均不可以，但是其他功能如：SSH 管理、Docker 管理、在线构建、文件管理、服务端脚本管理等可以正常使用

### 如果管理安装过服务端的服务器

在同一台服务器上安装插件端并添加到节点即可

### 一台服务器安装多个插件端

非常不建议如此操作

## 分布式、集群

Jpom 支持集群部署服务端、前提是您需要使用 mysql 数据库。

集群更详细说明请查阅集群相关文档：[集群管理](/pages/cluster/)

## 安装方式

我们提供了如下安装方式：

- 一键安装：插件端、服务端
- 下载安装：插件端、服务端
- 编译安装：插件端、服务端
- 容器安装：服务端

您可以根据使用情况来选择合适的安装方式

## 流程变动

如果您是第一次使用 Jpom 或者类似的 ops 软件，那么您之前如果使用纯原生方式来运维部署，您在使用 Jpom 后很大概率会涉及到您发布流程
使用思路、使用方式、操作步骤和规范，甚至需要调整代码来达到使用本软件系统适配来优化您的运维部署流程

**这个变动可能是很艰难的，但是变动后能`提高效率`以及带来的`标准化流程`也是值得的**

:::tip 温馨提醒
如果您不知道改如何变动，或者遇到问题，您可以添加我们社群咨询，如果您期望准确的咨询方案请参考[赞赏支持说明](/pages/praise/)
:::

## 过度方案

如果您在使用到本系统过程中发现有不足的地方您可以及时提出来，我们会评估是否有能替代的功能来满足您的需求。

### 有代替功能

您可能需要使用对应功能来适配您期望的需求

### 待优化的功能

如果有已有功能可以代替但是功能使用起来不是很方便和流畅，请您及时反馈我们会在后续版本考虑去优化相应功能

### 不能满足需求

如果有不能满足您的需求，您可以反馈给我们，我们会评估这个需求是否在 Jpom 产品规划范畴，有可能您期望的功能并未在 Jpom 短期或者长期的规划范畴

此时您需要考虑是否有能满足您此需求的其他产品了

如果相应功能只是我们还未开放（有规划）的情况还请您及时关注 Jpom 后续发版是否新增对应的功能

:::tip 温馨提醒
如果您期望在 Jpom 中提出需求或者新增功能您可以考虑[赞赏支持](/pages/praise/)来提高我们开发功能的积极性（开源不易请多多理解） 


------

如果需要定制化您也考虑企业服务由我们单独为您定制开发
:::