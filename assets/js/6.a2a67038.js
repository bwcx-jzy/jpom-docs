(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{320:function(t,s,a){},325:function(t,s,a){},374:function(t,s,a){"use strict";a(320)},379:function(t,s,a){"use strict";a(325)},389:function(t,s,a){"use strict";a.r(s);a(127),a(45),a(4),a(22);function n(t,s,a=50,n=3e3){var e=document.querySelectorAll(".global-tip"),r=(new Date).getTime(),p=0==e.length?0:e[e.length-1].getAttribute("data-top"),v=parseInt(p)+(0!=e.length?e[e.length-1].offsetHeight+17:a);let o=document.createElement("div");o.className=`global-tip tip-${s} ${r}`,o.style.top=parseInt(p)+"px",o.setAttribute("data-top",v),"info"==s||1==s?o.innerHTML=`<i class="iconfont icon-info icon"></i><p class="tip-info-content">${t}</p>`:"success"==s||2==s?o.innerHTML=`<i class="iconfont icon-dagouyouquan icon"></i><p class="tip-success-content">${t}</p>`:"danger"==s||3==s?o.innerHTML=`<i class="iconfont icon-cuowu icon"></i><p class="tip-danger-content">${t}</p>`:"warning"!=s&&4!=s||(o.innerHTML=`<i class="iconfont icon-gantanhao icon"></i><p class="tip-warning-content">${t}</p>`),document.body.appendChild(o);let _=document.getElementsByClassName(r)[0];setTimeout(()=>{_.style.top=parseInt(v)+"px",_.style.opacity="1"},10),setTimeout(()=>{_.style.top="0px",_.style.opacity="0";var t=function(t){for(var s=[],a=t;a;a=a.nextSibling)1===a.nodeType&&a!==t&&s.push(a);return s}(_);for(let n=0;n<t.length;n++){var s=t[n],a=parseInt(s.getAttribute("data-top"))-s.offsetHeight-17;s.setAttribute("data-top",a),s.style.top=a+"px"}setTimeout(()=>{_.remove()},500)},n)}var e={data:()=>({username:"",password:"",privateInfo:{username:"",password:"",loginKey:"",expire:"",loginInfo:"",allLoginKey:"kbt"}}),mounted(){document.onkeyup=t=>{13==window.event.keyCode&&this.login()}},methods:{login(){let{privateInfo:t}=this,{username:s,password:a,loginKey:e,expire:r,firstLoginKey:p,loginInfo:v}=this.$themeConfig.privatePage;if(!e&&(e="vdoing_manager"),r=this.getExpire(r),!r&&(r=864e5),this.username&&this.password)if("first"==this.$route.query.verifyMode){t.expire=r,!p&&(p="vdoing_first_login");let o=!1;v&&v.hasOwnProperty(p)&&(o=this.checkLoginInfoAndJump(v[p],p)),o||this.username!=s||this.password!=a?o||(this.password="",n("用户名或者密码错误！请联系博主获取用户名和密码！","danger")):this.storageLocalAndJump(e,!0)}else{if("single"==this.$route.query.verifyMode)try{this.$filterPosts.forEach(s=>{if(s.path==this.$route.query.toPath)throw t.username=s.frontmatter.username,t.password=s.frontmatter.password,t.loginKey=s.frontmatter.permalink,t.expire=this.getExpire(s.frontmatter.expire)||r,t.loginInfo=s.frontmatter.loginInfo,new Error})}catch(t){}let p=!1;t.username||t.password||t.loginInfo||(t.loginKey=this.$route.query.toPath,t.loginInfo=v,!t.expire&&(t.expire=r)),t.loginInfo&&(Array.isArray(t.loginInfo)?p=this.checkLoginInfoAndJump(t.loginInfo):t.loginInfo.hasOwnProperty(this.$route.query.toPath)&&(p=this.checkLoginInfoAndJump(t.loginInfo[this.$route.query.toPath]))),p||(this.username==t.username&&this.password==t.password?this.storageLocalAndJump(this.privateInfo.loginKey,!0):this.username==s&&this.password==a?this.storageLocalAndJump(e,!0):(this.password="",n("用户名或者密码错误！请联系博主获取用户名和密码！","danger")))}else""==this.username&&""!=this.password?n("用户名不能为空！","warning"):""!=this.username&&""==this.password?n("密码不能为空！","warning"):n("您访问的文章是私密文章，请先输入用户名和密码！","info")},checkLoginInfoAndJump(t=this.privateInfo.loginInfo,s=this.privateInfo.loginKey){try{t.forEach(t=>{if(this.username==t.username&&this.password==t.password)throw this.storageLocalAndJump(s,!0),new Error})}catch(t){return!0}return!1},storageLocalAndJump(t=this.privateInfo.loginKey,s=!0){const a=JSON.stringify({username:this.username,password:this.password,time:(new Date).getTime(),expire:this.privateInfo.expire});window.localStorage.setItem(t,a),s&&(n("登录成功，正在跳转 ...","success"),this.$route.query.toPath?this.$router.push({path:this.$route.query.toPath}):this.$router.push({path:"/"}))},getExpire:t=>(t&&(t=-1!==t.indexOf("d")?24*parseInt(t.replace("d",""))*60*60*1e3:-1!==t.indexOf("h")?60*parseInt(t.replace("h",""))*60*1e3:1e3*parseInt(t)),t)}},r=(a(379),a(8)),p=Object(r.a)(e,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"login-form"},[s("div",{staticClass:"form-header"},[t._v("用户名")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入用户名 ..."},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-header"},[t._v("密码")]),t._v(" "),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请输入密码 ..."},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),t._v(" "),s("div",{staticClass:"btn-row"},[s("button",{staticClass:"btn",on:{click:t.login}},[t._v("登录")])])])}),[],!1,null,null,null);s.default=p.exports},400:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("Jpom 中有在线构建，那么可以使用 Jpom 本身相关的功能实现 Jpom 每次的版本发版吗？")]),t._v(" "),s("p",[s("strong",[t._v("当然可以的！！")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("声明")]),t._v(" "),s("p",[t._v("本文档想要建立在您对 Jpom 已经有一定的熟悉度后的高阶操作。\n里面涉及到一些基础功能的使用。\n如果您还是新手入门 Jpom ，还想要您看看其他相关文档或者上手操作后再来看看本文档来找解决方案灵感")])]),t._v(" "),s("blockquote",[s("p",[t._v("本文默认您已经会使用 Jpom 的基础功能了，不再讲解如果安装 Jpom，如果有不会的可以参考其他文档")])]),t._v(" "),s("blockquote",[s("p",[t._v("注意：本文采用基于 2.10.21 版本讲解,系统为 centos")])]),t._v(" "),s("p",[t._v("我们先梳理一下 Jpom 发版的流程：")]),t._v(" "),s("h3",{attrs:{id:"手动版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动版"}},[t._v("#")]),t._v(" 手动版")]),t._v(" "),s("blockquote",[s("p",[t._v("手动版是指，未使用 Jpom 来实现发版的流程")])]),t._v(" "),s("ol",[s("li",[t._v("将 dev 分支合并到 master")]),t._v(" "),s("li",[t._v("changelog 版本增加发版日期")]),t._v(" "),s("li",[t._v("更新代码版本号："),s("code",[t._v("cd ./jpom-parent/script && sh replaceVersion.sh 2.x.x")])]),t._v(" "),s("li",[t._v("打包前端："),s("code",[t._v("npm i && npm run build")])]),t._v(" "),s("li",[t._v("打包后端："),s("code",[t._v("mvn clean package")])]),t._v(" "),s("li",[t._v("人工测试服务端包和插件端包是否可以正常启动")]),t._v(" "),s("li",[t._v("提交一个 commit 2.x.x")]),t._v(" "),s("li",[t._v("基于 commit 新增 tag: v2.x.x 并且将代码推送到远程")]),t._v(" "),s("li",[t._v("将包上传到 oss : "),s("code",[t._v("sh deploy-release-oss.sh")])]),t._v(" "),s("li",[t._v("更新文档版本号："),s("code",[t._v("cd ./docs/script && sh replaceVersion.sh 2.x.x")])]),t._v(" "),s("li",[t._v("手动 copy 更新文档 changelog")]),t._v(" "),s("li",[t._v("发布文档："),s("code",[t._v("sh deploy-docs-pages.sh")])]),t._v(" "),s("li",[t._v("测试远程更新是否正常")]),t._v(" "),s("li",[t._v("发布服务端 docker 镜像包 "),s("code",[t._v("docker buildx build --platform linux/amd64,linux/arm64 -t jpomdocker/jpom:2.x.x -t jpomdocker/jpom:latest -f ./modules/server/DockerfileRelease --push .")])]),t._v(" "),s("li",[t._v("添加 gitee、github 发行版")]),t._v(" "),s("li",[t._v("可选填写发版公告")])]),t._v(" "),s("h3",{attrs:{id:"自动版"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动版"}},[t._v("#")]),t._v(" 自动版")]),t._v(" "),s("blockquote",[s("p",[t._v("自动版是指使用 Jpom 里面的构建功能来实现发版流程，减少人为操作")])]),t._v(" "),s("ol",[s("li",[t._v("将 dev 分支合并到 master")]),t._v(" "),s("li",[t._v("人工打包并测试相关功能")]),t._v(" "),s("li",[t._v("changelog 版本增加发版日期")]),t._v(" "),s("li",[t._v("执行-发布代码任务 (注意修改构建命令版本号)")]),t._v(" "),s("li",[t._v("基于 commit 新增 tag: v2.x.x 并且将代码推送到远程")]),t._v(" "),s("li",[t._v("手动 copy 更新文档 changelog")]),t._v(" "),s("li",[t._v("执行-发布文档 (注意修改构建命令版本号)")]),t._v(" "),s("li",[t._v("测试远程更新是否正常")]),t._v(" "),s("li",[t._v("执行-发布镜像")]),t._v(" "),s("li",[t._v("添加 gitee、github 发行版")]),t._v(" "),s("li",[t._v("可选填写发版公告")])]),t._v(" "),s("h3",{attrs:{id:"核心流程总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#核心流程总结"}},[t._v("#")]),t._v(" 核心流程总结")]),t._v(" "),s("ol",[s("li",[t._v("需要快速更改 pom.xml 版本号")]),t._v(" "),s("li",[t._v("需要前构建前端 vue")]),t._v(" "),s("li",[t._v("前端构建完成后再构建后端 java")]),t._v(" "),s("li",[t._v("需要将构建完成的文件包上传到远程存储中")]),t._v(" "),s("li",[t._v("发布文档来实现更新新版本的信息（实现客户端知道有新版本）")]),t._v(" "),s("li",[t._v("为服务端发布 docker 镜像，并推送到 docker hub 远程仓库")])]),t._v(" "),s("h3",{attrs:{id:"需要使用到的相关功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#需要使用到的相关功能"}},[t._v("#")]),t._v(" 需要使用到的相关功能")]),t._v(" "),s("ol",[s("li",[t._v("仓库管理")]),t._v(" "),s("li",[t._v("在线构建\n"),s("ol",[s("li",[t._v("构建发布本地命令")]),t._v(" "),s("li",[t._v("构建的事件脚本")]),t._v(" "),s("li",[t._v("附件环境变量")])])]),t._v(" "),s("li",[t._v("服务端脚本")])]),t._v(" "),s("h2",{attrs:{id:"创建相关的构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建相关的构建"}},[t._v("#")]),t._v(" 创建相关的构建")]),t._v(" "),s("p",[t._v("这里我们为了保留整个流程能分开控制和为了检查发版过程中的正确性，分开创建三个构建来实现。")]),t._v(" "),s("ol",[s("li",[t._v("发布安装包")]),t._v(" "),s("li",[t._v("发布文档")]),t._v(" "),s("li",[t._v("发布 docker 镜像")])]),t._v(" "),s("h3",{attrs:{id:"发布安装包的构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布安装包的构建"}},[t._v("#")]),t._v(" 发布安装包的构建")]),t._v(" "),s("p",[t._v("构建的配置截图")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("事件脚本里配置截图")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("我这里事件脚本中只实现了："),s("code",[t._v("release")]),t._v("，您需要跟进您想要实现的对应事件来填写")])]),t._v(" "),s("p",[s("strong",[t._v("构建命令：")])]),t._v(" "),s("p",[t._v("这里为了实现自动 commit 代码，我在构建服务器中手动安装了 git，并配置了全局凭证")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--system")]),t._v(" user.name "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bwcx_jzy"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--system")]),t._v(" user.email "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bwcx_jzy@163.com"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("old_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ./docs/version.txt"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\nmvn "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" ./script/settings.xml clean\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$old_version")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"版本一致不用替换"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./script/replaceVersion.sh "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v("\n \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#message="commit $now_version" ')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" web-vue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/\n\nmvn  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" ./script/settings.xml clean package \n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("p",[s("strong",[t._v("发布命令：")])]),t._v(" "),s("p",[t._v("这里发布命令只是为了随意输出，最终还是通过事件脚本来实现了上传安装包到远程。当然您也可以将对应的脚本配置到发布命令中，跟进自己的情况来决定（随意搭配）")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_RESULT_FILE}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_RESULT_FILE}")]),t._v("/modules/server/target/checksums.csv\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_RESULT_FILE}")]),t._v("/modules/agent/target/checksums.csv\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"发布事件脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布事件脚本"}},[t._v("#")]),t._v(" 发布事件脚本")]),t._v(" "),s("p",[t._v("这里注意，发布事件脚本中，要想获取构建相关的文件只能通过环境变量来实现：")]),t._v(" "),s("ol",[s("li",[t._v("$buildResultFile")])]),t._v(" "),s("p",[t._v("更多环境变量，可以参考构建页面的小问号")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("current_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    Linux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("bin_abs_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("readlink "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),t._v("dirname "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("bin_abs_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),t._v("dirname $0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DIR_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$buildResultFile")]),t._v("/\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("now_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v('/docs/version.txt"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("now_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $now_version "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n\\r'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前路径：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${current_path}")]),t._v(" 脚本路径："),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${bin_abs_path}")]),t._v(",目录："),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v(" 当前版本："),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$now_version")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ERROR: 版本不存在，请确认 /docs/version.txt 中信息正确"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${OS}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\nLinux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ossUtil")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ossutil64'")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nDarwin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ossUtil")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ossutilmac64'")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unsupported os: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${OS}")]),t._v('"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${OS}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(' 开始上传"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"同步到 agent oss 中"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步到 agent oss 中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/agent/target/agent-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.tar.gz oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/agent/target/agent-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.tar.gz.sha1 oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/agent/target/agent-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/agent/target/agent-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip.sha1 oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"同步到 server oss 中"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步到 server oss 中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/server/target/server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.tar.gz oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/server/target/server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.tar.gz.sha1 oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/server/target/server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/server/target/server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip.sha1 oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/jpom-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v(".zip\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("zip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-rj")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/jpom-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v(".zip "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/server/target/server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/modules/agent/target/agent-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("-release.zip\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"完整的压缩包"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 完整的压缩包")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/jpom-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v(".zip oss://jpom-releases/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v("/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/jpom-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${now_version}")]),t._v(".zip\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上传结束"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"验证 sha1sum"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${DIR_PATH}")]),t._v("/script/release-sha1sum.sh\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br")])]),s("h3",{attrs:{id:"发布文档的构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布文档的构建"}},[t._v("#")]),t._v(" 发布文档的构建")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("构建命令：")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--system")]),t._v(" user.name "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bwcx_jzy"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--system")]),t._v(" user.email "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bwcx_jzy@163.com"')]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("old_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" ./docs/.vuepress/public/docs/versions.release.tag"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$old_version")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"版本一致不用替换"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./script/replaceVersion.sh "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#message="commit $now_version" ')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"update"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docs"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pages"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("p",[s("strong",[t._v("发布命令：")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_RESULT_FILE}")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("OS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${OS}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\nLinux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ossUtil")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ossutil64'")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nDarwin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ossUtil")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ossutilmac64'")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Unsupported os: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${OS}")]),t._v('"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步到 oss 中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${ossUtil}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${BUILD_RESULT_FILE}")]),t._v(" oss://jpom-docs/ "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--delete")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--exclude")]),t._v(" .DS_Store\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("h3",{attrs:{id:"发布-docker-镜像构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布-docker-镜像构建"}},[t._v("#")]),t._v(" 发布 docker 镜像构建")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("Jpom 的发布 docker 镜像为基于已经发布的安装去生成的镜像，随意这里就简单很多了")]),t._v(" "),s("p",[t._v("构建命令就随意填写的")]),t._v(" "),s("p",[s("strong",[t._v("发布命令")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JPOM_VERSION")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" buildx build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--platform")]),t._v(" linux/amd64,linux/arm64 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" jpomdocker/jpom:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JPOM_VERSION")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" jpomdocker/jpom:latest "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" ./modules/server/DockerfileRelease "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--push")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[s("strong",[t._v("附件环境变量：")])]),t._v(" "),s("p",[t._v("是指读取仓库文件下的指定文件，并解析为环境变量")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_4.png",alt:"img_4.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("这里的变量值，已经在发布安装包的时候，自动替换更为新版本啦")]),t._v(" "),s("h4",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),s("p",[t._v("在 linux 下使用 docker buildx 想要提前安装的奥，docker buildx 安装方式在不同内核版本有一定差异")]),t._v(" "),s("p",[t._v("送您一个避坑文档："),s("a",{attrs:{href:"https://blog.bwcxtech.com/posts/43dd6afb/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.bwcxtech.com/posts/43dd6afb/"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"触发构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#触发构建"}},[t._v("#")]),t._v(" 触发构建")]),t._v(" "),s("p",[t._v("Jpom 发版都是手动触发，并且每个版本的版本号不一样，相当于每次构建都想要修改版本号")]),t._v(" "),s("p",[s("strong",[t._v("构建安装包")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("这里在每次触发构建时候修改环境变量的值为最新版本，并且替换版本号脚本里面也有验证重复构建")]),t._v(" "),s("p",[s("strong",[t._v("构建文档")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/build-jpom/img_6.png",alt:"img_6.png",loading:"lazy"}})]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("整体流程是：")]),t._v(" "),s("ol",[s("li",[t._v("使用构建调用替换版本号脚本来实现批量修改 pom.xml、相关文件的版本号\n"),s("ol",[s("li",[t._v("替换版本号的参数由"),s("code",[t._v("构建参数")]),t._v("传递进来")])])]),t._v(" "),s("li",[t._v("使用 git 将替换版本号后的代码提交到远程")]),t._v(" "),s("li",[t._v("构建前端 + 后端")]),t._v(" "),s("li",[t._v("使用事件脚本执行文件上传、验证文件完整性")]),t._v(" "),s("li",[t._v("使用构建发布文档（思路流程和发布安装包一致）")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("docker buildx")]),t._v(" 实现构建多内核镜像\n"),s("ol",[s("li",[t._v("使用构建"),s("code",[t._v("附加环境变量")]),t._v("来实现 dokcer 命令读取变量，来实现自动更新版本号")])])])]),t._v(" "),s("h2",{attrs:{id:"附件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附件"}},[t._v("#")]),t._v(" 附件")]),t._v(" "),s("h3",{attrs:{id:"快速替换版本号脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速替换版本号脚本"}},[t._v("#")]),t._v(" 快速替换版本号脚本")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#-----------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此脚本用于每次升级时替换相应位置的版本号")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#-----------------------------------------------------------")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" errexit\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("current_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uname")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\nLinux"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("bin_abs_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("readlink "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),t._v("dirname $0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n*"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("bin_abs_path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$(")]),t._v("dirname $0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("base")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${bin_abs_path}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前路径：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${current_path}")]),t._v(" 脚本路径："),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${bin_abs_path}")]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("new_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("old_version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("base"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("/docs/version.txt"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$old_version")]),t._v(" 替换为新版本 "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 参数错误，退出")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ERROR: 请指定新版本！"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$old_version")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ERROR: 旧版本不存在，请确认 /docs/version.txt 中信息正确"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 替换所有模块pom.xml中的版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${base}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" mvn versions:set "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-DnewVersion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"替换配置文件版本号 '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v('/.env"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 替换 docker 中的版本")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/.env\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 替换 Dockerfile 中的版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/modules/server/Dockerfile\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/modules/agent/Dockerfile\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/script/docker.sh\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/modules/server/DockerfileRelease\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# logo")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/modules/common/src/main/resources/banner.txt\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue version")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/web-vue/package.json\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# release-sha1sum.sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/script/release-sha1sum.sh\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gitee go")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i.bak")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s/'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${old_version}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${new_version}")]),t._v('/g"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/.workflow/MasterPipeline.yml\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保留新版本号")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$base")]),t._v("/docs/version.txt\n\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"版本号替换成功 '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$new_version")]),t._v('"')]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br")])]),s("h3",{attrs:{id:"构建容器-dockerfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建容器-dockerfile"}},[t._v("#")]),t._v(" 构建容器 dockerfile")]),t._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" maven:3.8.6-jdk-8")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ARG")]),t._v(" BUILD_DATE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LABEL")]),t._v(" build_info="),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dromara/Jpom build-date:- ${BUILD_DATE}"')])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LABEL")]),t._v(" maintainer="),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bwcx-jzy <bwcx_jzy@163.com>"')])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LABEL")]),t._v(" documentation="),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://jpom.top"')])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JPOM_HOME\t/usr/local/jpom-server")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JPOM_PKG_VERSION\t2.10.22")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JPOM_PKG\tserver-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG_VERSION}")]),t._v("-release.tar.gz")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" SHA1_NAME server-"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG_VERSION}")]),t._v("-release.tar.gz.sha1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JPOM_DATA_PATH "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/data")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JPOM_LOG_PATH "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/logs")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" jpom.path "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_DATA_PATH}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 时区")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" TZ Asia/Shanghai")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" ln -snf /usr/share/zoneinfo/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${TZ}")]),t._v(" /etc/localtime && echo "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${TZ}")]),t._v(" > /etc/timezone")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mkdir -p "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" curl -LfSo "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG}")]),t._v(" https://d.jpom.download/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG_VERSION}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" curl -LfsSo "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${SHA1_NAME}")]),t._v(" https://d.jpom.download/release/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG_VERSION}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${SHA1_NAME}")]),t._v(" && "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("\\")]),t._v("\n    ESUM=`cat "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${SHA1_NAME}")]),t._v("` && "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("\\")]),t._v("\n    echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${ESUM} ${JPOM_HOME}/${JPOM_PKG}"')]),t._v(" | sha1sum -c -;")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" tar -zxvf "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG}")]),t._v(" -C "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" rm -rf "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_HOME}")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_PKG}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将配置文件暂存默认目录，避免无法挂载")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RUN")]),t._v(" mv "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JPOM_HOME")]),t._v("/conf "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JPOM_HOME")]),t._v("/conf_default")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 健康检查")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("HEALTHCHECK")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CMD")]),t._v(" curl -X POST -f http://localhost:2122/check-system || exit 1")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 2122")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./bin/BlockListener.sh"')]),t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports},440:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"/images/tutorial/f606531a8b16b027e7dd2b8d14d752a63c332e96.jpg",alt:"banner",loading:"lazy"}})]),t._v(" "),s("p",[t._v("📖本文将以 "),s("a",{attrs:{href:"https://jpom.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom"),s("OutboundLink")],1),t._v(" 为实际案例分享在 Java 项目中如何实现自动升级的功能。本文满满的干货，希望对大家有所启发或者帮助 🤔。")]),t._v(" "),s("p",[t._v("💡文章预计阅读时长：15 ~ 20 分钟，建议先收藏再阅读避免后续找不到")]),t._v(" "),s("h2",{attrs:{id:"jpom-简介-📰"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpom-简介-📰"}},[t._v("#")]),t._v(" Jpom 简介 📰")]),t._v(" "),s("p",[t._v("🚀 "),s("a",{attrs:{href:"https://jpom.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom"),s("OutboundLink")],1),t._v(" 是一款开源的项目运维系统，主要面向中小型企业团队，提供项目日常的部署、构建、脚本管理、SSH终端、Docker UI 等功能。")]),t._v(" "),s("p",[t._v("🚀 "),s("a",{attrs:{href:"https://jpom.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom"),s("OutboundLink")],1),t._v(" 更是一款原生 ops 软件，给您带来了万物皆可脚本化的体验。")]),t._v(" "),s("h3",{attrs:{id:"目前用户-🔥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目前用户-🔥"}},[t._v("#")]),t._v(" 目前用户 🔥")]),t._v(" "),s("p",[t._v("根据目前的用户反馈+公开数据统计（保守估计）：")]),t._v(" "),s("ol",[s("li",[t._v("目前用户（公司）已经达 "),s("strong",[t._v("500+")])]),t._v(" "),s("li",[t._v("涉及服务器已经达 "),s("strong",[t._v("3000+")])])]),t._v(" "),s("p",[t._v("数据并且还在不断增加中")]),t._v(" "),s("ul",[s("li",[t._v("Jpom 仓库："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Jpom 文档："),s("a",{attrs:{href:"https://jpom.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://jpom.top"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"升级背景-💬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级背景-💬"}},[t._v("#")]),t._v(" 升级背景 💬")]),t._v(" "),s("p",[t._v("日常使用很多桌面软件，都会遇到软件升级的情况。绝大多数的软件均支持弹窗提示新版本并且点击升级按钮后自动完成整个升级流程，让用户无须过多操作即可，满满的便利性。")]),t._v(" "),s("p",[t._v("但是在我们 Java 程序中实现类似的功能的软件项目不是很多，其中不泛一些客观因素不需要此功能，但是在一些小项目、公司内部项目、开源项目中，此功能还是能给使用者（用户）带来极大的便利性。")]),t._v(" "),s("h3",{attrs:{id:"java-项目的局限性-❗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-项目的局限性-❗"}},[t._v("#")]),t._v(" Java 项目的局限性 ❗")]),t._v(" "),s("p",[t._v("通常一个 Java 项目在服务器中运行时是独立运行的，没有守护程序或者其他进程来监控和管理（ "),s("em",[t._v("如果可以靠守护程序和监管程序升级方式可以更多样化，此方式不在本地讨论范畴中")]),t._v(" ）。")]),t._v(" "),s("p",[t._v("这样的场景要实现升级就存在一个局限性，程序必须自身控制关闭自身并且启动新的程序包，但 Jpom 经过多版本和不同用户使用场景实践后发现 Java 项目也能轻松实现自动升级。")]),t._v(" "),s("h3",{attrs:{id:"jpom-中支持的升级方式有-🔖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpom-中支持的升级方式有-🔖"}},[t._v("#")]),t._v(" Jpom 中支持的升级方式有 🔖")]),t._v(" "),s("ol",[s("li",[t._v("在线升级")]),t._v(" "),s("li",[t._v("上传升级")]),t._v(" "),s("li",[t._v("手动升级")])]),t._v(" "),s("ul",[s("li",[t._v("在线升级和上传升级的原理是一致的，更新程序包的来源方式不一致。")]),t._v(" "),s("li",[t._v("在线升级是自动下载新的程序包、上传升级是手动上传新的程序包到系统中。")]),t._v(" "),s("li",[t._v("手动升级是最原始的大家平常使用的升级方式：手动下载新的程序包、手动上传新的程序包到服务器中。")])]),t._v(" "),s("p",[t._v("Jpom 升级文档："),s("RouterLink",{attrs:{to:"/pages/FQA/upgrade/"}},[t._v("文档")])],1),t._v(" "),s("h2",{attrs:{id:"升级前提-📌"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级前提-📌"}},[t._v("#")]),t._v(" 升级前提 📌")]),t._v(" "),s("p",[t._v("不同软件的使用场景、用户群体、整体架构等不同，导致部分软件是不能使用自动升级的方式（ "),s("em",[t._v("不能使用自动升级的细节情况不在本文讨论范畴中")]),t._v(" ）。")]),t._v(" "),s("p",[t._v("一般来说可以实现自动升级的软件有如下特点：")]),t._v(" "),s("ul",[s("li",[t._v("独立运行：项目本身是单机运行的，不涉及到分布式集群。")]),t._v(" "),s("li",[t._v("依赖简单：项目不依赖过多的外部组件。")]),t._v(" "),s("li",[t._v("业务平滑：业务逻辑变更不会影响旧版本数据的兼容性。")]),t._v(" "),s("li",[t._v("环境稳定：项目运行环境相对稳定，无需频繁调整配置。")])]),t._v(" "),s("h3",{attrs:{id:"通用升级流程-🏗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通用升级流程-🏗"}},[t._v("#")]),t._v(" 通用升级流程 🏗")]),t._v(" "),s("ol",[s("li",[t._v("检查是否有新版本；")]),t._v(" "),s("li",[t._v("判断是否可以平滑升级；")]),t._v(" "),s("li",[t._v("下载/上传升级包；")]),t._v(" "),s("li",[t._v("执行升级流程；\n"),s("ul",[s("li",[t._v("数据升级")]),t._v(" "),s("li",[t._v("程序包升级")])])]),t._v(" "),s("li",[t._v("等待升级结果。")])]),t._v(" "),s("h2",{attrs:{id:"程序变动-🛠"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#程序变动-🛠"}},[t._v("#")]),t._v(" 程序变动 🛠")]),t._v(" "),s("p",[t._v("如果需要使用 Java 实现自动升级那么您需要对程序做如下变动调整：")]),t._v(" "),s("ol",[s("li",[t._v("程序能自动升级数据库表结构（核心变动）")]),t._v(" "),s("li",[t._v("需要将您的程序调整为脚本控制（大多数程序均是如此）")]),t._v(" "),s("li",[t._v("程序能兼容不同版本的配置文件（向下兼容）")]),t._v(" "),s("li",[t._v("实现升级的业务流程（一般是 web 项目需要管理页面）")])]),t._v(" "),s("h3",{attrs:{id:"数据库-💿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库-💿"}},[t._v("#")]),t._v(" 数据库 💿")]),t._v(" "),s("blockquote",[s("p",[t._v("数据库表结构升级是实现自动升级的核心问题，如果您的项目不使用数据库可以忽略此环节。")])]),t._v(" "),s("p",[t._v("大多数软件的版本升级均是提前手动处理数据库表结构，然后在手动升级（替换）程序包")]),t._v(" "),s("p",[t._v("要实现自动升级就必须解决数据库表结构升级的问题。")]),t._v(" "),s("p",[t._v("数据库表结构升级自动化解决办法通常可以使用第三方工具，\n如 "),s("a",{attrs:{href:"https://flywaydb.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("FlyWay"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://github.com/liquibase/liquibase",target:"_blank",rel:"noopener noreferrer"}},[t._v("Liquibase"),s("OutboundLink")],1),t._v(" 等\n（ "),s("em",[t._v("本文主要使用 Jpom 作为案例，使用工具库不在本文讨论范畴")]),t._v("）。")]),t._v(" "),s("p",[t._v("如果您的程序规模和复杂度不高，可以考虑自研实行数据库表结构升级。")]),t._v(" "),s("p",[t._v("Jpom 中目前就是采用自研实现的数据库升级（Jpom 中目前并未考虑回退版本的情况）")]),t._v(" "),s("p",[t._v("实现思路：（如有不足还请帮忙更正）")]),t._v(" "),s("ol",[s("li",[t._v("CSV 记录数据库表结构")]),t._v(" "),s("li",[t._v("程序启动时读取 CSV 文件")]),t._v(" "),s("li",[t._v("解析为数据库的 DLL 语句")]),t._v(" "),s("li",[t._v("判断是否以及执行过")]),t._v(" "),s("li",[t._v("执行 DLL 语句")]),t._v(" "),s("li",[t._v("缓存成功执行的 DLL 语句")])]),t._v(" "),s("h4",{attrs:{id:"csv-规范-📑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#csv-规范-📑"}},[t._v("#")]),t._v(" CSV 规范 📑")]),t._v(" "),s("p",[t._v("这里我们提前规划好完整的表、后期修改的表 、变更表索引、需要执行的扩展 SQL，可以总结为四大类型："),s("code",[t._v("新增表")]),t._v("、"),s("code",[t._v("修改表")]),t._v("、"),s("code",[t._v("创建/修改索引")]),t._v("、"),s("code",[t._v("扩展 SQL")])]),t._v(" "),s("blockquote",[s("p",[t._v("下列定义的 CSV 规范仅供参考实际需要根据您的业务情况和数据库进行适当调整")]),t._v(" "),s("p",[t._v("Jpom 中目前仅兼容了 H2、Mysql 数据库")])]),t._v(" "),s("p",[s("strong",[t._v("Jpom 中新增表规则示例")])]),t._v(" "),s("div",{staticStyle:{"overflow-x":"auto"}},[s("table",[s("thead",[s("tr",[s("th",[t._v("tableName")]),t._v(" "),s("th",[t._v("name")]),t._v(" "),s("th",[t._v("type")]),t._v(" "),s("th",[t._v("len")]),t._v(" "),s("th",[t._v("defaultValue")]),t._v(" "),s("th",[t._v("notNull")]),t._v(" "),s("th",[t._v("primaryKey")]),t._v(" "),s("th",[t._v("comment")]),t._v(" "),s("th",[t._v("tableComment")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("SCRIPT_INFO")]),t._v(" "),s("td",[t._v("id")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("50")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("id")]),t._v(" "),s("td",[t._v("节点脚本模版")])]),t._v(" "),s("tr",[s("td",[t._v("SCRIPT_INFO")]),t._v(" "),s("td",[t._v("createTimeMillis")]),t._v(" "),s("td",[t._v("Long")]),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("数据创建时间")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("SCRIPT_INFO")]),t._v(" "),s("td",[t._v("modifyTimeMillis")]),t._v(" "),s("td",[t._v("Long")]),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("数据修改时间")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("SCRIPT_INFO")]),t._v(" "),s("td",[t._v("modifyUser")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("50")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("false")]),t._v(" "),s("td",[t._v("修改人")]),t._v(" "),s("td")])])])]),t._v(" "),s("p",[s("strong",[t._v("Jpom 中修改表规则示例")])]),t._v(" "),s("div",{staticStyle:{"overflow-x":"auto"}},[s("table",[s("thead",[s("tr",[s("th",[t._v("alterType")]),t._v(" "),s("th",[t._v("tableName")]),t._v(" "),s("th",[t._v("name")]),t._v(" "),s("th",[t._v("type")]),t._v(" "),s("th",[t._v("len")]),t._v(" "),s("th",[t._v("defaultValue")]),t._v(" "),s("th",[t._v("comment")]),t._v(" "),s("th",[t._v("notNull")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ADD")]),t._v(" "),s("td",[t._v("PROJECT_INFO")]),t._v(" "),s("td",[t._v("triggerToken")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("100")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("触发器token")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ALTER")]),t._v(" "),s("td",[t._v("FILE_STORAGE")]),t._v(" "),s("td",[t._v("name")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("255")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("名称")]),t._v(" "),s("td",[t._v("true")])]),t._v(" "),s("tr",[s("td",[t._v("DROP")]),t._v(" "),s("td",[t._v("SSHTERMINALEXECUTELOG")]),t._v(" "),s("td",[t._v("optTime")]),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td"),t._v(" "),s("td")])])])]),t._v(" "),s("p",[s("strong",[t._v("Jpom 中索引规则示例")])]),t._v(" "),s("div",{staticStyle:{"overflow-x":"auto"}},[s("table",[s("thead",[s("tr",[s("th",[t._v("indexType")]),t._v(" "),s("th",[t._v("tableName")]),t._v(" "),s("th",[t._v("name")]),t._v(" "),s("th",[t._v("field")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("ADD-UNIQUE")]),t._v(" "),s("td",[t._v("USER_INFO")]),t._v(" "),s("td",[t._v("USER_INF_SALT_INDEX1")]),t._v(" "),s("td",[t._v("salt")])]),t._v(" "),s("tr",[s("td",[t._v("ADD")]),t._v(" "),s("td",[t._v("STATIC_FILE_STORAGE")]),t._v(" "),s("td",[t._v("DIR_TASK_ID")]),t._v(" "),s("td",[t._v("staticDir+scanTaskId")])]),t._v(" "),s("tr",[s("td",[t._v("ADD")]),t._v(" "),s("td",[t._v("TRIGGER_TOKEN_LOG")]),t._v(" "),s("td",[t._v("TRIGGER_TOKEN_TYPE")]),t._v(" "),s("td",[t._v("type")])])])])]),t._v(" "),s("p",[s("strong",[t._v("Jpom 中扩展 SQL 规则")])]),t._v(" "),s("p",[t._v("如果数据库在一定情况下需要执行一些初始化操作，版本变更需要对数据进行默认操作或者批量修改、删除、新增等\n您可以使用扩展 SQL 来实现，扩展 SQL 唯一需要注意的就是分割符了，因为 JDBC 批量执行多条 SQL 只会执行第一条，后续的将自动忽略，需要您自行分割后再执行。")]),t._v(" "),s("p",[t._v("在 Jpom 中为了保证 DLL 语句重复执行不报错，或者减少不必要的 DLL 语句执行，在"),s("code",[t._v("添加字段")]),t._v("、"),s("code",[t._v("删除字段")]),t._v("、"),s("code",[t._v("删除索引")]),t._v("操作时候依赖数据库函数实现，此时就需要提前执行创建函数的 SQL,来达到后续操作可以顺利执行。")]),t._v(" "),s("p",[t._v("参考 SQL："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/resources/sql-view/execute.mysql.v1.0.sql",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/resources/sql-view/execute.mysql.v1.0.sql"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"缓存-dll-记录-🧾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缓存-dll-记录-🧾"}},[t._v("#")]),t._v(" 缓存 DLL 记录 🧾")]),t._v(" "),s("p",[t._v("大多数数据库 DLL 语句并不是幂等的，多次执行同一个 DLL 语句可能会报错，这样就是我们非常不期望出现的。")]),t._v(" "),s("p",[t._v("推荐方案在执行 DLL 语句前将签名一次（"),s("code",[t._v("MD5")]),t._v("、"),s("code",[t._v("SHA1")]),t._v("）,判断签名后的值是否以及被执行过，如果没有执行则执行并缓存成功。")]),t._v(" "),s("p",[t._v("Jpom 相关代码参考地址：")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/tree/master/modules/server/src/main/resources/sql-view",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/tree/master/modules/server/src/main/resources/sql-view"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/storage-module/storage-module-common/src/main/java/org/dromara/jpom/db/IStorageSqlBuilderService.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/blob/master/modules/storage-module/storage-module-common/src/main/java/org/dromara/jpom/db/IStorageSqlBuilderService.java"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/java/org/dromara/jpom/system/db/InitDb.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/java/org/dromara/jpom/system/db/InitDb.java"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"管理脚本-🧩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理脚本-🧩"}},[t._v("#")]),t._v(" 管理脚本 🧩")]),t._v(" "),s("p",[t._v("在管理 Java 项目的脚本通常要考虑实现：对应的项目启动、停止、重启、查询状态。")]),t._v(" "),s("p",[t._v("要实现自动升级其实我们只需要在您原有的管理脚本中调整启动环节即可，主要需要考虑如何识别到新版本的程序包、项目的控制台日志文件使用的路径即可。")]),t._v(" "),s("p",[t._v("管理脚本会业务不同使用环境有所不同 Linux、Windows（一定要注意文件句柄被占用的情况）、MacOS 等等，所以我们需要根据不同的操作系统来编写不同的管理脚本。")]),t._v(" "),s("h4",{attrs:{id:"实现方案-👏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实现方案-👏"}},[t._v("#")]),t._v(" 实现方案 👏")]),t._v(" "),s("ol",[s("li",[t._v("替换管理脚本中的值（较复杂）")]),t._v(" "),s("li",[t._v("自动读取标记文件（推荐）")])]),t._v(" "),s("blockquote",[s("p",[t._v("如有更优方案恳请分享")]),t._v(" "),s("p",[t._v("Jpom 中早期版本使用的是方案 1，后期版本使用的是方案 2。")])]),t._v(" "),s("p",[t._v("方案一的缺点：程序需要修改管理脚本文件，容易产生修改前后编码格式不一致，脚本规则定义不明确会出现难替换问题")]),t._v(" "),s("h4",{attrs:{id:"推荐实现-👍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推荐实现-👍"}},[t._v("#")]),t._v(" 推荐实现 👍")]),t._v(" "),s("p",[t._v("我们推荐您使用标记文件的方案来实现，主要流程如下：")]),t._v(" "),s("p",[t._v("在管理脚本启动流程（函数）读取标记文件中的值来来运行程序。")]),t._v(" "),s("p",[t._v("假设我们管理脚本定义来如下变量：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Lib")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${base}")]),t._v('/lib/"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("LogPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${base}")]),t._v('/logs/"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RUN_JAR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Log")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${LogPath}")]),t._v('/stdout.log"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("当我们在启动时候先判断标记文件是否存在（假设这里我们定义标记文件为："),s("code",[t._v("run.bin")]),t._v("），\n如果存在标记文件我们则读取这个文件里面的值并将其赋值给 "),s("code",[t._v("RUN_JAR")]),t._v(" 变量，\n如果不存在标记文件表示第一次启动，我们建议您读取 Lib 目录下面的第一个 jar 包并将其赋值给 "),s("code",[t._v("RUN_JAR")]),t._v(" 变量，\n如果 Lib 目录下面没有 jar 包，则表示没有可运行的程序，程序启动失败。")]),t._v(" "),s("p",[t._v("经过上述流程我们即可拼接最终的启动命令。")]),t._v(" "),s("p",[s("code",[t._v("nohup java -server -XX:+UseG1GC XXXX -jar ${Lib}/${RUN_JAR} XXXX >>$Log 2>&1 &")])]),t._v(" "),s("p",[t._v("如果您是 classpath 模式运行其实类似的方式只能需要修改生成所有的 jar 全路径和最终的启动命令即可。")]),t._v(" "),s("p",[t._v("Jpom 中的实现函数截取示例（Linux）：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("checkConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-z")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RUN_JAR}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Lib")]),t._v('/run.bin"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RUN_JAR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Lib")]),t._v('/run.bin"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Lib")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RUN_JAR")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\t\t\terrorExit "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Cannot find '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Lib")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RUN_JAR")]),t._v(' jar"')]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"specify running：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RUN_JAR}")]),t._v('"')]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RUN_JAR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${Lib}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-type")]),t._v(" f "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-name")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*.jar"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-exec")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" + "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s#.*/##'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# error")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-z")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RUN_JAR}")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t\t\t\terrorExit "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Jar not found"')]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"automatic running：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${RUN_JAR}")]),t._v('"')]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h4",{attrs:{id:"windows-环境-💻"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows-环境-💻"}},[t._v("#")]),t._v(" windows 环境 💻")]),t._v(" "),s("p",[t._v("根据上述描述可以发现我们并未修改项目控制台日志路径，和整体描述不一致。")]),t._v(" "),s("p",[t._v("因为如果您仅在 Linux 环境运行上述推荐实现以及完全 OK ，但是如果您需要在 Windows 环境运行，那么您需要修改控制台日志路径（"),s("strong",[t._v("Jpom 是兼容 Linux、Windows 环境的")]),t._v("）。")]),t._v(" "),s("p",[t._v("Windows 下假设定义如下变量：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("log_dir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("%ENV_PATH%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("logs\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Lib")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("%ENV_PATH%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("lib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RUN_JAR="')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("stdout_log")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%log_dir%\\stdout.log"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("Jpom 中的实现函数截取示例（Windows）：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("@REM get jar\n:listDir\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%RUN_JAR%"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" exist "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Lib%'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('un.bin"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" /P "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RUN_JAR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Lib%'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('un.bin"')]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAR_MSG")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("specify running "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RUN_JAR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("else "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" /f "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delims="')]),t._v(" %%I "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dir /B %Lib%'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" exist %Lib%%%I "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" not exist %Lib%%%I"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("nul "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%%~xI"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".jar"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%RUN_JAR%"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RUN_JAR=%%I"')]),t._v("\n\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAR_MSG")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("auto running "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RUN_JAR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("else "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAR_MSG")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("specify2 running %RUN_JAR%\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" not exist %Lib%"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RUN_JAR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t \t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" %JAR_MSG%\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" not exist %Lib%"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RUN_JAR"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n\t\tPAUSE\n\t\tEXIT "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t@REM stdout_log\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" exist "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Lib%'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('un.bin"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" /P "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RUN_LOG")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Lib%'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\r"}},[t._v("\\r")]),t._v('un.log"')]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("stdout_log")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%log_dir%\\!RUN_LOG!"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ngoto:eof\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("blockquote",[s("p",[t._v("标记文件存放位置根据自己的喜好包目录结构存储即可没有特殊要求（建议存储在脚本或者程序包同级目录下）")])]),t._v(" "),s("p",[t._v("Jpom 管理脚本完整参考：")]),t._v(" "),s("ul",[s("li",[t._v("linux："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/bin/Server.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/bin/Server.sh"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("windows："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/bin/Server.bat",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom/blob/master/modules/server/src/main/bin/Server.bat"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"代码细节"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码细节"}},[t._v("#")]),t._v(" 代码细节 ⁉")]),t._v(" "),s("p",[t._v("我们在开发升级业务的时候我们需要考虑一些细节，根据 Jpom 的经验如下：")]),t._v(" "),s("ol",[s("li",[t._v("执行脚本的方式（难点）")]),t._v(" "),s("li",[t._v("考虑注册为服务（非必要）")]),t._v(" "),s("li",[t._v("异步执行升级脚本（用户体验）")])]),t._v(" "),s("p",[t._v("通常我们执行项目重启命令为：")]),t._v(" "),s("p",[s("code",[t._v("bash /xxxx/xxxx.sh restart")]),t._v(" or "),s("code",[t._v("bash /xxxx/xxxx.bat restart")])]),t._v(" "),s("p",[t._v("如果注册为服务执行重启命令为：")]),t._v(" "),s("p",[s("code",[t._v("systemctl restart xxxxx.service")])]),t._v(" "),s("h4",{attrs:{id:"执行脚本的方式-🤔"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行脚本的方式-🤔"}},[t._v("#")]),t._v(" 执行脚本的方式 🤔")]),t._v(" "),s("p",[t._v("在 java 中我们通常使用 "),s("code",[t._v("Runtime.getRuntime().exec(command)")]),t._v("来执行命令，但是这种方式在升级流程不适用，因为这里涉及到父进程和子进程的相关知识。")]),t._v(" "),s("p",[t._v("因为 java 默认执行脚本的标准输出目标是："),s("code",[t._v("ProcessBuilder.Redirect.PIPE")])]),t._v(" "),s("p",[s("strong",[t._v("PIPE")]),t._v("：表示子进程的 I/O 源或目标将与当前进程的 I/O 源或目标相同。 这是大多数操作系统命令解释器（shell）的正常行为。")]),t._v(" "),s("p",[t._v("这样当您执行重启当前项目的脚本时候，自身进程已经关闭，子进程也将自动关闭这样就无法实现自己重启自己。")]),t._v(" "),s("p",[t._v("所以我们需要将标准输出目标设置为："),s("code",[t._v("ProcessBuilder.Redirect.INHERIT")])]),t._v(" "),s("p",[s("strong",[t._v("INHERIT")]),t._v("：指示子进程 I/O 将通过管道连接到当前 Java 进程。 这是子进程标准 I/O 的默认处理。")]),t._v(" "),s("p",[t._v("这样就可以达到执行重启脚本时候，创建的子进程不受父进程影响。")]),t._v(" "),s("p",[t._v("参考代码：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncExeLocalCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" useSudo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" newCommand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CRLF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SPACE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    newCommand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("LF")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SPACE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("useSudo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        newCommand "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addPrefixIfNot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sudo "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n    log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" commands "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCommand"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProcessBuilder")]),t._v(" pb "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProcessBuilder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" environment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("env "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("putAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirectOutput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProcessBuilder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Redirect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INHERIT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirectError")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProcessBuilder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Redirect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INHERIT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirectInput")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ProcessBuilder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Redirect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("INHERIT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    pb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("p",[t._v("这样设置后 java 程序里面无法直接知道执行命令的结果，需要采用获取当前项目是否在运行的方式来判断执行是否成功。")]),t._v(" "),s("ul",[s("li",[t._v("执行前后进程 ID 一致：表示脚本没有正确执行")]),t._v(" "),s("li",[t._v("执行前后进程 ID 不一致：表示项目重启成功，需要人工判断是否升级成功")]),t._v(" "),s("li",[t._v("执行后没有新进程：表示项目启动失败")])]),t._v(" "),s("blockquote",[s("p",[t._v("提醒：Jpom 目前仅判断了项目进程是否存在，并未判断前后进程是否一致")])]),t._v(" "),s("h4",{attrs:{id:"注册为服务-🎛"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注册为服务-🎛"}},[t._v("#")]),t._v(" 注册为服务 🎛")]),t._v(" "),s("p",[t._v("假设您的项目支持使用服务的方式启动，此时我们在代码里面就需要考虑使用重启服务的命令来重启项目，而不是直接使用 bash 来重启。")]),t._v(" "),s("p",[t._v("我们建议您将服务名注入到环境变量中，在执行重启时候判断是否存在环境变量，如果存在则使用服务方式来重启，否则使用 bash 方式来重启。")]),t._v(" "),s("p",[t._v("服务的方式又需要考虑是否需要使用 sudo 来执行命令，服务一般是需要 root 权限（这块建议自行根据业务评估实现）")]),t._v(" "),s("p",[t._v("Jpom 中实现代码参考：")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" runFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JpomManifest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRunPath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" runPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" runFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParentFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("runPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDirectory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JpomRuntimeException")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("runPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAbsolutePath")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" error"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OsInfo")]),t._v(" osInfo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SystemUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOsInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("osInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isWindows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要重新变更 stdout_log 文件来保证进程不被占用")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" format "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("format")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stdout_{}.log"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentTimeMillis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("format"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("runPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"run.log"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CharsetUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CHARSET_UTF_8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" scriptFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JpomManifest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getScriptFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Waiting for method caller,For example, the interface response")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ThreadUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TimeUnit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SECONDS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" command "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CommandUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("scriptFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"restart upgrade"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("File")]),t._v(" parentFile "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" scriptFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParentFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("osInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isWindows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//String result = CommandUtil.execSystemCommand(command, scriptFile.getParentFile());")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//log.debug("windows restart {}", result);')]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CommandUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncExeLocalCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start /b"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parentFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" jpomService "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SystemUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JPOM_SERVICE"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("StrUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isEmpty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jpomService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CommandUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncExeLocalCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("command"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parentFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用了服务")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CommandUtil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asyncExeLocalCommand")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"systemctl restart "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" jpomService"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parentFile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            log"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"重启自身异常"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br")])]),s("h4",{attrs:{id:"异步执行-⛓"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#异步执行-⛓"}},[t._v("#")]),t._v(" 异步执行 ⛓")]),t._v(" "),s("p",[t._v("通常我们在调用重启方法是通过接口（Controller）来实现，这样如果不异步线程执行那么请求此接口将无法等待到任何响应就开始执行重启流程，这样给用户的体验就不知道是否开始执行重启，会误解为后台一直卡住。")]),t._v(" "),s("p",[t._v("建议：前端在收到此接口相应后可以开启一个全屏遮罩层，并轮询一个特定接口来判断新的服务是否启动成功。")]),t._v(" "),s("h4",{attrs:{id:"功能扩展-🎬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#功能扩展-🎬"}},[t._v("#")]),t._v(" 功能扩展 🎬")]),t._v(" "),s("p",[t._v("有来上述方案和流程后就是如何实现业务功能，您在开发业务时候需要考虑如何更新新程序包：")]),t._v(" "),s("ul",[s("li",[t._v("在线下载")]),t._v(" "),s("li",[t._v("手动上传")])]),t._v(" "),s("p",[s("strong",[t._v("在线下载")]),t._v("：要您提供一个版本检测接口和程序包下载服务，\n程序定时（每天凌晨或者中午）请求一次版本信息接口与当前运行中的版本比较，\n如果有新版本您可以做弹窗提醒、特定页面查看（Jpom 使用此方法）、自动下载并升级（不建议）")]),t._v(" "),s("p",[s("strong",[t._v("手动上传")]),t._v("：如果您没有办法提供一个检测接口、下载服务、网络限制您只能使用手动上传的方式来更新程序包，java 程序实现上传这个功能非常通用。")]),t._v(" "),s("blockquote",[s("p",[t._v("在线下载或者手动上传需要自行实现将对应的程序包存放于程序的运行 lib 路径")])]),t._v(" "),s("p",[s("strong",[t._v("不兼容升级")]),t._v("：软件的不同版本迭代会因为功能变动、依赖升级等造成无法平滑升级的情况是时有发生的，此时您在开发业务时候就需要考虑到更新程序包时候判断当前运行的版本和要更新的新版本是否支持平滑升级，如果不支持平滑升级则提醒用户需要手动处理升级并告知操作流程。")]),t._v(" "),s("p",[t._v("在 Jpom 实践中出现过 2 次不兼容升级：")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://jpom.top/pages/upgrade/2.8.x-to-2.9.x/",target:"_blank",rel:"noopener noreferrer"}},[t._v("v2.8.x 升级到 v.2.9.x"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://jpom.top/pages/upgrade/2.9.x-to-2.10.x/",target:"_blank",rel:"noopener noreferrer"}},[t._v("v2.9.x 升级到 v.2.10.x"),s("OutboundLink")],1)])]),t._v(" "),s("blockquote",[s("p",[t._v("如果您对如何完整的实现升级业务逻辑还有疑问，欢迎加入 "),s("a",{attrs:{href:"https://jpom.top/pages/praise/join/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom 社群"),s("OutboundLink")],1),t._v("来交流。")])]),t._v(" "),s("h2",{attrs:{id:"写在最后-🙏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#写在最后-🙏"}},[t._v("#")]),t._v(" 写在最后 🙏")]),t._v(" "),s("p",[t._v("感谢您耐心阅读本文，希望本文能给您带来一定的价值。")]),t._v(" "),s("p",[t._v("如果觉得本文对您有帮助，请点个“赞”/“在看”支持一下，谢谢。")]),t._v(" "),s("p",[t._v("如您对本文有"),s("code",[t._v("任何疑问")]),t._v("、"),s("code",[t._v("不足之处")]),t._v("欢迎您加入 "),s("a",{attrs:{href:"https://jpom.top/pages/praise/join/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom 社群"),s("OutboundLink")],1),t._v("来交流，对本方案有更好的调优建议我们也非常欢迎您指出。")]),t._v(" "),s("p",[t._v("本文首发于 "),s("a",{attrs:{href:"https://jpom.top/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom 官方"),s("OutboundLink")],1),t._v(" 欢迎访问，如需转载请先"),s("a",{attrs:{href:"https://gitee.com/bwcx-jzy",target:"_blank",rel:"noopener noreferrer"}},[t._v("联系作者"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"jpom-链接-✈"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jpom-链接-✈"}},[t._v("#")]),t._v(" Jpom 链接 ✈")]),t._v(" "),s("p",[t._v("官网："),s("a",{attrs:{href:"https://jpom.top/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://jpom.top/"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Gitee: "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/Jpom"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Github: "),s("a",{attrs:{href:"https://github.com/dromara/Jpom",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/dromara/Jpom"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("加入社群："),s("a",{attrs:{href:"https://jpom.top/pages/praise/join/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://jpom.top/pages/praise/join/"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports},447:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"用爱发电"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用爱发电"}},[t._v("#")]),t._v(" 用爱发电")]),t._v(" "),s("p",[t._v("Jpom 从 2018 年正式开源至今， Jpom 已经在中小团队中得到了可行性的验证，目前正在长期使用 Jpom 的用户 1k+，充分证明 Jpom 是能给用户带来便利和可靠性。")]),t._v(" "),s("p",[t._v("这背后无疑是大量业余时间成本的付出。")]),t._v(" "),s("p",[t._v("我会长期坚持去完善这个项目，希望可以让 Jpom 帮助到更多的中小团队的开发者、运维，服务于更多公司")]),t._v(" "),s("h2",{attrs:{id:"赞助商广告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#赞助商广告"}},[t._v("#")]),t._v(" 赞助商广告")]),t._v(" "),s("p",[s("code",[t._v("Jpom")]),t._v("是开源的项目，但我们每年都在支付第三方域名，云服务器，CDN流量费，推广开发费用。为了项目能够健康长久的发展下去，我们在"),s("code",[t._v("Jpom")]),t._v("官网提供多个赞助商广告位。")]),t._v(" "),s("p",[t._v("如您在"),s("code",[t._v("Jpom")]),t._v("官网投放广告，可获得首页以及文档所有页面的展示。")]),t._v(" "),s("p",[t._v("合作方式：")]),t._v(" "),s("ul",[s("li",[t._v("合作费用：请加联系方式询问")]),t._v(" "),s("li",[t._v("电子邮箱：bwcx_jzy@dromara.org")])]),t._v(" "),s("p",[t._v("准备材料：")]),t._v(" "),s("ul",[s("li",[t._v("首页特别赞助 LOGO 图：大小控制在 100k 以内")]),t._v(" "),s("li",[t._v("首页特别赞助描述文字：一段不超过 30 字的简单介绍")]),t._v(" "),s("li",[t._v("文档页 banner 图片格式："),s("code",[t._v("440px")]),t._v(" X "),s("code",[t._v("120px")]),t._v("（3~4:1），支持"),s("code",[t._v("gif")]),t._v("动图，大小控制在"),s("code",[t._v("500KB")]),t._v("以内")]),t._v(" "),s("li",[t._v("链接URL格式："),s("code",[t._v("https://xxx.com")])])])])}),[],!1,null,null,null);s.default=e.exports},463:function(t,s,a){"use strict";a.r(s);a(374);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Jpom 感谢各位小伙伴的信任与支持，如果您在公司使用了 Jpom ，希望您留下您的公司或组织信息："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5JOPA",target:"_blank",rel:"noopener noreferrer"}},[t._v("登记"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"用户列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户列表"}},[t._v("#")]),t._v(" 用户列表")]),t._v(" "),s("h3",{attrs:{id:"公司名称"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#公司名称"}},[t._v("#")]),t._v(" 公司名称")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://www.gigainfo.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("长沙兆吉信息科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.daxiaotongping.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("山东大小同屏科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.zkmeiling.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("中科美菱低温科技股份有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://preview.vsdeep.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("苏州威视通智能科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.mixiaoedu.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("深圳市咪笑儿童教育科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.hddznet.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("浙江和达科技股份有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.91funclass.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("广州九一互联有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://ytzhitu.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("烟台智途科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.zzdvlp.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("郑州迪维勒普科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://tldt.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("神州通立电梯有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("重庆银城震天科技有限公司")]),t._v(" "),s("li",[t._v("深圳市久通物联股份有限公司")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.zgbafy.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("深圳数美达科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("江西拓界奥翔科技有限公司")]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.csqc.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("中科量云(北京)科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://yironginfo.b2bvip.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("福建亿榕信息技术有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.longing.net.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("河南龙翼信息技术有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("杭州福瑞佳美健康科技有限公司")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.ebang.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("杭州亿邦通信科技有限公司"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"http://www.honeycomb.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("深圳汉尼康科技有限公司"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"logo-展示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logo-展示"}},[t._v("#")]),t._v(" LOGO 展示")]),t._v(" "),s("div",{},[s("span",{staticClass:"link",staticStyle:{"background-color":"#fff"}},[s("a",{attrs:{href:"http://www.gigainfo.com.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/gigainfo.png"),alt:"长沙兆吉信息科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"https://www.daxiaotongping.com",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/daxiaotongping.png"),alt:"山东大小同屏科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"http://www.zkmeiling.com",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/zkmeiling.png"),alt:"中科美菱低温科技股份有限公司"}})])]),t._v(" "),s("span",{staticClass:"link",staticStyle:{"background-color":"#2c3e50"}},[s("a",{attrs:{href:"http://preview.vsdeep.com/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/vsdeep.png"),alt:"苏州威视通智能科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"https://www.mixiaoedu.com",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/mixiaoedu.png"),alt:"深圳市咪笑儿童教育科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link",staticStyle:{"background-color":"#fff"}},[s("a",{attrs:{href:"https://www.hddznet.com",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/hddznet.png"),alt:"浙江和达科技股份有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"https://www.91funclass.com",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/91funclass.png"),alt:"广州九一互联有限公司"}})])]),t._v(" "),s("span",{staticClass:"link",staticStyle:{"background-color":"#fff"}},[s("a",{attrs:{href:"http://ytzhitu.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/ytzhitu.png"),alt:"烟台智途科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link",staticStyle:{"background-color":"#fff"}},[s("a",{attrs:{href:"http://www.zzdvlp.com/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/zzdvlp.png"),alt:"郑州迪维勒普科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"http://tldt.net",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/tldt.png"),alt:"神州通立电梯"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"https://www.zgbafy.com/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/zgbafy.png"),alt:"深圳数美达科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"http://www.csqc.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/csqc.png"),alt:"中科量云(北京)科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"http://www.longing.net.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/longing.png"),alt:"河南龙翼信息技术有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"#"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/e51d42f1_2661607.png"),alt:"杭州福瑞佳美健康科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"https://www.ebang.com.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/ebang.svg"),alt:"杭州亿邦通信科技有限公司"}})])]),t._v(" "),s("span",{staticClass:"link"},[s("a",{attrs:{href:"http://www.honeycomb.cn/",target:"_blank"}},[s("img",{staticClass:"no-zoom hover-alt",attrs:{loading:"lazy",src:t.$withBase("/images/our-users/honeycomb.png"),alt:"深圳汉尼康科技有限公司"}})])])]),t._v(" "),s("p",[s("strong",[t._v("为了更好地为您提供服务,请在此"),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5JOPA",target:"_blank",rel:"noopener noreferrer"}},[t._v("登记"),s("OutboundLink")],1),t._v("。")])])])}),[],!1,null,null,null);s.default=e.exports},483:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("当您初次安装 Jpom 服务端并访问页面，系统会跳转至添加"),s("code",[t._v("超级管理员")]),t._v("账号页面")]),t._v(" "),s("p",[t._v("如果您系统中没有超级管理员账号也会跳转至添加超级管理员账号页面")]),t._v(" "),s("h2",{attrs:{id:"添加超级管理账号"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加超级管理账号"}},[t._v("#")]),t._v(" 添加超级管理账号")]),t._v(" "),s("p",[t._v("添加一个超级管理员账号，请妥善保管此账号同时请设置安全度较强的密码")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("建议")]),t._v(" "),s("p",[t._v("超级管理员账号名请勿使用常用名称如"),s("code",[t._v("admin")]),t._v("、"),s("code",[t._v("root")]),t._v("、"),s("code",[t._v("manager")]),t._v("等，避免被其他用户有意或者无意操作造成登录失败次数过多从而超级管理员账号被异常锁定")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("p",[t._v("如果超级管理员被异常锁定请走超级管理员"),s("code",[t._v("忘记密码")]),t._v("流程：具体操作可以查阅文档")]),t._v(" "),s("h2",{attrs:{id:"开启账号-mfa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启账号-mfa"}},[t._v("#")]),t._v(" 开启账号 MFA")]),t._v(" "),s("p",[t._v("为了系统安全，强烈建议超级管理员账号开启 MFA 两步验证")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits2.png",alt:"install2",loading:"lazy"}})])])}),[],!1,null,null,null);s.default=e.exports},493:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("Jpom 服务端的数据默认存储到 H2 database 中")]),t._v(" "),s("p",[t._v("部分用户有需求期望数据存储到 dameng 中")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),s("p",[t._v("使用 dameng 模式，系统管理中的数据库备份功能将不可用，数据的备份管理需要自行维护")])]),t._v(" "),s("h2",{attrs:{id:"系统升级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统升级"}},[t._v("#")]),t._v(" 系统升级")]),t._v(" "),s("p",[t._v("使用jpom的在线升级功能将将服务端和插件端版本升级至 "),s("strong",[t._v("2.11.12.1-beta")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("升级前请仔细阅读版本更新日志，如果有特殊说明或者注意事项请仔细确认。升级前建议提前做好相关备份,避免出现意外造成数据丢失")])]),t._v(" "),s("h3",{attrs:{id:"如何创建-h2-数据备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何创建-h2-数据备份"}},[t._v("#")]),t._v(" 如何创建 h2 数据备份")]),t._v(" "),s("h4",{attrs:{id:"页面操作创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面操作创建"}},[t._v("#")]),t._v(" 页面操作创建")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),s("h4",{attrs:{id:"命令行创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行创建"}},[t._v("#")]),t._v(" 命令行创建")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --backup-h2\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"修改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[t._v("#")]),t._v(" 修改配置")]),t._v(" "),s("p",[t._v("配置文件:"),s("strong",[t._v("conf/application.yml")])]),t._v(" "),s("ul",[s("li",[t._v("修改 jpom.db.mode 为 DAMENG")]),t._v(" "),s("li",[t._v("修改 jpom.db.url 为您 dameng 的 jdbc 地址( jdbc:dm://192.168.30.29:5236?schema=JPOM)")]),t._v(" "),s("li",[t._v("修改 jpom.db.user-name 为对应 dameng 账户\n-修改 jpom.db.user-pwd 为对应 dameng 密码")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" DAMENG\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("dm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//192.168.30.29"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("5236"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("schema=JPOM\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志存储条数，将自动清理旧数据,配置小于等于零则不清理")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("log-storage-count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库账号 默认 jpom")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SYSDBA\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库密码 默认 jpom 如果自行配置请保证密码强度")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" SYSDBA001\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# h2 数据库缓存大小  kilobyte 1KB 1,024 megabyte 1MB 1,048,576")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#cache-size: 50MB")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动备份间隔天数 小于等于 0 不自动备份")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auto-backup-interval-day")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动备份保留天数 小于等于 0，不自动删除自动备份数据")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auto-backup-reserve-day")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库连接池相关配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-active")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initial-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("min-idle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h2",{attrs:{id:"执行命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行命令"}},[t._v("#")]),t._v(" 执行命令")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --h2-migrate-dameng --h2-user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jpom --h2-pass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jpom\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如果您修改过 h2 数据库的账号或者密码，请在命令行参数里面填写您修改过的")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),s("ol",[s("li",[t._v("为了保证数据安全，在迁移前程序会自动创建一个数据库备份，注意查看日志输出相关信息")]),t._v(" "),s("li",[t._v("在所以数据都迁移成功后程序会自动删除 h2 中的数据，并且将 h2 数据相关文件移动到备份路径，注意查看日志输出相关信息")])])]),t._v(" "),s("h2",{attrs:{id:"查看结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看结果"}},[t._v("#")]),t._v(" 查看结果")]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.829")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始执行数据库事件：迁移数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.830")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("74")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 h2 数据到 DAMENG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.857")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DbUtil "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DbUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("201")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Show sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" show params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.858")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DSFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DSFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("141")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Use "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hutool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Pooled"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" DataSource As Default\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.720")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 H2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("开始尝试自动备份\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.727")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefaultDbH2PluginImpl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DefaultDbH2PluginImpl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("167")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" backup SQL is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SCRIPT DROP to "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Users/user/jpom/server/db/backup/20240401201603.sql'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.612")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" H2 数据库备份成功："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("20240401201603"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sql\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.617")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DbUtil "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DbUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("201")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Show sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" show params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.618")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DSFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DSFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("141")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Use "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hutool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Pooled"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" DataSource As Default\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.867")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 POSTGRESQL jdbc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("postgresql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("127.0.0.1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.882")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 准备迁移数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.883")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 构建历史 BUILDHISTORYLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.275")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 构建历史 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.276")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 构建信息 BUILD_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.320")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 构建信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.321")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 证书信息表 CERTIFICATE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.331")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 证书信息表 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.331")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 集群信息 CLUSTER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.338")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 集群信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.339")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 命令执行记录 COMMAND_EXEC_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.356")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 命令执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.357")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 命令管理 COMMAND_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.365")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 命令管理 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.366")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 docker 信息 DOCKER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.378")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" docker 信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.379")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 docker 集群信息 DOCKER_SWARM_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.388")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" docker 集群信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.388")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 文件发布任务记录 FILE_RELEASE_TASK_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.390")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 文件发布任务记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.390")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 文件管理中心 FILE_STORAGE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.397")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 文件管理中心 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.397")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 日志阅读 LOG_READ\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.398")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 日志阅读 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.399")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器DOCKER信息 MACHINE_DOCKER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.412")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器DOCKER信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.413")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器节点信息 MACHINE_NODE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.433")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器节点信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.433")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 资产机器节点统计 MACHINE_NODE_STAT_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.434")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 资产机器节点统计 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.435")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器SSH信息 MACHINE_SSH_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.443")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器SSH信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.443")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控信息 MONITOR_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.445")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.445")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控通知 MONITORNOTIFYLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.446")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控通知 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.447")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控用户操作 MONITOR_USER_OPT\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.448")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控用户操作 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.448")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点信息 NODE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.466")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.467")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点脚本模版 SCRIPT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.499")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点脚本模版 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.499")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点脚本模版执行记录 SCRIPT_EXECUTE_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.546")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点脚本模版执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.548")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 分发日志 OUTGIVINGLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.643")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 分发日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.644")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点分发 OUT_GIVING\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点分发 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.657")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 项目信息 PROJECT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.674")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 项目信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.675")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 仓库信息 REPOSITORY\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.684")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 仓库信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.685")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 脚本模版执行记录 SERVER_SCRIPT_EXECUTE_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.032")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 脚本模版执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("283")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.033")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 脚本模版 SERVER_SCRIPT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.043")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 脚本模版 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.044")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 SSH 信息 SSH_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.050")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" SSH 信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.051")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 ssh 终端执行日志 SSHTERMINALEXECUTELOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.052")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ssh 终端执行日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.052")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 静态文件管理 STATIC_FILE_STORAGE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.053")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 静态文件管理 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.053")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 系统参数 SYSTEM_PARAMETERS\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.067")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 系统参数 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.068")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 触发器 token TRIGGER_TOKEN_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.085")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 触发器 token 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.086")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("权限组"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("工作空间关系表 USER_BIND_WORKSPACE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.113")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("权限组"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("工作空间关系表 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.113")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户登录日志 USER_LOGIN_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.160")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户登录日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.160")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户账号 USER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.168")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户账号 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.168")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户操作日志 USEROPERATELOGV1\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.650")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户操作日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4403")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.651")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户权限组 USER_PERMISSION_GROUP\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户权限组 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 工作空间环境变量 WORKSPACE_ENV_VAR\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.667")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 工作空间环境变量 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.667")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 工作空间 WORKSPACE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.672")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 工作空间 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.677")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 迁移完成"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("累计迁移 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5065")]),t._v(" 条数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("耗时："),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("秒"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("819")]),t._v("毫秒\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.792")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 准备删除当前数据库文件\nNo database files have been found in directory "),s("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/Users/user/jpom/server/db")]),t._v(" for the database Server\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.868")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("125")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 自动备份 h2 数据库文件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("备份文件位于："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("recover_backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20240401201610")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.868")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("154")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 数据库 迁移数据 事件执行结束"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("："),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.869")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("168")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" POSTGRESQL db Successfully loaded"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url is 【jdbc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("dm"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("192.168.30.29")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5236")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("schema"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("JPOM】\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br")])]),s("h2",{attrs:{id:"如果失败了-不要慌"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果失败了-不要慌"}},[t._v("#")]),t._v(" 如果失败了，不要慌！！！")]),t._v(" "),s("p",[t._v("如果失败了，我们建议按照如下操作处理")]),t._v(" "),s("ol",[s("li",[t._v("删除 dameng 中的所有数据")]),t._v(" "),s("li",[t._v("删除服务端中的 db 目录下 h2 数据库相关的文件")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/2img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("查看上一次迁移失败操作时程序自动备份数据的 sql 文件")])]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.720")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 H2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("开始尝试自动备份\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.727")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefaultDbH2PluginImpl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DefaultDbH2PluginImpl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("167")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" backup SQL is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SCRIPT DROP to "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Users/user/jpom/server/db/backup/20240401201603.sql'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.612")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" H2 数据库备份成功："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("20240401201603"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sql\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("将对应的 sql 文件下载到您的本地电脑")]),t._v(" "),s("li",[t._v("确认上传 db 目录下 h2 数据库相关的文件")]),t._v(" "),s("li",[t._v("重新启动服务端")]),t._v(" "),s("li",[t._v("这时您进入服务端需要您重新初始化系统，不要慌正常操作即可")]),t._v(" "),s("li",[t._v("进入到 系统管理中的数据库备份管理")]),t._v(" "),s("li",[t._v("导入您之前下载的 sql 数据文件\n"),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_1.png",alt:"img_1.png",loading:"lazy"}}),t._v(" "),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),s("li",[t._v("还原数据\n"),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_3.png",alt:"img_3.png",loading:"lazy"}})])]),t._v(" "),s("p",[t._v("将上述步骤操作完您就还原到迁移数据之前的状态了，接下来您可以先解决错误（一般修改 mysql 配置参数）再次尝试迁移数据")]),t._v(" "),s("p",[t._v("如果多次操作仍然失败您可以联系官方协助您排查解决问题")]),t._v(" "),s("p",[s("strong",[t._v("还原数据您还可以通过命令行的方式操作")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --replace-import-h2-sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/jpom_server/server-2-2/db/backup/20230110105352.sql\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"数据备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据备份"}},[t._v("#")]),t._v(" 数据备份")]),t._v(" "),s("p",[t._v("如果您使用 dameng 数据库等情况下 jpom 默认没有提供数据备份功能，还需您自己对数据进行备份管理")]),t._v(" "),s("p",[t._v("dameng 有非常成熟并且简单的备份方案请自行实现")])])}),[],!1,null,null,null);s.default=e.exports},494:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("Jpom 服务端的数据默认存储到 H2 database 中")]),t._v(" "),s("p",[t._v("部分用户有需求期望数据存储到 postgresql 中")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),s("p",[t._v("使用 postgresql 模式，系统管理中的数据库备份功能将不可用，数据的备份管理需要自行维护")])]),t._v(" "),s("h2",{attrs:{id:"系统升级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#系统升级"}},[t._v("#")]),t._v(" 系统升级")]),t._v(" "),s("p",[t._v("使用jpom的在线升级功能将将服务端和插件端版本升级至 "),s("strong",[t._v("2.11.4")])]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("升级前请仔细阅读版本更新日志，如果有特殊说明或者注意事项请仔细确认。升级前建议提前做好相关备份,避免出现意外造成数据丢失")])]),t._v(" "),s("h3",{attrs:{id:"如何创建-h2-数据备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何创建-h2-数据备份"}},[t._v("#")]),t._v(" 如何创建 h2 数据备份")]),t._v(" "),s("h4",{attrs:{id:"页面操作创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面操作创建"}},[t._v("#")]),t._v(" 页面操作创建")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),s("h4",{attrs:{id:"命令行创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行创建"}},[t._v("#")]),t._v(" 命令行创建")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --backup-h2\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"修改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[t._v("#")]),t._v(" 修改配置")]),t._v(" "),s("p",[t._v("配置文件:"),s("strong",[t._v("conf/application.yml")])]),t._v(" "),s("ul",[s("li",[t._v("修改 jpom.db.mode 为 POSTGRESQL")]),t._v(" "),s("li",[t._v("修改 jpom.db.url 为您 postgresql 的 jdbc 地址( jdbc:postgresql://127.0.0.1:5432/jpom)")]),t._v(" "),s("li",[t._v("修改 jpom.db.user-name 为对应 postgresql 账户\n-修改 jpom.db.user-pwd 为对应 postgresql 密码")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("db")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" POSTGRESQL\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  jdbc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("postgresql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("5432/jpom\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志存储条数，将自动清理旧数据,配置小于等于零则不清理")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("log-storage-count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库账号 默认 jpom")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jpom\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库密码 默认 jpom 如果自行配置请保证密码强度")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("user-pwd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jpom123456\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# h2 数据库缓存大小  kilobyte 1KB 1,024 megabyte 1MB 1,048,576")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#cache-size: 50MB")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动备份间隔天数 小于等于 0 不自动备份")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auto-backup-interval-day")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动备份保留天数 小于等于 0，不自动删除自动备份数据")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auto-backup-reserve-day")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据库连接池相关配置")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-active")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("initial-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("max-wait")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("min-idle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h2",{attrs:{id:"执行命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行命令"}},[t._v("#")]),t._v(" 执行命令")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --h2-migrate-postgresql --h2-user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jpom --h2-pass"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("jpom\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如果您修改过 h2 数据库的账号或者密码，请在命令行参数里面填写您修改过的")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),s("ol",[s("li",[t._v("为了保证数据安全，在迁移前程序会自动创建一个数据库备份，注意查看日志输出相关信息")]),t._v(" "),s("li",[t._v("在所以数据都迁移成功后程序会自动删除 h2 中的数据，并且将 h2 数据相关文件移动到备份路径，注意查看日志输出相关信息")])])]),t._v(" "),s("h2",{attrs:{id:"查看结果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看结果"}},[t._v("#")]),t._v(" 查看结果")]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.829")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("150")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始执行数据库事件：迁移数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.830")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("74")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 h2 数据到 POSTGRESQL\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.857")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DbUtil "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DbUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("201")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Show sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" show params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:02.858")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DSFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DSFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("141")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Use "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hutool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Pooled"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" DataSource As Default\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.720")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 H2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("开始尝试自动备份\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.727")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefaultDbH2PluginImpl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DefaultDbH2PluginImpl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("167")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" backup SQL is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SCRIPT DROP to "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Users/user/jpom/server/db/backup/20240401201603.sql'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.612")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" H2 数据库备份成功："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("20240401201603"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sql\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.617")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DbUtil "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DbUtil"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("201")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Show sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" format sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" show params"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" level"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.618")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DSFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DSFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("141")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Use "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Hutool"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Pooled"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("DataSource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" DataSource As Default\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.867")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 POSTGRESQL jdbc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("postgresql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("127.0.0.1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.882")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("114")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 准备迁移数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.883")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 构建历史 BUILDHISTORYLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.275")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 构建历史 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("111")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.276")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 构建信息 BUILD_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.320")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 构建信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.321")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 证书信息表 CERTIFICATE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.331")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 证书信息表 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.331")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 集群信息 CLUSTER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.338")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 集群信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.339")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 命令执行记录 COMMAND_EXEC_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.356")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 命令执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.357")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 命令管理 COMMAND_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.365")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 命令管理 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.366")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 docker 信息 DOCKER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.378")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" docker 信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.379")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 docker 集群信息 DOCKER_SWARM_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.388")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" docker 集群信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.388")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 文件发布任务记录 FILE_RELEASE_TASK_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.390")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 文件发布任务记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.390")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 文件管理中心 FILE_STORAGE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.397")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 文件管理中心 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.397")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 日志阅读 LOG_READ\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.398")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 日志阅读 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.399")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器DOCKER信息 MACHINE_DOCKER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.412")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器DOCKER信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.413")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器节点信息 MACHINE_NODE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.433")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器节点信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.433")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 资产机器节点统计 MACHINE_NODE_STAT_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.434")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 资产机器节点统计 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.435")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 机器SSH信息 MACHINE_SSH_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.443")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 机器SSH信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.443")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控信息 MONITOR_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.445")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.445")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控通知 MONITORNOTIFYLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.446")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控通知 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.447")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 监控用户操作 MONITOR_USER_OPT\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.448")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 监控用户操作 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.448")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点信息 NODE_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.466")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.467")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点脚本模版 SCRIPT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.499")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点脚本模版 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.499")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点脚本模版执行记录 SCRIPT_EXECUTE_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.546")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点脚本模版执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.548")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 分发日志 OUTGIVINGLOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.643")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 分发日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("61")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.644")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 节点分发 OUT_GIVING\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 节点分发 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.657")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 项目信息 PROJECT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.674")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 项目信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.675")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 仓库信息 REPOSITORY\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.684")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 仓库信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:05.685")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 脚本模版执行记录 SERVER_SCRIPT_EXECUTE_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.032")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 脚本模版执行记录 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("283")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.033")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 脚本模版 SERVER_SCRIPT_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.043")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 脚本模版 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.044")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 SSH 信息 SSH_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.050")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" SSH 信息 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.051")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 ssh 终端执行日志 SSHTERMINALEXECUTELOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.052")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ssh 终端执行日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.052")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 静态文件管理 STATIC_FILE_STORAGE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.053")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 静态文件管理 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.053")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 系统参数 SYSTEM_PARAMETERS\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.067")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 系统参数 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.068")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 触发器 token TRIGGER_TOKEN_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.085")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 触发器 token 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.086")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("权限组"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("工作空间关系表 USER_BIND_WORKSPACE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.113")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("权限组"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("工作空间关系表 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.113")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户登录日志 USER_LOGIN_LOG\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.160")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户登录日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("54")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.160")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户账号 USER_INFO\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.168")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户账号 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:06.168")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户操作日志 USEROPERATELOGV1\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.650")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户操作日志 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4403")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.651")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 用户权限组 USER_PERMISSION_GROUP\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 用户权限组 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.656")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 工作空间环境变量 WORKSPACE_ENV_VAR\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.667")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 工作空间环境变量 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.667")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("138")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 开始迁移 工作空间 WORKSPACE\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.672")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("197")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 工作空间 迁移成功 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" 条数据\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.677")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 迁移完成"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("累计迁移 "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5065")]),t._v(" 条数据"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("耗时："),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("秒"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("819")]),t._v("毫秒\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.792")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 准备删除当前数据库文件\nNo database files have been found in directory "),s("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/Users/user/jpom/server/db")]),t._v(" for the database Server\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.868")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("125")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 自动备份 h2 数据库文件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("备份文件位于："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("recover_backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20240401201610")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.868")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("154")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 数据库 迁移数据 事件执行结束"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("："),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:10.869")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("InitDb "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("InitDb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("168")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" POSTGRESQL db Successfully loaded"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" url is 【jdbc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("postgresql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("127.0.0.1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5432")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom】\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br")])]),s("h2",{attrs:{id:"如果失败了-不要慌"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如果失败了-不要慌"}},[t._v("#")]),t._v(" 如果失败了，不要慌！！！")]),t._v(" "),s("p",[t._v("如果失败了，我们建议按照如下操作处理")]),t._v(" "),s("ol",[s("li",[t._v("删除 postgresql 中的所有数据")]),t._v(" "),s("li",[t._v("删除服务端中的 db 目录下 h2 数据库相关的文件")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/to-mysql/2img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("查看上一次迁移失败操作时程序自动备份数据的 sql 文件")])]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.720")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("85")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 成功连接 H2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("开始尝试自动备份\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:03.727")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level debug keyword"}},[t._v("DEBUG")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefaultDbH2PluginImpl "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DefaultDbH2PluginImpl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("167")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" backup SQL is"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" SCRIPT DROP to "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/Users/user/jpom/server/db/backup/20240401201603.sql'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2024-04-01")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token time number"}},[t._v("20:16:04.612")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token level info keyword"}},[t._v("INFO")]),t._v("  o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("j"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StorageServiceFactory "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StorageServiceFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("96")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" H2 数据库备份成功："),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Users"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("server"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("db"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("backup"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("20240401201603"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sql\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("将对应的 sql 文件下载到您的本地电脑")]),t._v(" "),s("li",[t._v("确认上传 db 目录下 h2 数据库相关的文件")]),t._v(" "),s("li",[t._v("重新启动服务端")]),t._v(" "),s("li",[t._v("这时您进入服务端需要您重新初始化系统，不要慌正常操作即可")]),t._v(" "),s("li",[t._v("进入到 系统管理中的数据库备份管理")]),t._v(" "),s("li",[t._v("导入您之前下载的 sql 数据文件\n"),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_1.png",alt:"img_1.png",loading:"lazy"}}),t._v(" "),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),s("li",[t._v("还原数据\n"),s("img",{attrs:{src:"/images/tutorial/to-mysql/2img_3.png",alt:"img_3.png",loading:"lazy"}})])]),t._v(" "),s("p",[t._v("将上述步骤操作完您就还原到迁移数据之前的状态了，接下来您可以先解决错误（一般修改 mysql 配置参数）再次尝试迁移数据")]),t._v(" "),s("p",[t._v("如果多次操作仍然失败您可以联系官方协助您排查解决问题")]),t._v(" "),s("p",[s("strong",[t._v("还原数据您还可以通过命令行的方式操作")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./bin/Server.sh restart "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --replace-import-h2-sql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/opt/jpom_server/server-2-2/db/backup/20230110105352.sql\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"数据备份"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据备份"}},[t._v("#")]),t._v(" 数据备份")]),t._v(" "),s("p",[t._v("如果您使用 postgresql 数据库等情况下 jpom 默认没有提供数据备份功能，还需您自己对数据进行备份管理")]),t._v(" "),s("p",[t._v("postgresql 有非常成熟并且简单的备份方案请自行实现")])])}),[],!1,null,null,null);s.default=e.exports},498:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"完整迁移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#完整迁移"}},[t._v("#")]),t._v(" 完整迁移")]),t._v(" "),s("p",[t._v("完整迁移是指当您旧环境还能正常使用新环境已经准备 OK 就只需要迁移程序和数据")]),t._v(" "),s("blockquote",[s("p",[t._v("注意：因为您使用文件迁移的方式并也迁移了配置文件，理论上无论您使用什么数据库均适用此流程")])]),t._v(" "),s("h3",{attrs:{id:"服务端-原生本地安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端-原生本地安装"}},[t._v("#")]),t._v(" 服务端（原生本地安装）")]),t._v(" "),s("p",[t._v("当前说明是指您使用原生本地安装的方式，并非使用容器安装的情况")]),t._v(" "),s("p",[t._v("当您当新环境（机器/服务器）已经准备好了，请您先根据旧环境中的依赖和插件提前安装和进行环境变量配置（此步骤本文档默认您已经会了并且配置 OK）")]),t._v(" "),s("p",[t._v("一般情况下依赖如下：")]),t._v(" "),s("ul",[s("li",[t._v("jdk 必须")]),t._v(" "),s("li",[t._v("maven 可选")]),t._v(" "),s("li",[t._v("node 可选")]),t._v(" "),s("li",[t._v("服务器字体 可选（验证码相关）")]),t._v(" "),s("li",[t._v("网络 （新环境和所有节点机器、SSH 机器、Docker 机器）")]),t._v(" "),s("li",[t._v("数据库网络 （如果使用了 mysql 数据库）")])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"开始迁移流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始迁移流程"}},[t._v("#")]),t._v(" 开始迁移流程")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"关闭旧环境服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭旧环境服务端"}},[t._v("#")]),t._v(" 关闭旧环境服务端")]),t._v(" "),s("p",[t._v("先关闭旧环境服务端来保证已经没有新的操作和请求造成迁移过程中产生数据影响数据完整性")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./bin/Server.sh stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./bin/Server.bat stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("h4",{attrs:{id:"决定需要迁移的目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#决定需要迁移的目录"}},[t._v("#")]),t._v(" 决定需要迁移的目录")]),t._v(" "),s("p",[t._v("为了数据安全和稳定我们建议您先 copy 服务端的整个目录进行操作，避免操作过程中的误操作造成数据丢失。")]),t._v(" "),s("p",[t._v("当您 copy 出新目录后您可以开始选择把不需要的迁移的目录或者文件删除")]),t._v(" "),s("p",[t._v("比如如下目录您可以选择不迁移：")]),t._v(" "),s("ul",[s("li",[t._v("logs")]),t._v(" "),s("li",[t._v("tmp")]),t._v(" "),s("li",[t._v("data/temp")]),t._v(" "),s("li",[t._v("data/script_run_cache")])]),t._v(" "),s("p",[t._v("慎重选择：如果您迁移时候发现 "),s("code",[t._v("data/build")]),t._v(" 目录非常大严重影响您的备份效率，此时您需要评估在线构建中缓存的仓库数据、构建日志、构建产物是否可以容忍丢失。")]),t._v(" "),s("p",[t._v("如果能容忍丢失那么您可以选择删除 "),s("code",[t._v("data/build")]),t._v(" 目录。")]),t._v(" "),s("p",[t._v("如果您想保留部分构建仓库数据、构建日志、构建产物数据，那么您需要先知道想保留的构建的"),s("code",[t._v("数据 ID")]),t._v("。")]),t._v(" "),s("p",[t._v("怎么获取构建数据 ID,我相信您一定知道浏览器的调试控制台->网络选项卡（说到这里了懂的都懂，不懂的问度娘）")]),t._v(" "),s("p",[t._v("获取到您需要保留的数据 ID 后，您将不需要保留的构建数据删除即可 "),s("code",[t._v("data/build/数据 ID")])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"打包整个目录并下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包整个目录并下载"}},[t._v("#")]),t._v(" 打包整个目录并下载")]),t._v(" "),s("p",[t._v("打包目录这个不用说了吧")]),t._v(" "),s("p",[t._v("linux 推荐用：tar")]),t._v(" "),s("p",[t._v("windows 您喜好")]),t._v(" "),s("p",[t._v("为什么需要打包呢？不能直接下载目录吗？")]),t._v(" "),s("p",[t._v("当您有这个疑问时说明您不知道在网络中，"),s("code",[t._v("上传/下载")]),t._v("多个小文件和"),s("code",[t._v("上传/下载")]),t._v("一个大文件的效率问题,反正推荐压缩打包后进行传输，极其不推荐直接传输整个目录。")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"上传备份文件到新环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传备份文件到新环境"}},[t._v("#")]),t._v(" 上传备份文件到新环境")]),t._v(" "),s("p",[t._v("当您打包后到文件下载到本地或者直接传输到新环境。")]),t._v(" "),s("p",[t._v("如果您是下载到本地那么您还需要将文件上传到新环境中。")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"确认新环境准备完毕"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#确认新环境准备完毕"}},[t._v("#")]),t._v(" 确认新环境准备完毕")]),t._v(" "),s("p",[t._v("上面已经说明了，需要您提前在新环境中安装旧环境中相关的依赖插件。")]),t._v(" "),s("p",[t._v("这里我们建议您新环境中使用插件版本和旧环境中的版本号和安装方式一直，来减少新环境中遇到各种奇奇乖乖的依赖环境不正确的问题")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"启动服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动服务端"}},[t._v("#")]),t._v(" 启动服务端")]),t._v(" "),s("p",[t._v("但您环境确认完毕后，即可启动服务端")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./bin/Server.sh start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./bin/Server.bat start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("期待您顺利启动。")]),t._v(" "),s("p",[t._v("如果启动失败请根据错误日志来排查定位相关问题（您也可以联系我们协助排查）")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"检查是否需要安装服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查是否需要安装服务"}},[t._v("#")]),t._v(" 检查是否需要安装服务")]),t._v(" "),s("p",[t._v("如果您之前注册过开机启动服务，您还需要使用之前相同方式来在新机器中注册服务并开启开机自启")]),t._v(" "),s("p",[t._v("Linux：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" /xxxx/bin/Service.sh "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Windows:")]),t._v(" "),s("p",[t._v("自行实现")]),t._v(" "),s("p",[t._v("安装服务后不要忘记设置开机自启奥！")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"确认访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#确认访问"}},[t._v("#")]),t._v(" 确认访问")]),t._v(" "),s("p",[t._v("当新环境启动成功后，您需要使用新 IP 访问系统，如果使用到了反向代理您还需要修改反向代理的配置来达到可以正常访问")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"检查系统是否正常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查系统是否正常"}},[t._v("#")]),t._v(" 检查系统是否正常")]),t._v(" "),s("p",[t._v("使用账户密码登陆到新系统中来检查数据是否完成，资产数据连接是否正常")]),t._v(" "),s("h4",{attrs:{id:"正常使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#正常使用"}},[t._v("#")]),t._v(" 正常使用")]),t._v(" "),s("p",[t._v("当您一切都检查 ok 无问题后您就可以在新环境中使用 jpom 啦，不要忘记将新环境的地址告知给其他使用平台的用户奥")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"插件端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件端"}},[t._v("#")]),t._v(" 插件端")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),s("ul",[s("li",[t._v("本文中仅说明如果迁移 jpom 插件端，如果您对呀服务端里面包含项目数据还您您自行迁移。迁移服务器中其他数据不在本文说明范畴.")]),t._v(" "),s("li",[t._v("机器关联的项目数据迁移是一个极其麻烦的事情您自己想要了解并知道该如何迁移。")]),t._v(" "),s("li",[t._v("如果仅迁移插件端未迁移机器中的项目数据那么可能造成在 Jpom 系统中看到项目状态是未运行和无法看到项目的任何文件。")])])]),t._v(" "),s("p",[t._v("当您当新环境（机器/服务器）已经准备好了，请您先根据旧环境中的依赖和插件提前安装和进行环境变量配置（此步骤本文档默认您已经会了并且配置 OK）")]),t._v(" "),s("p",[t._v("一般情况下依赖如下：")]),t._v(" "),s("ul",[s("li",[t._v("jdk 必须")]),t._v(" "),s("li",[t._v("项目数据 【自行判断】")]),t._v(" "),s("li",[t._v("网络 （服务端能否访问到新环境）")])]),t._v(" "),s("h4",{attrs:{id:"开始迁移流程-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始迁移流程-2"}},[t._v("#")]),t._v(" 开始迁移流程")]),t._v(" "),s("h4",{attrs:{id:"关闭旧环境服务端-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭旧环境服务端-2"}},[t._v("#")]),t._v(" 关闭旧环境服务端")]),t._v(" "),s("p",[t._v("先关闭旧环境服务端来保证已经没有新的操作和请求造成迁移过程中产生数据影响数据完整性")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./bin/Agent.sh stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./bin/Agent.bat stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("h4",{attrs:{id:"决定需要迁移的目录-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#决定需要迁移的目录-2"}},[t._v("#")]),t._v(" 决定需要迁移的目录")]),t._v(" "),s("p",[t._v("为了数据安全和稳定我们建议您先 copy 服务端的整个目录进行操作，避免操作过程中的误操作造成数据丢失。")]),t._v(" "),s("p",[t._v("当您 copy 出新目录后您可以开始选择把不需要的迁移的目录或者文件删除")]),t._v(" "),s("p",[t._v("比如如下目录您可以选择不迁移：")]),t._v(" "),s("ul",[s("li",[t._v("logs")]),t._v(" "),s("li",[t._v("tmp")]),t._v(" "),s("li",[t._v("data/temp")]),t._v(" "),s("li",[t._v("data/script_run_cache")]),t._v(" "),s("li",[t._v("data/script")])]),t._v(" "),s("p",[t._v("慎重选择：如果您迁移时候发现 "),s("code",[t._v("data/script")]),t._v(" 目录非常大严重影响您的备份效率，此时您需要评估节点脚本日志是否可以容忍丢失。")]),t._v(" "),s("p",[t._v("如果能容忍丢失那么您可以选择删除 "),s("code",[t._v("data/script")]),t._v(" 目录。")]),t._v(" "),s("p",[t._v("如果您想保留部分节点脚本日志数据，那么您需要先知道想保留的脚本的"),s("code",[t._v("数据 ID")]),t._v("。")]),t._v(" "),s("p",[t._v("怎么获取脚本数据 ID,我相信您一定知道浏览器的调试控制台->网络选项卡（说到这里了懂的都懂，不懂的问度娘）")]),t._v(" "),s("p",[t._v("获取到您需要保留的数据 ID 后，您将不需要保留的脚本日志数据删除即可 "),s("code",[t._v("data/script/数据 ID")])]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"打包整个目录并下载-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包整个目录并下载-2"}},[t._v("#")]),t._v(" 打包整个目录并下载")]),t._v(" "),s("p",[t._v("打包目录这个不用说了吧")]),t._v(" "),s("p",[t._v("linux 推荐用：tar")]),t._v(" "),s("p",[t._v("windows 您喜好")]),t._v(" "),s("p",[t._v("为什么需要打包呢？不能直接下载目录吗？")]),t._v(" "),s("p",[t._v("当您有这个疑问时说明您不知道在网络中，"),s("code",[t._v("上传/下载")]),t._v("多个小文件和"),s("code",[t._v("上传/下载")]),t._v("一个大文件的效率问题,反正推荐压缩打包后进行传输，极其不推荐直接传输整个目录。")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"上传备份文件到新环境-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#上传备份文件到新环境-2"}},[t._v("#")]),t._v(" 上传备份文件到新环境")]),t._v(" "),s("p",[t._v("当您打包后到文件下载到本地或者直接传输到新环境。")]),t._v(" "),s("p",[t._v("如果您是下载到本地那么您还需要将文件上传到新环境中。")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"确认新环境准备完毕-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#确认新环境准备完毕-2"}},[t._v("#")]),t._v(" 确认新环境准备完毕")]),t._v(" "),s("p",[t._v("上面已经说明了，需要您提前在新环境中安装旧环境中相关的依赖插件。")]),t._v(" "),s("p",[t._v("这里我们建议您新环境中使用插件版本和旧环境中的版本号和安装方式一直，来减少新环境中遇到各种奇奇乖乖的依赖环境不正确的问题")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"启动插件端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动插件端"}},[t._v("#")]),t._v(" 启动插件端")]),t._v(" "),s("p",[t._v("但您环境确认完毕后，即可启动插件端")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./bin/Agent.sh start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./bin/Agent.bat start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("期待您顺利启动。")]),t._v(" "),s("p",[t._v("如果启动失败请根据错误日志来排查定位相关问题（您也可以联系我们协助排查）")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"检查是否需要安装服务-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查是否需要安装服务-2"}},[t._v("#")]),t._v(" 检查是否需要安装服务")]),t._v(" "),s("p",[t._v("如果您之前注册过开机启动服务，您还需要使用之前相同方式来在新机器中注册服务并开启开机自启")]),t._v(" "),s("p",[t._v("Linux：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" /xxxx/bin/Service.sh "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("Windows:")]),t._v(" "),s("p",[t._v("自行实现")]),t._v(" "),s("p",[t._v("安装服务后不要忘记设置开机自启奥！")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"修改机器节点地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改机器节点地址"}},[t._v("#")]),t._v(" 修改机器节点地址")]),t._v(" "),s("p",[t._v("使用管理员账户登陆到服务端中，【系统管理】->【资产管理】->【机器管理】 中找到对应机器节点的数据编辑节点，修改其地址为新的 IP 地址")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"检查节点是否正常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检查节点是否正常"}},[t._v("#")]),t._v(" 检查节点是否正常")]),t._v(" "),s("p",[t._v("当您上述操作均成功后，您需要在 Jpom 系统中来检查您的节点是否可以正常连接，如果不能正常连接请检查网络限制相关问题")]),t._v(" "),s("p",[t._v("您还需要建议此插件端机器中的项目数据是否正常（此流程不可控需要您清楚您项目是否迁移完成）")]),t._v(" "),s("hr"),t._v(" "),s("blockquote",[s("p",[t._v("注意：因为您使用文件迁移的方式并也迁移了配置文件，理论上无论您使用什么数据库均是此流程")])]),t._v(" "),s("h2",{attrs:{id:"部分迁移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部分迁移"}},[t._v("#")]),t._v(" 部分迁移")]),t._v(" "),s("p",[t._v("部分迁移是指您您想将旧环境数据导入或者迁移到新环境，旧环境中的历史记录日志和缓存均可以丢弃。")]),t._v(" "),s("h3",{attrs:{id:"服务端-原生本地安装-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务端-原生本地安装-2"}},[t._v("#")]),t._v(" 服务端（原生本地安装）")]),t._v(" "),s("p",[t._v("关于服务端数据的总结：")]),t._v(" "),s("ul",[s("li",[t._v("db 核心数据")]),t._v(" "),s("li",[t._v("conf 配置文件夹")]),t._v(" "),s("li",[t._v("data/INSTALL.json 安装ID/集群ID")])]),t._v(" "),s("p",[t._v("关于 db ："),s("code",[t._v("Server.mv.db")]),t._v("、"),s("code",[t._v("Server.trace.db")]),t._v(" 是最新的完整数据")]),t._v(" "),s("p",[t._v("其他目录的数据均是使用过程中的数据："),s("code",[t._v("文件中心")]),t._v("、"),s("code",[t._v("证书文件")]),t._v("、"),s("code",[t._v("构建数据")]),t._v(" 想要您看是否使用到对应功能和是否重要以及有备份。")]),t._v(" "),s("p",[t._v("自行选择选择使用过程中的数据是否迁移。")]),t._v(" "),s("h4",{attrs:{id:"开始迁移流程-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始迁移流程-3"}},[t._v("#")]),t._v(" 开始迁移流程")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"关闭旧环境服务端-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关闭旧环境服务端-3"}},[t._v("#")]),t._v(" 关闭旧环境服务端")]),t._v(" "),s("p",[t._v("先关闭旧环境服务端来保证已经没有新的操作和请求造成迁移过程中产生数据影响数据完整性")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./bin/Server.sh stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("./bin/Server.bat stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("hr"),t._v(" "),s("h4",{attrs:{id:"决定需要迁移的目录-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#决定需要迁移的目录-3"}},[t._v("#")]),t._v(" 决定需要迁移的目录")]),t._v(" "),s("p",[t._v("根据上述描述选择您需要迁移的文件及文件夹")]),t._v(" "),s("p",[t._v("为了数据安全和稳定我们建议您先 copy 服务端的整个目录进行操作，避免操作过程中的误操作造成数据丢失。")]),t._v(" "),s("p",[t._v("当您 copy 出新目录后您可以开始选择把不需要的迁移的目录或者文件删除")]),t._v(" "),s("hr"),t._v(" "),s("h4",{attrs:{id:"后续流程和上面完整迁移一致"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后续流程和上面完整迁移一致"}},[t._v("#")]),t._v(" 后续流程和上面完整迁移一致")]),t._v(" "),s("p",[t._v("后续流程和上面完整迁移一致，请先仔细阅读完整迁移的流程")]),t._v(" "),s("p",[t._v("部分迁移和完整迁移的区别主要是选择的迁移数据的范围不同")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"插件端-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件端-2"}},[t._v("#")]),t._v(" 插件端")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("ul",[s("li",[t._v("由于插件端数据较少，部分迁移和完整迁移流程和选择方式一致，请参考完整迁移流程")]),t._v(" "),s("li",[t._v("绝大多数情况下我们建议插件端均采用完整迁移，但是需要考虑对应服务器中的项目数据迁移情况")])])])])}),[],!1,null,null,null);s.default=e.exports},507:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("温馨提示")]),t._v(" "),s("p",[s("strong",[t._v("此文档摘录于 "),s("a",{attrs:{href:"https://www.justauth.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JustAuth 官方"),s("OutboundLink")],1),t._v(" 感谢 JustAuth 官方的编写制作")])])]),t._v(" "),s("h2",{attrs:{id:"_1-申请应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-申请应用"}},[t._v("#")]),t._v(" 1. 申请应用")]),t._v(" "),s("ol",[s("li",[t._v("登录微信企业版控制台："),s("a",{attrs:{href:"https://work.weixin.qq.com/wework_admin/loginpage_wx?from=myhome_openApi",target:"_blank",rel:"noopener noreferrer"}},[t._v("控制台"),s("OutboundLink")],1),t._v(" "),s("ul",[s("li",[t._v("如果没有企业可以点击 “企业注册”注册企业后再登录控制台")])])]),t._v(" "),s("li",[t._v("创建企业微信应用：导航栏 – 应用管理 – 自建 – 创建应用"),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/c320114b.png",alt:"",loading:"lazy"}})]),t._v(" "),s("li",[t._v("设置企业微信授权登录\n"),s("ol",[s("li",[t._v("创建完应用之后，拖到应用最下方，选择“设置企业微信授权登录”"),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/47360c32.png",alt:"",loading:"lazy"}})]),t._v(" "),s("li",[t._v("设置“Web网页”应用的“授权回调域”"),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/3d6faf6b.png",alt:"",loading:"lazy"}})])])])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("这里 “授权回调域” 不需要指定 “前缀、后缀” 等信息，示例如下图，直接输入域名即可（文档中是直接用的"),s("code",[t._v("justauth.cn")]),t._v("主域名，如果开发者实际环境中用的是二级域名，比如"),s("code",[t._v("xxx.justauth.cn")]),t._v("，则此处直接配置"),s("code",[t._v("xxx.justauth.cn")]),t._v("即可）："),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/ce123e75.png",alt:"",loading:"lazy"}})]),t._v(" "),s("p",[t._v("关于授权回调域存在疑问的童鞋请看这里：https://open.work.weixin.qq.com/api/doc#90000/90135/90988")])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("获取 OAuth 参数。\n使用 JustAuth 进行企业微信登录需要 4 个参数信息：Client ID、Client Secret、Redirect Uri、Agent ID\n"),s("ul",[s("li",[t._v("Client Secret、Agent ID 这两个信息均在 应用管理 里可以查看"),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/c8abba95.png",alt:"",loading:"lazy"}})]),t._v(" "),s("li",[t._v("Client ID 信息在 我的企业 中可以找到，该信息即 企业ID"),s("br"),t._v(" "),s("img",{attrs:{src:"/_media/oauth/2a1d6855.png",alt:"",loading:"lazy"}})]),t._v(" "),s("li",[t._v("Redirect Uri 就是我们上面配置的“授权回调域”，按照微信企业平台的规范，我们只要保证在我们项目中使用的“回调地址”是在我们配置的“授权回调域”下的即可，\n比如本例中，在程序里直接配置“回调地址”为"),s("code",[t._v("http://justauth.cn/oauth/callback/wechat_enterprise")])])])])]),t._v(" "),s("p",[t._v("记录以下信息："),s("code",[t._v("Client ID")]),t._v("、"),s("code",[t._v("Client Secret")]),t._v("、"),s("code",[t._v("Agent ID")]),t._v("和"),s("code",[t._v("回调地址")]),t._v("，后面我们会用到。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("重要提示")]),t._v(" "),s("p",[s("strong",[t._v("“应用密钥”可保护您应用程序的安全，因此请确保其不会泄露！也不要与任何人共享您的“应用密钥”！！！")])])]),t._v(" "),s("h2",{attrs:{id:"_2-配置-oauth2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-oauth2"}},[t._v("#")]),t._v(" 2. 配置 Oauth2")]),t._v(" "),s("p",[t._v("路径：【系统管理】-> 【配置管理】->【认证管理】")]),t._v(" "),s("p",[t._v("将 "),s("code",[t._v("Client ID")]),t._v("、"),s("code",[t._v("Client Secret")]),t._v("、"),s("code",[t._v("Agent ID")]),t._v(" 等信息在认证管理中进行配置")]),t._v(" "),s("h2",{attrs:{id:"_3-登录页面查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-登录页面查看"}},[t._v("#")]),t._v(" 3. 登录页面查看")]),t._v(" "),s("p",[t._v("授权链接访问成功后会看到以下页面内容：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/_media/oauth/09b1e934.png",alt:"",loading:"lazy"}})]),t._v(" "),s("p",[t._v("点击“连接”即可完成 OAuth 登录。")])])}),[],!1,null,null,null);s.default=e.exports},520:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("在 Jpom 中您可以将 docker 信息添加到系统中来统一管理实行类型于 docker ui 功能（功能不一定全面奥，如果发现您需要的功能没有可以反馈给我们）")]),t._v(" "),s("p",[t._v("系统中我们提供了多种方式来供您新增 docker 到系统中，请根据您实际使用情况来选择对应的方式")]),t._v(" "),s("h2",{attrs:{id:"本地自动探测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地自动探测"}},[t._v("#")]),t._v(" 本地自动探测")]),t._v(" "),s("p",[t._v("本方式是直接将服务端所在的服务器中的 docker 快捷添加进来，但是此方式仅能添加一个 docker 如果跨机器还需要使用其他方式来添加")]),t._v(" "),s("p",[t._v("本地探测又分为：")]),t._v(" "),s("ul",[s("li",[t._v("原生安装服务端（服务器中直接安装）")]),t._v(" "),s("li",[t._v("容器安装服务端")])]),t._v(" "),s("p",[t._v("如果您是原生安装方式（服务器中直接安装）安装服务端可以直接使用自动探测功能快速检测并新增")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[t._v("点击按钮后会自动提示是否新增成功，如果您服务器中存在 docker 绝大多数情况会成功如果不成功那么您需要排查您 docker 的 "),s("code",[t._v("docker.sock")]),t._v(" 文件是否存在或者当前用户是否有对应权限")]),t._v(" "),s("p",[t._v("如果您是容器方式安装的服务端那么您需要检查您在创建服务端容器时候是否挂载 "),s("code",[t._v("docker.sock")]),t._v("\t文件，如果未挂载您需要重新创建容器并挂载 "),s("code",[t._v("docker.sock")]),t._v("\t 文件")]),t._v(" "),s("p",[t._v("绝大多数情况下您 "),s("code",[t._v("docker.sock")]),t._v("\t文件均在默认路径 "),s("code",[t._v("/var/run/docker.sock")])]),t._v(" "),s("p",[t._v("推荐命令：（"),s("strong",[t._v("您需要根据您实际情况进行数据目录和日志目录微调")]),t._v("）")]),t._v(" "),s("p",[t._v("需要挂载：")]),t._v(" "),s("ul",[s("li",[t._v("/usr/bin/docker")]),t._v(" "),s("li",[t._v("/var/run/docker.sock")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2122")]),t._v(":2122 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" jpom-server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /etc/localtime:/etc/localtime:ro "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /usr/bin/docker:/usr/bin/docker "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /var/run/docker.sock:/var/run/docker.sock "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /home/jpom-server/logs:/usr/local/jpom-server/logs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /home/jpom-server/data:/usr/local/jpom-server/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" /home/jpom-server/conf:/usr/local/jpom-server/conf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  jpomdocker/jpom\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-4.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("h2",{attrs:{id:"tcp-端口-2375-新增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-端口-2375-新增"}},[t._v("#")]),t._v(" TCP 端口（2375）新增")]),t._v(" "),s("p",[t._v("如果您要新增其他服务器中的 docker 您可以选择 TCP(http) 端口，但是请注意 2375 端口的安全性问题。")]),t._v(" "),s("blockquote",[s("p",[t._v("docker 2375 端口默认没有开启任何认证这样使得 docker 极不安全  "),s("strong",[t._v("如果端口暴露到公网很容易出现挖矿情况")])])]),t._v(" "),s("p",[s("strong",[t._v("我们建议您使用 TLS 证书来对 docker 2375 端口来进行通讯")]),t._v("，如果您对服务器间已经做了安全限制能保证 2375 端口的安全情况下可以忽略 TLS 证书")]),t._v(" "),s("h3",{attrs:{id:"生成-tls-证书-建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成-tls-证书-建议"}},[t._v("#")]),t._v(" 生成 TLS 证书（建议）")]),t._v(" "),s("p",[t._v("这里提供一个快速生成证书到脚本示例：（"),s("strong",[t._v("使用中请一定修改脚本内的 IP 或者可能无法使用的情况奥，证书的允许的 IP 需要和 docker host 一致")]),t._v("）")]),t._v(" "),s("p",[t._v("如果脚本有更新我们会维护在仓库："),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/raw/master/script/docker-tls.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker-tls.sh"),s("OutboundLink")],1),t._v(" 脚本中")]),t._v(" "),s("p",[t._v("本脚本可能有一定兼容性问题，如果您在您的服务器中无法执行成功您可以自行搜索学习其他配置方法")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -------------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自动创建 Docker TLS 证书")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# wget https://gitee.com/dromara/Jpom/raw/master/script/docker-tls.sh")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# systemctl daemon-reload && systemctl restart docker")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -------------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 以下是配置信息")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --[BEGIN]------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("NOW_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dirname")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$0")]),t._v('"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前目录：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v(' 证书文件将保存在此文件夹下"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请输入证书使用的 IP 地址或者 HOST: "')]),t._v(" HOST\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"您输入的是：'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${HOST}")]),t._v(' 证书只能在这个 IP 或者 HOST 下使用,证书密码和输入的一致"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --[INIT PARAMETER]------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("COUNTRY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CN"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("STATE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CITY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ORGANIZATION")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ORGANIZATIONAL_UNIT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Dev"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("COMMON_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("EMAIL")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('@docker-tls.com"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# --[END]--")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate CA key")]),t._v("\nopenssl genrsa "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-aes256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-passout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pass:'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PASSWORD")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate CA")]),t._v("\nopenssl req "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x509")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-days")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("365")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sha256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-passin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pass:'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PASSWORD")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-subj")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/C='),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$COUNTRY")]),t._v("/ST="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$STATE")]),t._v("/L="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CITY")]),t._v("/O="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ORGANIZATION")]),t._v("/OU="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$ORGANIZATIONAL_UNIT")]),t._v("/CN="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$COMMON_NAME")]),t._v("/emailAddress="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$EMAIL")]),t._v('"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate Server key")]),t._v("\nopenssl genrsa "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate Server Certs.")]),t._v("\nopenssl req "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-subj")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/CN='),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$COMMON_NAME")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sha256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" server.csr\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" extfile.cnf\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subjectAltName = DNS.1:'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v(",IP.1:127.0.0.1,IP.2:"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HOST")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("extfile.cnf\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extendedKeyUsage = serverAuth"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("extfile.cnf\nopenssl x509 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-req")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-days")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("365")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sha256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-in")]),t._v(" server.csr "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-passin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pass:'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PASSWORD")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CA")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CAkey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CAcreateserial")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"server-cert.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-extfile")]),t._v(" extfile.cnf\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Generate Client Certs.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" extfile.cnf\nopenssl genrsa "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4096")]),t._v("\nopenssl req "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-subj")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/CN=client'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-key")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" client.csr\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extendedKeyUsage = clientAuth"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v("extfile.cnf\nopenssl x509 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-req")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-days")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("365")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sha256")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-in")]),t._v(" client.csr "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-passin")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pass:'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PASSWORD")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CA")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CAkey")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ca-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-CAcreateserial")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-out")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cert.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-extfile")]),t._v(" extfile.cnf\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" client.csr server.csr ca.srl extfile.cnf\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# check")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('ca.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('ca-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('server-cert.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('server-key.pem"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证书生成完成"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"客户端使用文件：key.pem ca.pem cert.pem"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Docker 端使用文件：ca.pem server-cert.pem server-key.pem"')]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Docker 推荐配置内容：-H tcp://0.0.0.0:2375 --tlsverify --tlscacert='),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v("ca.pem --tlscert="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v("server-cert.pem --tlskey="),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${NOW_PATH}")]),t._v('server-key.pem"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证书生成不完整,请检查配置和根据错误日志排查"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br")])]),s("p",[t._v("同时将生成的证书下载到本地 保存使用（客户端需要："),s("code",[t._v("key.pem")]),t._v(" "),s("code",[t._v("ca.pem")]),t._v(" "),s("code",[t._v("cert.pem")]),t._v("）")]),t._v(" "),s("p",[t._v("证书示例：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/docker-cli/tls1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"查看-docker-service-路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看-docker-service-路径"}},[t._v("#")]),t._v(" 查看 docker.service 路径")]),t._v(" "),s("p",[t._v("systemctl status docker")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/docker-cli/service1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"配置-tcp-tls-推荐"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-tcp-tls-推荐"}},[t._v("#")]),t._v(" 配置 tcp + tls（推荐）")]),t._v(" "),s("p",[s("code",[t._v("vim /lib/systemd/system/docker.service")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/docker-cli/service2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("p",[t._v("ExecStart 需要添加内容")]),t._v(" "),s("p",[s("code",[t._v("--tlsverify --tlscacert=/home/docker/tls-ca/ca.pem --tlscert=/home/docker/tls-ca/server-cert.pem --tlskey=/home/docker/tls-ca/server-key.pem -H tcp://0.0.0.0:2375")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 配置示例\nExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock --tlsverify --tlscacert=/home/docker/tls-ca/ca.pem --tlscert=/home/docker/tls-ca/server-cert.pem --tlskey=/home/docker/tls-ca/server-key.pem -H tcp://0.0.0.0:2375\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("请将证书路径（/home/docker/tls-ca/）更换为实际存放证书路径")])]),t._v(" "),s("h3",{attrs:{id:"配置-tcp-不开启-tls-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-tcp-不开启-tls-示例"}},[t._v("#")]),t._v(" 配置 tcp（不开启 tls 示例）")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 配置示例\nExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock -H tcp://0.0.0.0:2375\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("部分情况需要删除："),s("code",[t._v("-H fd://")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/docker-cli/service3.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"重启-docker-必须"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启-docker-必须"}},[t._v("#")]),t._v(" 重启 docker （必须）")]),t._v(" "),s("blockquote",[s("p",[t._v("配置完成后需要重启 才能生效")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl daemon-reload && systemctl restart docker\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"下载并导入-tls-证书到系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载并导入-tls-证书到系统"}},[t._v("#")]),t._v(" 下载并导入 TLS 证书到系统")]),t._v(" "),s("p",[t._v("上述操作完成后如果您使用了证书您还需要将证书下载到本地并导入到服务端中")]),t._v(" "),s("p",[t._v("需要下载到文件有："),s("code",[t._v("key.pem")]),t._v(" "),s("code",[t._v("ca.pem")]),t._v(" "),s("code",[t._v("cert.pem")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/tutorial/docker-cli/ca1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),s("p",[t._v("将上述三个文件打包成压缩包（注意三个文件需要在压缩包根路径）")]),t._v(" "),s("p",[t._v("在服务端证书管理中导入对应的证书")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-1.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[t._v("注意导入时候需要选择："),s("code",[t._v("X.509")]),t._v(" 类型")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-2.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[t._v("导入后我们可以在系统中看到对应证书的信息（注意检查证书中的 IP 地址是否为您填写的和后续链接 docker 的 ip 一致）")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-3.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("h3",{attrs:{id:"资产管理中新增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资产管理中新增"}},[t._v("#")]),t._v(" 资产管理中新增")]),t._v(" "),s("p",[t._v("路径：【系统管理】->【资产管理】->【Docker管理】->[新增]")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-5.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-6.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-7.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-8.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-9.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[t._v("注意此时可以还没有显示 docker 信息需要等待下一个监控周期执行才能获取到 docker 版本信息")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-10.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("blockquote",[s("p",[t._v("经过上述操作后您即可在 Jpom 系统中来管理 docker 啦")])]),t._v(" "),s("h2",{attrs:{id:"ssh-协议新增"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh-协议新增"}},[t._v("#")]),t._v(" SSH 协议新增")]),t._v(" "),s("p",[t._v("SSH 方式连接 docker 是通过终端实现，每次操作 docker 相关 api 需要登录一次终端\ndocker 版本需要大于 18.09 才能使用 SSH 方式连接。")]),t._v(" "),s("blockquote",[s("p",[t._v("使用："),s("code",[t._v("docker system dial-stdio")]),t._v(" 方式实现")])]),t._v(" "),s("h3",{attrs:{id:"前提条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),s("p",[t._v("您已经将安装 docker 的服务器添加到 SSH 资产中啦，添加 ssh 资产操作文档请自行查阅本文不再概述。")]),t._v(" "),s("p",[t._v("将 ssh 添加到资产中后您还需要保证系统能通过 ssh 方式监控到 docker 信息")]),t._v(" "),s("p",[s("strong",[t._v("如果不能监控到 docker 信息是不可以使用 ssh 方式新增 docker 奥。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-11.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("如果您服务器中已经安装 docker 但是系统监控不到，您需要自行修改 ssh 监控文件")])]),t._v(" "),s("p",[t._v("路径：【系统管理】-> 【配置管理】->【系统配置目录】-> [ssh/monitor-script.sh]")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/ssh/image2-2.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("blockquote",[s("p",[t._v("如果您对您的机器配置好自定义监控我们更期望您将对应的脚本贡献出来为开源做出一点贡献")])]),t._v(" "),s("h3",{attrs:{id:"资产管理中新增-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资产管理中新增-2"}},[t._v("#")]),t._v(" 资产管理中新增")]),t._v(" "),s("p",[t._v("如果对应的 ssh 不可选表示系统没有监控到 ssh 中的 docker 信息奥")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-12.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image-13.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("blockquote",[s("p",[t._v("注意此时可以还没有显示 docker 信息需要等待下一个监控周期执行才能获取到 docker 版本信息")])]),t._v(" "),s("blockquote",[s("p",[t._v("经过上述操作后您即可在 Jpom 系统中来管理 docker 啦")])]),t._v(" "),s("h2",{attrs:{id:"镜像仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像仓库"}},[t._v("#")]),t._v(" 镜像仓库")]),t._v(" "),s("p",[t._v("您可以在编辑 docker 中的其他配置选项中为当前 docker 配置仓库")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/console/image-14.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("blockquote",[s("p",[t._v("注意：仓库生效范围仅为在 Jpom 服务端系统中")])]),t._v(" "),s("h2",{attrs:{id:"删除-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除-docker"}},[t._v("#")]),t._v(" 删除 Docker")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image4.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("删除 Docker 前您需要保证此 Docker 和集群 未被分配到任何工作空间下")]),t._v(" "),s("p",[t._v("如果已经分配到工作空间下，需要您先去工作空间中删除，如果忘记分配到哪些工作空间您可以通过关联来查看")]),t._v(" "),s("p",[s("strong",[t._v("请注意：删除 Docker 需要检查关联数据如果对应 Docker 或者集群还存在关联数据是无法直接删除，需要您一一解除关联后才能删除")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/assets/docker/image4-1.png",alt:"Alt text",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("删除只会检查本地系统的数据关联,不会删除 docker 中的任何数据")])])])}),[],!1,null,null,null);s.default=e.exports},529:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"linux-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-示例"}},[t._v("#")]),t._v(" linux 示例")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('#!/bin/bash\nTag="Application_${PROJECT_ID}"\nMainClass="org.springframework.boot.loader.JarLauncher"\nLib="${PROJECT_PATH}"\nLog="${PROJECT_PATH}/run.log"\nJVM="-server -Xms128m -Xmx128m -XX:PermSize=32M -XX:MaxNewSize=64m -XX:MaxPermSize=64m -Djava.awt.headless=true -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled"\necho $Tag\nRETVAL="0"\n\n# See how we were called.\nfunction start() {\n    echo  $Log \n    if [ ! -f $Log ]; then\n        touch $Log\n    fi\n    nohup java $JVM -Dappliction=$Tag -Djava.ext.dirs=$Lib":${JAVA_HOME}/jre/lib/ext" $MainClass > $Log 2>&1 &  \n\t\tsleep 3\n    head -n 10 $Log\n}\n\n\nfunction stop() {\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    if [ "$pid" != "" ]; then      \n        echo -n "boot ( pid $pid) is running" \n        echo \n        echo -n $"Shutting down boot: "\n        pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n        if [ "$pid" != "" ]; then\n            echo "kill boot process"\n            kill -9 "$pid"\n        fi\n        else \n             echo "boot is stopped" \n        fi\n\n    status\n}\n\nfunction status()\n{\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    #echo "$pid"\n    if [ "$pid" != "" ]; then\n        echo "running:$pid"\n    else\n        echo "boot is stopped"\n    fi\n}\n\n# See how we were called.\nRETVAL="0"\ncase "$1" in\n    start)\n        start\n        ;;\n    stop)\n        stop\n        ;;\n    status)\n        status\n        ;;\n    *)\n      usage\n      ;;\nesac\n\nexit $RETVAL\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br")])]),s("h2",{attrs:{id:"window-示例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#window-示例"}},[t._v("#")]),t._v(" window 示例")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('@echo off\n@REM setlocal enabledelayedexpansion\n@REM Set environment variables to prevent some servers from failing to taskkill\nset PATH = %PATH%;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\system32\\Wbem\n\nset Tag=Jpom-demo-case-${PROJECT_ID}\nset MainClass=org.springframework.boot.loader.JarLauncher\nset Lib=${PROJECT_PATH}\nset Log=${PROJECT_PATH}/run.log\nset JVM=-server -Xms200m -Xmx400m\nset ARGS= \n\n\nIF "%1"=="start" call:start\nIF "%1"=="stop" call:stop\nIF "%1"=="status" call:status\n\n\n@REM start\n:start\n    if "%JAVA_HOME%"=="" (\n        echo please configure [JAVA_HOME] environment variable\n        EXIT 2\n    )\n\n\techo Starting.....\n\tjavaw %JVM% -Dapplication=%Tag% -Djava.ext.dirs=%Lib%  %MainClass% %ARGS% %1 >> %Log%\n\ttimeout 3\n\tEXIT 0\ngoto:eof\n\n\n@REM stop\n:stop\n\tfor /f "tokens=1 delims= " %%I in (\'jps -v ^| findstr "Jpom-demo-case-${PROJECT_ID}"\') do taskkill /F /PID %%I\n\tEXIT 0\ngoto:eof\n\n@REM view status\n:status\n\tfor /f "tokens=1 delims= " %%I in (\'jps -v ^| findstr "Jpom-demo-case-${PROJECT_ID}"\') do @echo running:%%I\n\t\n\tEXIT 0\ngoto:eof\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports},536:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#websocket-web-socket-错误-请检查是否开启-ws-代理"}},[t._v("WebSocket （web socket 错误,请检查是否开启 ws 代理）")])]),s("li",[s("a",{attrs:{href:"#jps-命令异常"}},[t._v("Jps 命令异常")]),s("ul",[s("li",[s("a",{attrs:{href:"#最简单的自查方式"}},[t._v("最简单的自查方式")])]),s("li",[s("a",{attrs:{href:"#排查-jps-缓存文件"}},[t._v("排查 jps 缓存文件")])])])]),s("li",[s("a",{attrs:{href:"#jps-执行响应很慢"}},[t._v("Jps 执行响应很慢")])]),s("li",[s("a",{attrs:{href:"#获取项目状态超时"}},[t._v("获取项目状态超时")])]),s("li",[s("a",{attrs:{href:"#项目丢失-孤独数据-项目找不到"}},[t._v("项目丢失/孤独数据/项目找不到")]),s("ul",[s("li",[s("a",{attrs:{href:"#快捷修复"}},[t._v("快捷修复")])]),s("li",[s("a",{attrs:{href:"#手动修复"}},[t._v("手动修复")])]),s("li",[s("a",{attrs:{href:"#注意"}},[t._v("注意")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"websocket-web-socket-错误-请检查是否开启-ws-代理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#websocket-web-socket-错误-请检查是否开启-ws-代理"}},[t._v("#")]),t._v(" WebSocket （web socket 错误,请检查是否开启 ws 代理）")]),t._v(" "),s("p",[t._v("Jpom 中服务端和插件端通信方式有 http、WebSocket,http 主要传输一下基础操作、上传文件相关，WebSocket 主要用于一些需要实时传输的信息如：控制台日志、脚本执行日志等。")]),t._v(" "),s("p",[t._v("服务端中对接口也是采用 http+WebSocket 来实现，如果用户在使用中出现 WebSocket 连接错误或者控制台看不到任何信息时候：需要检查一下是否使用代理软件代理 Jpom 服务端或者插件端（如：nginx 代理）")]),t._v(" "),s("p",[t._v("如果使用了反向代理需要确认是否配置 WebSocket 相关配置")]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[t._v("proxy_set_header Upgrade "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("http_upgrade"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\nproxy_set_header Connection "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upgrade"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"jps-命令异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jps-命令异常"}},[t._v("#")]),t._v(" Jps 命令异常")]),t._v(" "),s("p",[t._v("Jpom 针对 Java 程序状态监控采用 jps 命令，jps 在 jdk 中都默认包含一般不需要额外配置，如果出现插件端中提示 jps 命令异常等相关错误提示。")]),t._v(" "),s("ul",[s("li",[t._v("需要检查一下在服务器中能正常执行 jps 命令,不能正常执行需要检查 jdk 是否完整（jps 是 jdk 的工具、jvm 中不存在 jps）")]),t._v(" "),s("li",[t._v("需要检查插件端是否能正常加载环境变量")]),t._v(" "),s("li",[t._v("需要检查服务器中是否存在多个 jdk 环境，如果存在多个需要确认使用的 jdk 是否正确（特殊情况下可以在 agent.sh、agent.bat 中指定使用的 jdk）")]),t._v(" "),s("li",[t._v("linux 服务器建议使用绝对路径启动插件端 如：bash /xxxx/xxxx/Agent.sh")]),t._v(" "),s("li",[t._v("windows 服务器需要检查 Agent.bat 编码格式是否匹配，windows 环境中建议使用 GB2312 编码格式")])]),t._v(" "),s("blockquote",[s("p",[t._v("注意修改相关配置或者环境变量后需要重启插件端")])]),t._v(" "),s("p",[t._v("如果排查上诉相关问题，还是不能解决问题请继续看下述说明")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("判定依据 （jps 异常判定）")]),t._v(" "),s("ol",[s("li",[t._v("对应的项目（普通运行模式）运行状态是未运行")]),t._v(" "),s("li",[t._v("使用 jps 命令并未查询到插件端自身进程")])])]),t._v(" "),s("h3",{attrs:{id:"最简单的自查方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最简单的自查方式"}},[t._v("#")]),t._v(" 最简单的自查方式")]),t._v(" "),s("p",[t._v("在 Jpom 中创建一个节点脚本（在对应的机器节点中）脚本内容："),s("code",[t._v("jps -mlv")]),t._v(" 看是否有 jpom 插件端进程，如果没有请继续自查，如果有那么您需要手动到中断重启一下插件端即可")]),t._v(" "),s("h3",{attrs:{id:"排查-jps-缓存文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排查-jps-缓存文件"}},[t._v("#")]),t._v(" 排查 jps 缓存文件")]),t._v(" "),s("p",[s("strong",[t._v("jps 的工作原理")])]),t._v(" "),s("p",[t._v("java程序在启动以后，会在"),s("code",[t._v("java.io.tmpdir")]),t._v("指定的目录下，就是临时文件夹里，生成一个类似于"),s("code",[t._v("hsperfdata_User的文件夹")]),t._v("，这个文件夹里有几个文件，名字就是java进程的pid，因此列出当前运行的java进程，只是把这个目录里的文件名列一下而已。 至于系统的参数什么，就可以解析这几个文件获得。")]),t._v(" "),s("p",[s("strong",[t._v("目录举例：")]),t._v(" (一般情况下默认文件路径)")]),t._v(" "),s("ul",[s("li",[t._v("在 Linux 中为"),s("code",[t._v("/tmp/hsperfdata_{userName}/")])]),t._v(" "),s("li",[t._v("在 Windows 中为 "),s("code",[t._v("C:\\Users\\用户\\AppData\\Local\\Temp\\hsperfdata_{userName}")])])]),t._v(" "),s("p",[t._v("如果对应目录中没有 java 进程编号的文件，就表示文件被异常删除了、或者权限不足相关引起的。")]),t._v(" "),s("p",[t._v("解决办法：")]),t._v(" "),s("ol",[s("li",[t._v("手动关闭对应的 java 进程重新启动查看是否存在对应的文件")]),t._v(" "),s("li",[t._v("检查对应的文件夹是否被修改过权限造成当前用户无法读取到对应目录")])]),t._v(" "),s("h2",{attrs:{id:"jps-执行响应很慢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#jps-执行响应很慢"}},[t._v("#")]),t._v(" Jps 执行响应很慢")]),t._v(" "),s("p",[t._v("Jpom 中在获取节点状态、进程列表都会使用到部分 jps 命令，如果您发现节点基本功能都正常，但节点监控异常或者无法查看进程列表。\n插件端日志有大量 "),s("code",[t._v("/status")]),t._v(" 超时信息")]),t._v(" "),s("p",[s("img",{attrs:{src:"/images/error/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("此时您可以在服务器中执行一下："),s("code",[t._v("jps -l")]),t._v(" 命令查看响应速度 ：")]),t._v(" "),s("ol",[s("li",[t._v("如果响应慢但是返回个数不多这个很可能是 jdk 差异 目前已知 "),s("code",[t._v("openJ9 jdk")]),t._v(" 可能出现这样的情况")]),t._v(" "),s("li",[t._v("如果响应出很多进程，并且实际上未运行这么多进程排查方法如下：\n"),s("ol",[s("li",[t._v("可能是因为平时关闭 java 进程均使用 "),s("code",[t._v("kill -9 xxx")]),t._v("，这样方式可能产生僵尸进程")]),t._v(" "),s("li",[t._v("jps 命令实际上是有文件缓存的，在 linux 服务器上目录为："),s("code",[t._v("/tmp/hsperfdata_$USER")]),t._v(" ($USER是启动Java程序的用户)")])])])]),t._v(" "),s("h2",{attrs:{id:"获取项目状态超时"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取项目状态超时"}},[t._v("#")]),t._v(" 获取项目状态超时")]),t._v(" "),s("p",[t._v("如果在节点（插件端）控制台或者项目列表中出现一直没有显示项目状态，或者出现提示超时信息。\n这种一般是获取项目状态超时，因为 jpom 针对 java 程序获取状态默认使用 jps 命令来处理，据了解可能在不同的 jdk 中 jps 命令存在一定差异，可能出现 jps 命令响应很慢（openJ9 ）")]),t._v(" "),s("p",[t._v("解决办法有如下：")]),t._v(" "),s("ol",[s("li",[t._v("配置节点超时时间 + 配置前端请求超时时间（前端请求超时时间在服务端 extConfig 中配置）")]),t._v(" "),s("li",[t._v("跟换 jdk（建议使用 openjdk） 或者排查 是否出现异常进程")]),t._v(" "),s("li",[t._v("升级 jpom 版本，2.8.18+ 优化过批量获取项目状态相关逻辑，会缩短整个接口耗时")])]),t._v(" "),s("h2",{attrs:{id:"项目丢失-孤独数据-项目找不到"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目丢失-孤独数据-项目找不到"}},[t._v("#")]),t._v(" 项目丢失/孤独数据/项目找不到")]),t._v(" "),s("p",[t._v("如果您在使用过程中方式您新的项目在项目列表中无法看到，但是新建项目存在对应路径被占用表示此项目变成孤独数据啦。")]),t._v(" "),s("p",[t._v("和为孤独数据：")]),t._v(" "),s("ul",[s("li",[t._v("孤独数据是值机器几点里面存在数据，但是无非和当前系统绑定上关系（关闭绑定节点ID+工作空间ID对应才行），一般情况下不会出现这样的数据")]),t._v(" "),s("li",[t._v("通常情况为项目迁移工作空间、迁移物理机器等一些操作可能产生孤独数据")]),t._v(" "),s("li",[t._v("如果孤独数据被工作空间下的其他功能关联，修正后关联的数据将失效对应功能无非查询到关联数据")]),t._v(" "),s("li",[t._v("低版本项目数据未存储节点ID，对应项目数据也将出来在孤独数据中（此类数据不影响使用）")]),t._v(" "),s("li",[t._v("一个物理节点被多个服务端绑定也会产生孤独数据奥")])]),t._v(" "),s("p",[t._v("出现类似情况不要慌，我们可以手动修复孤独数据")]),t._v(" "),s("h3",{attrs:{id:"快捷修复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快捷修复"}},[t._v("#")]),t._v(" 快捷修复")]),t._v(" "),s("p",[t._v("路径：【系统管理】->【资产管理】->【机器管理】->【选择对应机器管理】->【缓存监控】->【孤独数据】")]),t._v(" "),s("p",[t._v("请按照页面引导进行操作，如果误操作可能任然存在异常数据或者孤独数据奥。")]),t._v(" "),s("h3",{attrs:{id:"手动修复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动修复"}},[t._v("#")]),t._v(" 手动修复")]),t._v(" "),s("p",[t._v("到对应的机器插件端的数据目录找到 project.json 或者 script.json 文件，手动修改：nodeId、workspaceId 字段，改为数据正确关联的Id。")]),t._v(" "),s("p",[t._v("手动修改后我们建议您重启服务端来进行全量同步所有节点的项目或者脚步数据")]),t._v(" "),s("h3",{attrs:{id:"注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),s("p",[t._v("修改仅会修正项目数据，和项目关联的数据不会被修复，关联数据需要您重新绑定或者删除后新建")])])}),[],!1,null,null,null);s.default=e.exports},541:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在 Java 中很多时候都需要配置 maven 私服来构建项目")]),t._v(" "),s("h2",{attrs:{id:"原始本地安装服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原始本地安装服务端"}},[t._v("#")]),t._v(" 原始本地安装服务端")]),t._v(" "),s("h3",{attrs:{id:"本地构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地构建"}},[t._v("#")]),t._v(" 本地构建")]),t._v(" "),s("blockquote",[s("p",[t._v("将 Jpom 服务端直接安装到服务器中并且使用"),s("code",[t._v("本地构建")]),t._v("场景说明")])]),t._v(" "),s("ol",[s("li",[t._v("推荐使用全局 maven 配置来实现，安装 maven 插件后默认都会使用 "),s("code",[t._v("{user.home}/.m2/settings.xml")]),t._v(" 一般使用 "),s("code",[t._v("root")]),t._v(" 用户文件示例："),s("code",[t._v("/root/.m2/settings.xml")])]),t._v(" "),s("li",[t._v("使用构建命令来指定 "),s("code",[t._v("settings.xml")]),t._v(" 文件位置，如：mvn -s xxx/settings.xml clean package")])]),t._v(" "),s("h3",{attrs:{id:"容器构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器构建"}},[t._v("#")]),t._v(" 容器构建")]),t._v(" "),s("blockquote",[s("p",[t._v("将 Jpom 服务端直接安装到服务器中并且使用"),s("code",[t._v("容器构建")]),t._v("场景说明")])]),t._v(" "),s("ol",[s("li",[t._v("推荐使用构建命令来指定 "),s("code",[t._v("settings.xml")]),t._v(" 文件位置，如：mvn -s xxx/settings.xml clean package")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("binds")]),t._v(" 来配置指定 maven "),s("code",[t._v(".m2 目录")]),t._v("或者"),s("code",[t._v("settings.xml")]),t._v("【注意容器构建必须使用宿主机对应的 docker 容器构建否则 binds 将不生效】")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定 .m2 目录")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("binds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /Users/user/.m2/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/root/.m2/\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定 settings.xml 文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("binds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /Users/user/.m2/settings.xml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/root/.m2/settings.xml\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"容器安装服务端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器安装服务端"}},[t._v("#")]),t._v(" 容器安装服务端")]),t._v(" "),s("h3",{attrs:{id:"本地构建-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本地构建-2"}},[t._v("#")]),t._v(" 本地构建")]),t._v(" "),s("blockquote",[s("p",[t._v("将 Jpom 服务端直接安装到 docker 中并且使用"),s("code",[t._v("本地构建")]),t._v("场景说明")])]),t._v(" "),s("ol",[s("li",[t._v("使用构建命令来指定 "),s("code",[t._v("settings.xml")]),t._v(" 文件位置，如：mvn -s xxx/settings.xml clean package")])]),t._v(" "),s("h3",{attrs:{id:"容器构建-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器构建-2"}},[t._v("#")]),t._v(" 容器构建")]),t._v(" "),s("blockquote",[s("p",[t._v("将 Jpom 服务端直接安装到 docker 中并且使用"),s("code",[t._v("容器构建")]),t._v("场景说明")])]),t._v(" "),s("ol",[s("li",[t._v("使用构建命令来指定 "),s("code",[t._v("settings.xml")]),t._v(" 文件位置，如：mvn -s xxx/settings.xml clean package")])])])}),[],!1,null,null,null);s.default=e.exports},564:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_2-9-21-2022-12-08"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-21-2022-12-08"}},[t._v("#")]),t._v(" 2.9.21 (2022-12-08)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复 不能在线保存服务端配置（@迷了鹿）")]),t._v(" "),s("li",[t._v("【all】修复 服务端脚本分发节点工作空间错乱问题，需要再次保存自动修正（感谢"),s("a",{attrs:{href:"https://gitee.com/mt-mored",target:"_blank",rel:"noopener noreferrer"}},[t._v("@mt-mored"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I65B19",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I65B19"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("h3",{attrs:{id:"❌-不兼容功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#❌-不兼容功能"}},[t._v("#")]),t._v(" ❌ 不兼容功能")]),t._v(" "),s("ol",[s("li",[t._v("【agent】取消 对 2.4.3 以下的项目白名单目录修复支持")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-20-2022-12-06"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-20-2022-12-06"}},[t._v("#")]),t._v(" 2.9.20 (2022-12-06)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】优化 服务端脚本触发器传入参数添加为执行环境变量（变量名自动转下划线并且添加 "),s("code",[t._v("trigger_")]),t._v(" 前缀）（感谢@李中原）")]),t._v(" "),s("li",[t._v("【agent】优化 插件端脚本触发器传入参数添加为执行环境变量（变量名自动转下划线并且添加 "),s("code",[t._v("trigger_")]),t._v(" 前缀）（感谢@李中原）")]),t._v(" "),s("li",[t._v("【server】优化 构建确认弹窗支持选择差异构建")]),t._v(" "),s("li",[t._v("【server】优化 修剪 docker 镜像支持选择悬空")]),t._v(" "),s("li",[t._v("【server】优化 git 仓库标签拉取支持差异构建判断（感谢@M⃰í⃰n⃰g⃰ z⃰á⃰i⃰、@阿超）")]),t._v(" "),s("li",[t._v("【server】优化 提醒 MFA 绑定取消 esc 关闭弹窗")]),t._v(" "),s("li",[t._v("【server】优化 添加构建时未选择分支表单一致验证失败问题")]),t._v(" "),s("li",[t._v("【agent】修复 上传文件并重启不能正常重启（节点分发完整顺序重启、顺序重启）")]),t._v(" "),s("li",[t._v("【server】优化 节点分发列表显示更多字段")]),t._v(" "),s("li",[t._v("【server】优化 日志阅读不可以阅读文件不能选择")]),t._v(" "),s("li",[t._v("【server】优化 节点分发支持调整到实时阅读页面")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-19-2022-12-05"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-19-2022-12-05"}},[t._v("#")]),t._v(" 2.9.19 (2022-12-05)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增 在线构建新增附加环境变量配置 来实现定义构建运行环境变量")]),t._v(" "),s("li",[t._v("【server】新增 构建发布 docker 镜像新增构建参数,使构建镜像更灵活 （感谢@loyal）")]),t._v(" "),s("li",[t._v("【server】新增 构建发布 docker 镜像新增镜像标签、no-cache、更新镜像配置")]),t._v(" "),s("li",[t._v("【server】新增 修剪 docker 相关资源功能")]),t._v(" "),s("li",[t._v("【server】新增 单 IP 登录失败指定次数将锁定对应 IP，默认 10 次 "),s("code",[t._v("user.alwaysIpLoginError")])]),t._v(" "),s("li",[t._v("【server】新增 镜像创建容器支持配置 label 属性")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复 在线构建仓库文件存在"),s("code",[t._v(".env")]),t._v("文件时带来构建结果异常问题（感谢@蹉跎岁月）")]),t._v(" "),s("li",[t._v("【agent】优化 项目"),s("code",[t._v("清空上传文件")]),t._v("等待文件上传完成后再清空、上传文件优先到临时目录完成后再移动至项目目录（感谢"),s("a",{attrs:{href:"https://gitee.com/tiv-cloud_0",target:"_blank",rel:"noopener noreferrer"}},[t._v("@tiv-cloud_0"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I649NU",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I649NU"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复 docker 创建容器部分场景端口无法正常暴露问题（感谢@李中原）")]),t._v(" "),s("li",[t._v("【server】优化 docker 控制台刷新页面自动打开控制台")]),t._v(" "),s("li",[t._v("【server】优化 docker java 依赖包")]),t._v(" "),s("li",[t._v("【all】优化 取消 hutool-all 包，采用 bom 方式引入")])]),t._v(" "),s("h3",{attrs:{id:"❌-不兼容功能-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#❌-不兼容功能-2"}},[t._v("#")]),t._v(" ❌ 不兼容功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】在线构建本地构建、本地发布、docker 镜像取消默认读取 "),s("code",[t._v(".env")]),t._v("文件,需要手动配置")]),t._v(" "),s("li",[t._v("【server】取消 "),s("code",[t._v("user.ipErrorLockTime")]),t._v(" 属性表达式支持，改为 "),s("code",[t._v("Duration 风格")]),t._v("，转换异常默认值为 5h")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-18-2022-12-01"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-18-2022-12-01"}},[t._v("#")]),t._v(" 2.9.18 (2022-12-01)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【agent】新增 DSL 项目运行脚本环境变量配置（"),s("code",[t._v("run.start.scriptEnv")]),t._v("）")]),t._v(" "),s("li",[t._v("【agent】新增 DSL 项目自定义 "),s("code",[t._v("restart")]),t._v(" 流程 （"),s("code",[t._v("run.restart")]),t._v("）")]),t._v(" "),s("li",[t._v("【agent】新增项目状态检测间隔时间配置属性："),s("code",[t._v("project.statusDetectionInterval")]),t._v(" （感谢@项勇祥）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-4"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【agent】修复 DSL 项目重启操作被偶发异常（自动）关闭问题")]),t._v(" "),s("li",[t._v("【agent】优化 DSL 项目控制台日志输出格式")]),t._v(" "),s("li",[t._v("【all】优化日志监听器：控制台支持自动重定向、第一次启动项目自动重新 showlog")]),t._v(" "),s("li",[t._v("【server】节点超时时间配置为 0 失效问题")]),t._v(" "),s("li",[t._v("【agent】修复进程列表在部分场景下进程号数字转换异常（感谢@易自玉）")]),t._v(" "),s("li",[t._v("【agent】优化启动、停止、重启响应结果输出")]),t._v(" "),s("li",[t._v("【agent】修复 windows DSL 模式："),s("code",[t._v("另一个程序正在使用此文件，进程无法访问。")]),t._v(" 问题")]),t._v(" "),s("li",[t._v("【agent】修复节点脚本模板在一定情况下出现："),s("code",[t._v("另一个程序正在使用此文件，进程无法访问。")]),t._v(" 问题（感谢@易自玉）")]),t._v(" "),s("li",[t._v("【server】修复服务端脚本模板在一定情况下出现："),s("code",[t._v("另一个程序正在使用此文件，进程无法访问。")]),t._v(" 问题")]),t._v(" "),s("li",[t._v("【server】修复节点分发无法正常使用控制台、项目文件管理功能（感谢@ccx2480）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-17-2022-11-28"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-17-2022-11-28"}},[t._v("#")]),t._v(" 2.9.17 (2022-11-28)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增强制提示用户开启 MFA 认证,新增配置属性："),s("code",[t._v("user.forceMfa")]),t._v("（感谢"),s("a",{attrs:{href:"https://gitee.com/angh5",target:"_blank",rel:"noopener noreferrer"}},[t._v("@长风"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5ZBFU",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5ZBFU"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】新增镜像创建容器支持配置网络模式属性、--privileged、重启策略属性")]),t._v(" "),s("li",[t._v("【server】新增自动探测本地 docker 按钮")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-5"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】优化系统已经初始化过进入初始化页面提示信息（感谢"),s("a",{attrs:{href:"https://gitee.com/aacsgaa",target:"_blank",rel:"noopener noreferrer"}},[t._v("@说一"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I61LQH",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I61LQH"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化构建流程状态，不存在产物构建状态标记为构建失败")]),t._v(" "),s("li",[t._v("【agent】修复未配置 nginx 路径时 reload 报错")]),t._v(" "),s("li",[t._v("【server】优化在线构建根据标签拉取代码（感谢@Tʀᴜsᴛ¹⁹⁹¹）")]),t._v(" "),s("li",[t._v("【server】优化克隆 git 仓库仅显示少量日志")]),t._v(" "),s("li",[t._v("【server】优化升级页面 loading 效果、全局 loading 关闭事件")])]),t._v(" "),s("h3",{attrs:{id:"❌-不兼容功能-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#❌-不兼容功能-3"}},[t._v("#")]),t._v(" ❌ 不兼容功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】取消启动自动加载本地 docker")]),t._v(" "),s("li",[t._v("【server】在线构建选择标签构建后，不能切换分支")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-16-2022-11-25"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-16-2022-11-25"}},[t._v("#")]),t._v(" 2.9.16 (2022-11-25)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-4"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】节点分发列表自动刷新数据")]),t._v(" "),s("li",[t._v("【server】容器安装的服务端不能使用本地构建")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-6"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】优化节点转发超时时间计算方法")]),t._v(" "),s("li",[t._v("【server】优化构建项目上传文件、节点分发上传文件超时时间")]),t._v(" "),s("li",[t._v("【server】修复 Docker 检查 URL 是否正确引起的 NPE （感谢@～）")]),t._v(" "),s("li",[t._v("【server】修复节点分发列表在部分场景出现错误数据行")]),t._v(" "),s("li",[t._v("【server】优化节点分发结果添加执行耗时、上传文件大小信息")]),t._v(" "),s("li",[t._v("优化安装脚本支持 Ubuntu 系统快速安装 （感谢@阿超）")]),t._v(" "),s("li",[t._v("【server】修复节点分发日志未存储到对应的工作空间问题")]),t._v(" "),s("li",[t._v("【server】H2 缓存大小配置调整为 50MB，已经安装的版本需要手动修改配置："),s("code",[t._v("db.cacheSize")])]),t._v(" "),s("li",[t._v("【server】修复编辑关联分发项目删除项目数据错乱问题（感谢"),s("a",{attrs:{href:"https://gitee.com/DreamAgo",target:"_blank",rel:"noopener noreferrer"}},[t._v("@DreamAgo"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I631K2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I631K2"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【agent】修复 DSL 模式未运行的项目在部分场景下控制台按钮状态不正确（感谢@项勇祥）")]),t._v(" "),s("li",[t._v("【server】优化编辑在线构建弹窗默认不加载仓库分支 （感谢@阿超）")]),t._v(" "),s("li",[t._v("【server】优化构建切换分支时自动重新拉取仓库")]),t._v(" "),s("li",[t._v("【server】优化构建自动放弃本地修改避免构建引起文件变动冲突（感谢@阿超）")])]),t._v(" "),s("h3",{attrs:{id:"❌-不兼容功能-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#❌-不兼容功能-4"}},[t._v("#")]),t._v(" ❌ 不兼容功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】已经创建的构建不支持切换构建方式")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-15-2022-11-17"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-15-2022-11-17"}},[t._v("#")]),t._v(" 2.9.15 (2022-11-17)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-7"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复监控报警无法触发 webhook 类型的通知（感谢"),s("a",{attrs:{href:"https://gitee.com/xiang-yong-xiang",target:"_blank",rel:"noopener noreferrer"}},[t._v("@项勇祥"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I61KRV",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I61KRV"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("优化获取程序实参的方法（main 方法参数、使用 SimpleCommandLinePropertySource）")]),t._v(" "),s("li",[t._v("【server】修复构建切换分支冲突后，手动清除代码(构建缓存)时文件被占用问题（感谢"),s("a",{attrs:{href:"https://gitee.com/xuejun84",target:"_blank",rel:"noopener noreferrer"}},[t._v("@xuejun84"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I61ANL",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I61ANL"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-14-2022-11-08"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-14-2022-11-08"}},[t._v("#")]),t._v(" 2.9.14 (2022-11-08)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-8"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】更新 Server.sh JVM 参数 -XX:+UnlockExperimentalVMOptions：该参数为解锁 JVM 实验性参数")]),t._v(" "),s("li",[t._v("【agent】更新 Server.sh JVM 参数 -XX:+UnlockExperimentalVMOptions：该参数为解锁 JVM 实验性参数")]),t._v(" "),s("li",[t._v("【server】修复脚本执行日志名称搜索异常（感谢"),s("a",{attrs:{href:"https://gitee.com/bwy-flc",target:"_blank",rel:"noopener noreferrer"}},[t._v("@伤感的风铃草"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I600OE",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I600OE"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-13-2022-10-20"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-13-2022-10-20"}},[t._v("#")]),t._v(" 2.9.13 (2022-10-20)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-9"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复 SSH管理 中的编辑命令出现内容错乱问题")]),t._v(" "),s("li",[t._v("【server】修复构建历史回滚无法正常使用问题（感谢@rs、@Aholic）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-12-2022-10-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-12-2022-10-10"}},[t._v("#")]),t._v(" 2.9.12 (2022-10-10)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-10"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修正错别字"),s("code",[t._v("传入")]),t._v(" （感谢@fangdan）")]),t._v(" "),s("li",[t._v("【server】修复下拉框组件在弹窗中不能完整显示问题（感谢@冷月）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-11-2022-09-09"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-11-2022-09-09"}},[t._v("#")]),t._v(" 2.9.11 (2022-09-09)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-11"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复全局变量未自动加载列表")]),t._v(" "),s("li",[t._v("【server】修复全局变量编辑中不能选择分发节点")]),t._v(" "),s("li",[t._v("【server】修复跨工作空间同步数据不能正常使用问题（感谢@ccx2480）")]),t._v(" "),s("li",[t._v("【server】修复 SVN 仓库无法构建问题（感谢@Tʀᴜsᴛ¹⁹⁹¹）")]),t._v(" "),s("li",[t._v("【server】修复全局变量和工作空间变量可能冲突的问题")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-10-2022-09-07"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-10-2022-09-07"}},[t._v("#")]),t._v(" 2.9.10 (2022-09-07)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-5"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增全局工作空间变量")]),t._v(" "),s("li",[t._v("【server】构建仓库中密码支持引用工作空间变量值（统一配置账号密码）（感谢 @G、 @"),s("a",{attrs:{href:"https://gitee.com/hjk2008",target:"_blank",rel:"noopener noreferrer"}},[t._v("hjk2008"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I4SH8V",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I4SH8V"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】ssh 账号密码支持引用工作空间变量值")]),t._v(" "),s("li",[t._v("【server】构建列表新增下载最新产物方式（感谢@奇奇）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-12"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复下拉框组件在弹窗中不能完整显示问题（感谢@飞儿、@冷月、@ccx2480）")]),t._v(" "),s("li",[t._v("【server】取消下拉菜单、下拉框跟随页面滚动（from 2.9.2）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-9-2022-08-22"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-9-2022-08-22"}},[t._v("#")]),t._v(" 2.9.9 (2022-08-22)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-6"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("p",[t._v("1.【agent】DSL 项目新增支持单独配置是否开启日志文件备份属性（感谢@ccx2480）")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-13"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】容器构建 cache 插件支持使用环境变量替换值")]),t._v(" "),s("li",[t._v("【agent】优化检查 jps 异常,调整为实时检查（感谢"),s("a",{attrs:{href:"https://gitee.com/aomeitech",target:"_blank",rel:"noopener noreferrer"}},[t._v("@傲梅科技"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5MTA4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5MTA4"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复登录后跳转到上次使用到工作空间中问题 （感谢@木迷榖）")]),t._v(" "),s("li",[t._v("【server】缓存日志弹窗相关操作配置 （感谢"),s("a",{attrs:{href:"https://gitee.com/christina204",target:"_blank",rel:"noopener noreferrer"}},[t._v("@我已经没有头发了"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5MANC",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5MANC"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化节点首页：支持自定义刷新频率、图标自动缩放 （感谢@ccx2480）")]),t._v(" "),s("li",[t._v("【server】优化构建列表：支持自动刷新、构建状态添加标签颜色")]),t._v(" "),s("li",[t._v("【server】优化 SSH 发布上传异常没有抛出导致构建状态不一致问题（感谢@print(1)）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-8-2022-08-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-8-2022-08-10"}},[t._v("#")]),t._v(" 2.9.8 (2022-08-10)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-14"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-14"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复创建账号默认密码无法正常登录问题（感谢@ʟᴊx💎💎）")]),t._v(" "),s("li",[t._v("【server】错别字：权限组周末改为周日、周七改为周日")]),t._v(" "),s("li",[t._v("【server】容器构建 JDK 依赖下载地址更新（感谢"),s("a",{attrs:{href:"https://gitee.com/yang-xinwu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Yousinnmu"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5LC3K",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5LC3K"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】构建相关环境变量 GIT 仓库时新增："),s("code",[t._v("BUILD_BRANCH_NAME")]),t._v(","),s("code",[t._v("BUILD_TAG_NAME")]),t._v(" （感谢"),s("a",{attrs:{href:"https://gitee.com/yang-xinwu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Yousinnmu"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("【server】修复插件端管理页面中无法正常远程更新问题")])]),t._v(" "),s("h3",{attrs:{id:"特别感谢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特别感谢"}},[t._v("#")]),t._v(" 特别感谢")]),t._v(" "),s("p",[t._v("感谢 "),s("a",{attrs:{href:"https://weihongbin.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("@💎ℳ๓₯㎕斌💎💘"),s("OutboundLink")],1),t._v("  贡献 "),s("code",[t._v("Adoptium JDK")]),t._v(" 自动更新的解决方案")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-7-2022-08-08"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-7-2022-08-08"}},[t._v("#")]),t._v(" 2.9.7 (2022-08-08)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-7"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增权限组，用于批量管理用户权限（感谢@木迷榖）")]),t._v(" "),s("li",[t._v("【server】账号新增状态字段,用于控制禁用账号")]),t._v(" "),s("li",[t._v("【server】重置密码使用系统生成")]),t._v(" "),s("li",[t._v("【server】构建 docker 镜像支持使用构建序号 ID 为 tag 版本号递增（感谢@Y.）")]),t._v(" "),s("li",[t._v("【server】部分列表新增排序功能(置顶、上移、下移)（感谢"),s("a",{attrs:{href:"https://gitee.com/qiqi513_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@爱琳琳真是太好了"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5KBN9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5KBN9"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-15"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-15"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】用户资料支持修改昵称")]),t._v(" "),s("li",[t._v("【server】修复节点管理中【系统设置】菜单重复显示菜单项问题（感谢@ʟᴊx💎💎）")]),t._v(" "),s("li",[t._v("【server】修复节点首页历史监控图表按钮未显示问题（感谢@ʟᴊx💎💎）")]),t._v(" "),s("li",[t._v("【agent】优化加载 nginx 配置相关代码（感谢@伤感的风铃草🌿）")]),t._v(" "),s("li",[t._v("【server】修改 node welcome vue 中单词拼写错误（感谢"),s("a",{attrs:{href:"https://gitee.com/gao-weidong",target:"_blank",rel:"noopener noreferrer"}},[t._v("@dongge"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5JT9R",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5JT9R"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复 IP 字段长度不足,不能支持 IPV6 问题（感谢"),s("a",{attrs:{href:"https://gitee.com/songjingl",target:"_blank",rel:"noopener noreferrer"}},[t._v("@宋晶磊"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5JSEW",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5JSEW"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复在 docker 开启 TLS 时候配置私有仓库不生效问题（感谢@🐠）")]),t._v(" "),s("li",[t._v("【server】docker 心跳时间调整为超时时间")]),t._v(" "),s("li",[t._v("【server】修改在未配置 docker 私有仓库信息,部分功能出现 NPE（感谢@🐠、Y.）")]),t._v(" "),s("li",[t._v("优化 windows 环境管理脚本,保存配置并重启不能正确启动问题（感谢@大灰灰）")]),t._v(" "),s("li",[t._v("【server】用户管理中使用系统生成密码代替输入密码")])]),t._v(" "),s("h3",{attrs:{id:"⚠️-注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意事项"}},[t._v("#")]),t._v(" ⚠️ 注意事项")]),t._v(" "),s("ol",[s("li",[t._v("高版本会兼容低版本已经配置低用户权限，但是在编辑用户时候需要重新配置权限组")]),t._v(" "),s("li",[t._v("升级后需要重新配置用户工作空间权限相关")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-6-2022-07-27"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-6-2022-07-27"}},[t._v("#")]),t._v(" 2.9.6 (2022-07-27)")]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-16"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-16"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】修复日志弹窗在部分屏幕下按钮重叠问题（感谢"),s("a",{attrs:{href:"https://gitee.com/all-around-badass",target:"_blank",rel:"noopener noreferrer"}},[t._v("@all-around-badass"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5IZ9H",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5IZ9H"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化工作空间和用户昵称显示区域,支持显示更多文字（感谢@木迷榖）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-5-2022-07-26"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-5-2022-07-26"}},[t._v("#")]),t._v(" 2.9.5 (2022-07-26)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-8"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增配置容器构建基础镜像相关功能（ 感谢"),s("a",{attrs:{href:"https://gitee.com/weihongbin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@💎ℳ๓₯㎕斌💎💘"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】SSH 脚本、服务端脚本新增执行触发器")]),t._v(" "),s("li",[t._v("节点脚本新增执行触发器 （感谢"),s("a",{attrs:{href:"https://gitee.com/tian8liang",target:"_blank",rel:"noopener noreferrer"}},[t._v("@田良"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5HB6F",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5HB6F"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】查看日志组件新增是否换行（感谢@hjk2008 "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5CYQK",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5CYQK"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-17"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-17"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("优化 HTTP GET 请求打开重定向")]),t._v(" "),s("li",[t._v("【server】触发器 token 机制调整,取消 SHA256 生成。采用数据表单独存储")]),t._v(" "),s("li",[t._v("【server】修复启动加载全局代理时机,避免（The database is not initialized）")]),t._v(" "),s("li",[t._v("管理脚本执行支持环境变量配置 jvm、端口等，"),s("code",[t._v("JPOM_AGENT_JVM")]),t._v(","),s("code",[t._v("JPOM_AGENT_PORT")]),t._v(","),s("code",[t._v("JPOM_AGENT_ARGS")]),t._v("、"),s("code",[t._v("JPOM_SERVER_JVM")]),t._v(","),s("code",[t._v("JPOM_SERVER_PORT")]),t._v(","),s("code",[t._v("JPOM_SERVER_ARGS")]),t._v(" （ 感谢@飞儿 ）")]),t._v(" "),s("li",[t._v("【agent】兼容 "),s("code",[t._v("log.autoBackConsoleCron: none")]),t._v(" 配置属性")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-4-2022-07-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-4-2022-07-12"}},[t._v("#")]),t._v(" 2.9.4 (2022-07-12)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-9"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】docker 支持配置私有仓库地址（感谢@🐠）")]),t._v(" "),s("li",[t._v("【server】构建 Docker 镜像支持推送到仓库中")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-18"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-18"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【agent】插件端上传文件大小配置恢复默认配置（之前版本遗漏）")]),t._v(" "),s("li",[t._v("【server】docker 连接使用连接池实现")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-3-2022-07-08"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-3-2022-07-08"}},[t._v("#")]),t._v(" 2.9.3 (2022-07-08)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-10"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】新增容器 stats ,方便实时查看容器内存、网络信息")]),t._v(" "),s("li",[t._v("【server】SSH 文件管理新增重命名文件功能")]),t._v(" "),s("li",[t._v("【server】新增全局配置,解决 git httpProxy （感谢"),s("a",{attrs:{href:"https://gitee.com/tutu-father",target:"_blank",rel:"noopener noreferrer"}},[t._v("@五六"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5EY03",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5EY03"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】新增更新容器配置（CPU、内存等）")]),t._v(" "),s("li",[t._v("【server】新增页面 ICON 配置属性："),s("code",[t._v("jpom.iconFile")]),t._v(" （感谢"),s("a",{attrs:{href:"https://gitee.com/flyhigh318",target:"_blank",rel:"noopener noreferrer"}},[t._v("@flyhigh318"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5FKMW",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5FKMW"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】SSH 脚本新增跨工作空间同步功能 （感谢"),s("a",{attrs:{href:"https://gitee.com/flyhigh318",target:"_blank",rel:"noopener noreferrer"}},[t._v("@flyhigh318"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5FC9R",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5FC9R"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】服务端脚本模版新增跨工作空间同步功能")]),t._v(" "),s("li",[t._v("【server】构建新增事件脚本属性,在构建环节可以执行指定脚本来实现部分功能（感谢"),s("a",{attrs:{href:"https://gitee.com/shen-shiju",target:"_blank",rel:"noopener noreferrer"}},[t._v("@沈世举"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5FKFM",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5FKFM"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化构建任务独立线程池,并且新增配置属性 "),s("code",[t._v("build.poolSize")]),t._v("、"),s("code",[t._v("build.poolWaitQueue")]),t._v(" （感谢@小翼哥）")]),t._v(" "),s("li",[t._v("【agent】配置项目是否备份控制台日志属性独立："),s("code",[t._v("log.autoBackToFile")]),t._v(" （感谢@Vergil。）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-19"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-19"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("升级 SpringBoot、Hutool、jgit、svnkit")]),t._v(" "),s("li",[t._v("【server】docker 加入集群无法正常使用问题")]),t._v(" "),s("li",[t._v("【server】项目文件备份列表不能取消弹窗（点击关闭依然执行）问题（感谢@ʟᴊx💎💎）")]),t._v(" "),s("li",[t._v("【server】修复编辑构建仓库切换事件重复问题 （感谢"),s("a",{attrs:{href:"https://gitee.com/tutu-father",target:"_blank",rel:"noopener noreferrer"}},[t._v("@五六"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5F35E",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5F35E"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复 windows 执行脚本出现异常（感谢"),s("a",{attrs:{href:"https://gitee.com/all-around-badass",target:"_blank",rel:"noopener noreferrer"}},[t._v("@all-around-badass"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5FK0K",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5FK0K"),s("OutboundLink")],1),t._v(" ）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-2-2022-06-27"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-2-2022-06-27"}},[t._v("#")]),t._v(" 2.9.2 (2022-06-27)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-11"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【agent】插件端白名单新增 nginx 安装路径,解决 nginx reload 问题（感谢"),s("a",{attrs:{href:"https://gitee.com/all-around-badass",target:"_blank",rel:"noopener noreferrer"}},[t._v("@all-around-badass"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5CJR7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5CJR7"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】通过私人令牌导入仓库支持自建 GitLab")]),t._v(" "),s("li",[t._v("【agent】项目文件管理新增重命名文件功能")]),t._v(" "),s("li",[t._v("快速安装节点支持配置网卡名称（感谢@Elliot）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-20"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-20"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】构建历史分页查询不生效（感谢"),s("a",{attrs:{href:"https://gitee.com/pqbaojian",target:"_blank",rel:"noopener noreferrer"}},[t._v("@PQ宝剑"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5CYOD",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5CYOD"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化编辑 ssh 判断重复,支持多账号配置SSH（感谢"),s("a",{attrs:{href:"https://gitee.com/xiaofangkang",target:"_blank",rel:"noopener noreferrer"}},[t._v("@xiaofangkang"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5D0EY",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5D0EY"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【agent】文件备份对比流程异步处理,避免大文件对比耗时阻塞（感谢@ʟᴊx💎💎）")]),t._v(" "),s("li",[t._v("【server】修复通过私人令牌导入仓库表格主键指定错误")]),t._v(" "),s("li",[t._v("【server】修复 GitLab 通过私人令牌导入仓库接口分页错误")]),t._v(" "),s("li",[t._v("【agent】优化新增文件、删除文件目录加载两次问题（感谢"),s("a",{attrs:{href:"https://gitee.com/all-around-badass",target:"_blank",rel:"noopener noreferrer"}},[t._v("@all-around-badass"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5DMKG",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5DMKG"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化下拉菜单、下拉框跟随页面滚动 （感谢"),s("a",{attrs:{href:"https://gitee.com/pl.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("@pl.com"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5D6I0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5D6I0"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】导入仓库支持按仓库名搜索")]),t._v(" "),s("li",[t._v("【server】修复导入仓库 GitLab 私有列显示错误")]),t._v(" "),s("li",[t._v("副本功能优化,新增名称字段,项目列表快速查看 （感谢"),s("a",{attrs:{href:"https://gitee.com/qiqi513_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@爱琳琳真是太好了"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5E52A",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5E52A"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】修复非默认工作空间快速安装节点未正常绑定到对应工作空间问题")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-1-2022-06-16"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-1-2022-06-16"}},[t._v("#")]),t._v(" 2.9.1 (2022-06-16)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-12"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】SSH 终端新增标签页打开方式（感谢@hu丶向...🤡）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-21"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-21"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】db 安全检查时机前置(是否开启 web 访问),避免突然关闭数据库（感谢@信徒）")]),t._v(" "),s("li",[t._v("【server】修复部分终端弹窗太小问题（感谢@syso）")]),t._v(" "),s("li",[t._v("【server】修复重新初始化数据库异常问题（感谢@Dream、hu丶向...🤡）")]),t._v(" "),s("li",[t._v("【server】修复系统管理中查看白名单配置报错（感谢"),s("a",{attrs:{href:"https://gitee.com/all-around-badass",target:"_blank",rel:"noopener noreferrer"}},[t._v("@all-around-badass"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5CGO7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5CGO7"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】优化监听到路由错误 刷新页面")]),t._v(" "),s("li",[t._v("【server】修复控制台按钮不能正常使用的情况（感谢@😱 会 🎉、ccx2480）")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-9-0-2022-06-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-0-2022-06-13"}},[t._v("#")]),t._v(" 2.9.0 (2022-06-13)")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-13"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】SSH 终端新增全屏方式打开\n（感谢"),s("a",{attrs:{href:"https://gitee.com/jaseeon",target:"_blank",rel:"noopener noreferrer"}},[t._v("@jaseeon"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5BS52",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5BS52"),s("OutboundLink")],1),t._v(" ）")]),t._v(" "),s("li",[t._v("【server】SSH 新增超时时间配置（感谢@带刺的玫瑰）")]),t._v(" "),s("li",[t._v("【server】SFTP 新增超时时间（感谢@带刺的玫瑰）（特别感谢 "),s("a",{attrs:{href:"https://hutool.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("@hutool"),s("OutboundLink")],1),t._v(" 作者紧急发版支持）")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能-22"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-22"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("【server】升级 h2 版本，低版本存在漏洞(CVE-2021-23463)")]),t._v(" "),s("li",[t._v("升级 SpringBoot、Hutool 版本")]),t._v(" "),s("li",[t._v("【server】修复监控日志未存储到对应的工作空间（感谢@带刺的玫瑰）")])]),t._v(" "),s("h3",{attrs:{id:"⚠️-注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),s("blockquote",[s("p",[t._v("此版本为不兼容升级，需要手动升级操作数据相关迁移，操作流程如下：")])]),t._v(" "),s("ol",[s("li",[t._v("导出低版本数据\n"),s("ol",[s("li",[t._v("启动程序参数里面添加 --backup-h2")]),t._v(" "),s("li",[t._v("linux 环境举例："),s("code",[t._v("bash /xxxx/Server.sh restart -15 --backup-h2")])])])]),t._v(" "),s("li",[t._v("将导出的低版本数据( sql 文件) 导入到新版本中\n"),s("ol",[s("li",[t._v("启动程序参数里面添加 "),s("code",[t._v("--replace-import-h2-sql=/xxxx.sql --transform-sql")]),t._v(" (路径需要替换为第一步控制台输出的 sql 文件保存路径)")]),t._v(" "),s("li",[t._v("linux 环境举例："),s("code",[t._v("bash /xxxx/Server.sh restart -15 --replace-import-h2-sql=/xxxx.sql --transform-sql")])])])])]),t._v(" "),s("p",[t._v("✈️ "),s("a",{attrs:{href:"https://jpom.top/pages/upgrade/2.8.x-to-2.9.x/",target:"_blank",rel:"noopener noreferrer"}},[t._v("更详细的升级说明文档"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=e.exports},571:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"🚀-2-3-1-2-3-2-版本日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🚀-2-3-1-2-3-2-版本日志"}},[t._v("#")]),t._v(" 🚀  2.3.1 ~ 2.3.2 版本日志")]),t._v(" "),s("h2",{attrs:{id:"_2-3-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2"}},[t._v("#")]),t._v(" 2.3.2")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("控制台日志支持配置保留天数")]),t._v(" "),s("li",[t._v("项目列表状态跟随控制台刷新")]),t._v(" "),s("li",[t._v("项目配置页面优化交互流程")]),t._v(" "),s("li",[t._v("项目列表显示正在运行的项目的端口号(感谢@洋芋)")]),t._v(" "),s("li",[t._v("新版的Windows管理命令(感谢@洋芋)")]),t._v(" "),s("li",[t._v("支持类似于Nginx二级代理配置(感谢@№譜樋)")]),t._v(" "),s("li",[t._v("记录启动、重启、停止项目的操作人")]),t._v(" "),s("li",[t._v("Jpom 数据路径默认为程序运行的路径(感谢@〓下页)")]),t._v(" "),s("li",[t._v("首页进程监听表格显示端口号(感谢@洋芋)")]),t._v(" "),s("li",[t._v("保存时检查Oss信息是否正确")]),t._v(" "),s("li",[t._v("Jpom管理命令新增判断"),s("code",[t._v("JAVA_HOME")]),t._v("环境变量")]),t._v(" "),s("li",[t._v("修改用户信息，在线用户需要重新登录")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),s("ol",[s("li",[t._v("修改WebHooks 不生效")]),t._v(" "),s("li",[t._v("初始化系统白名单初始化失败(感谢@洋芋)")]),t._v(" "),s("li",[t._v("指定Cookie名称防止名称相同被踢下线(感谢@洋芋)")]),t._v(" "),s("li",[t._v("优化未加载到tools.jar的提示(感谢@№譜樋)")]),t._v(" "),s("li",[t._v("构建按钮移动到文件管理页面中")]),t._v(" "),s("li",[t._v("优化nginx列表显示数据、取消nginx快捷配置")]),t._v(" "),s("li",[t._v("证书管理页面交互优化")]),t._v(" "),s("li",[t._v("取消安全模式功能（有更完善的权限代替）")]),t._v(" "),s("li",[t._v("管理员不能修改自己的信息")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-3-1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1"}},[t._v("#")]),t._v(" 2.3.1")]),t._v(" "),s("h3",{attrs:{id:"🐣-新增功能-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),s("ol",[s("li",[t._v("添加创建项目判断项目id是否被占用")]),t._v(" "),s("li",[t._v("项目列表中添加悬停突出显示效果")]),t._v(" "),s("li",[t._v("生产环境中检查Jpom 运行标识和项目id是否冲突")]),t._v(" "),s("li",[t._v("windows 管理命令支持停止Jpom")]),t._v(" "),s("li",[t._v("防止暴力登录新增限制ip登录失败次数")]),t._v(" "),s("li",[t._v("用户前台输入密码传输加密（感谢@JAVA jesion）")]),t._v(" "),s("li",[t._v("首页页面自动刷新按钮状态记忆功能（感谢@Mark）")]),t._v(" "),s("li",[t._v("Jpom启动成功会自动在数据目录中创建进程id信息文件如"),s("code",[t._v("pid.27936")])]),t._v(" "),s("li",[t._v("证书管理支持导出、查看代码模板功能")])]),t._v(" "),s("h3",{attrs:{id:"🐞-解决bug"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug"}},[t._v("#")]),t._v(" 🐞 解决BUG")]),t._v(" "),s("ol",[s("li",[t._v("解决配置JVM、ARGS时，不能获取到程序运行信息bug(感谢@Agoni 、)")]),t._v(" "),s("li",[t._v("减少登录图形验证码干扰线(感谢@Mark)")]),t._v(" "),s("li",[t._v("项目编辑页面JVM、ARGS调整为多行文本(感谢@JAVA jesion)")]),t._v(" "),s("li",[t._v("jar模式MainClass非必填")]),t._v(" "),s("li",[t._v("优化JDK32位和64位冲突时自动跳过(感谢@13145597)")]),t._v(" "),s("li",[t._v("用户授权项目权限不足问题")])]),t._v(" "),s("h3",{attrs:{id:"⚠️-升级注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-升级注意事项"}},[t._v("#")]),t._v(" ⚠️ 升级注意事项")]),t._v(" "),s("ol",[s("li",[t._v("由2.2及以下升级到 2.3.x 需要手动删除Jpom数据目录中的"),s("code",[t._v("data/user.json")]),t._v(" 文件、所有用户账户信息将失效需要重新添加")])]),t._v(" "),s("hr")])}),[],!1,null,null,null);s.default=e.exports}}]);