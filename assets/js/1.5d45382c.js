(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{322:function(t,a,e){},326:function(t,a,e){},373:function(t,a,e){t.exports=e.p+"assets/img/img4.a87fed74.png"},376:function(t,a,e){"use strict";e(322)},380:function(t,a,e){"use strict";e(326)},383:function(t,a,e){"use strict";e.r(a);e(127),e(45),e(4),e(22),e(20);var s,r,n,v,_,o,l,i=!1,p=[];"undefined"!=typeof document&&(v=function(t){return i||"interactive"===document.readyState||"complete"===document.readyState?t.call(document):p.push((function(){return t.call(this)})),this},o=function(){for(var t=0,a=p.length;t<a;t++)p[t].apply(document);p=[]},l=function(){i||(i=!0,o.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",l),window==window.top&&(clearInterval(_),_=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",l,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){/loaded|complete/.test(document.readyState)&&l()})),window==window.top&&(_=setInterval((function(){try{i||document.documentElement.doScroll("left")}catch(t){return}l()}),5)))),s={fetch:function(t,a){var e="BusuanziCallback_"+Math.floor(1099511627776*Math.random());t=t.replace("=BusuanziCallback","="+e),(n=document.createElement("SCRIPT")).type="text/javascript",n.defer=!0,n.src=t,document.getElementsByTagName("HEAD")[0].appendChild(n),window[e]=this.evalCall(a)},evalCall:function(t){return function(a){v((function(){try{t(a),n&&n.parentElement&&n.parentElement.removeChild&&n.parentElement.removeChild(n)}catch(t){console.log(t),r.hides()}}))}}},r={bszs:["site_pv","page_pv","site_uv"],texts:function(t){this.bszs.map((function(a){var e=document.getElementById("busuanzi_value_"+a);e&&(e.innerHTML=function(t,a="-"){return function(t,a,e,s="-"){if(null==t||""===t)return s;let r=0;const n=parseFloat(t);if(n<=0)return s;r=Math.floor(Math.log(n)/Math.log(a));let v=n/Math.pow(a,r);return v=Number(v.toFixed(2)),v+e[r]}(t,1e3,["B","K","M","G","T","P","E","Z","Y"],a)}(t[a]))}))},hides:function(){this.bszs.map((function(t){var a=document.getElementById("busuanzi_container_"+t);a&&(a.style.display="none")}))},shows:function(){this.bszs.map((function(t){var a=document.getElementById("busuanzi_container_"+t);a&&(a.style.display="inline")}))}};var c=()=>{r&&r.hides(),s.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",(function(t){r.texts(t),r.shows()}))};const u=[{className:"page-view",id:"busuanzi_value_page_pv",title:"本文浏览量"}];var d={mounted(){"/"!=this.$route.path?this.initPageInfo():this.getPageViewCouter(),setTimeout(()=>{this.addExpand(40)},1e3),function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?1acbde0eb1cc4225dcfe6d1143767a3d";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}(),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.crossorigin="anonymous",t.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8458956478992681";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a)}(),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-FYSG66S4HQ";var a=document.getElementsByTagName("script")[0];function e(){dataLayer.push(arguments)}a.parentNode.insertBefore(t,a),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-FYSG66S4HQ")}()},watch:{$route(t,a){"/"!==t.path&&t.path!==a.path&&this.$themeConfig.blogInfo&&this.initPageInfo(),t.path==a.path&&""!=this.$route.hash||setTimeout(()=>{this.addExpand(40)},1e3)}},methods:{initPageInfo(){if(null==this.$frontmatter.article||this.$frontmatter.article){const{eachFileWords:t,pageView:a,pageIteration:e,readingTime:s}=this.$themeConfig.blogInfo;if(t)try{t.forEach(t=>{if(t.permalink==this.$frontmatter.permalink)throw this.addPageWordsCount(t.wordsCount),(s||null==s)&&this.addReadTimeCount(t.readingTime),new Error})}catch(t){}(a||null==a)&&(this.addPageView(),this.getPageViewCouter(e))}else;},getPageViewCouter(t=3e3){c();let a=0;setTimeout(()=>{let e=document.querySelectorAll(".view-data");if(e){let s=e[0];if(s&&""==s.innerText){let r=setInterval(()=>{s&&""==s.innerText?(a+=t,a>5*t&&(e.forEach(t=>{t.innerText="9999"}),clearInterval(r)),""==s.innerText?c():clearInterval(r)):clearInterval(r)},t);this.$once("hook:beforeDestroy",()=>{clearInterval(r),r=null})}}},t)},addPageView(){u.forEach(t=>{let a=document.querySelector("."+t.className);if(a)a.innerHTML='<a style="color: #888; margin-left: 3px" href="javascript:;" id="'+t.id+'" class="view-data"><i title="正在获取..." class="loading iconfont icon-loading"></i></a>';else{let a=document.createElement("div");a.title=t.title,a.className=t.className+" iconfont icon-view",a.style.float="left",a.style.marginLeft="20px",a.style.fontSize="0.8rem",a.innerHTML='<a style="color: #888; margin-left: 3px" href="javascript:;" id="'+t.id+'" class="view-data"><i title="正在获取..." class="loading iconfont icon-loading"></i></a>';let e=document.createElement("style");e.innerHTML="@keyframes turn {\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n      .loading {\n        display: inline-block;\n        animation: turn 1s linear infinite;\n        -webkit-animation: turn 1s linear infinite;\n      }",document.head.appendChild(e),this.mountedView(a)}})},addPageWordsCount(t=0){let a=document.querySelector(".book-words");if(a)a.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${t}</a>`;else{let a=document.createElement("div");a.title="文章字数",a.className="book-words iconfont icon-book",a.style.float="left",a.style.marginLeft="20px",a.style.fontSize="0.8rem",a.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${t}</a>`,this.mountedView(a)}},addReadTimeCount(t=0){let a=document.querySelector(".reading-time");if(a)a.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${t}</a>`;else{let a=document.createElement("div");a.title="预阅读时长",a.className="reading-time iconfont icon-shijian",a.style.float="left",a.style.marginLeft="20px",a.style.fontSize="0.8rem",a.innerHTML=`<a href="javascript:;" style="margin-left: 3px; color: #888">${t}</a>`,this.mountedView(a)}},mountedView(t,a=100,e=".articleInfo-wrap > .articleInfo > .info"){let s=document.querySelector(e);if(s)this.isMountedView(t,s)||s.appendChild(t);else{let r=setInterval(()=>{s=document.querySelector(e),s&&(this.isMountedView(t,s)||(s.appendChild(t),clearInterval(r)))},a);this.$once("hook:beforeDestroy",()=>{clearInterval(r),r=null})}},removeElement(t){var a=document.querySelector(t);a&&a.parentNode.removeChild(a)},isMountedView:(t,a)=>t.parentNode==a,addExpand(t=40){let a=document.getElementsByClassName("line-numbers-mode");Array.from(a).forEach(a=>{if(!a.getElementsByClassName("expand")[0]){let e=a.offsetHeight;0==e&&"cardImgListContainer"!=a.parentNode.className&&(e=this.getHiddenElementHight(a)),e-=12,a.style.height=e+"px";let s=a.getElementsByTagName("pre")[0],r=a.getElementsByClassName("line-numbers-wrapper")[0];const n=document.createElement("div");n.className="expand icon-xiangxiajiantou iconfont",n.onclick=()=>{parseInt(a.style.height)==t?(n.className="expand icon-xiangxiajiantou iconfont",a.style.height=e+"px",setTimeout(()=>{s.style.display="block",r.style.display="block"},80)):(n.className="expand icon-xiangxiajiantou iconfont closed",a.style.height=t+"px",setTimeout(()=>{s.style.display="none",r.style.display="none"},300))},a.append(n),a.append(this.addCircle())}this.getLanguage(a);let e=!1,s=setInterval(()=>{e=this.moveCopyBlock(a),e&&clearInterval(s)},1e3)})},getHiddenElementHight(t){let a;return"none"!=t.parentNode.style.display&&"theme-code-block theme-code-block__active"==t.parentNode.className||(t.parentNode.style.display="block",a=t.offsetHeight,t.parentNode.style.display="none","theme-code-block"!=t.parentNode.className&&"cardListContainer"!=t.parentNode.className||(t.parentNode.style.display="")),a},addCircle(){let t=document.createElement("div");return t.className="circle",t},moveCopyBlock(t){let a=t.getElementsByClassName("code-copy")[0];return!(!a||a.parentNode==t)&&(a.parentNode.parentNode.insertBefore(a,a.parentNode),!0)},getLanguage(t){let a=getComputedStyle(t,":before").getPropertyValue("content");if(2==a.length||""==a||"none"==a){let a=t.className.substring("language".length+1,t.className.indexOf(" "));t.setAttribute("data-language",a)}}},beforeMount(){u.forEach(t=>{this.removeElement("."+t.className)}),this.removeElement(".book-words"),this.removeElement(".reading-time")}},b=(e(380),e(8)),h=Object(b.a)(d,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);a.default=h.exports},386:function(t,a,e){"use strict";e.r(a);e(45);var s={mounted(){setTimeout(()=>{this.mounteElement(),this.canvasBubble()},200)},methods:{canvasBubble(){let t=document.getElementById("canvas");t.width=window.innerWidth,t.height=window.innerHeight,t.style.position="fixed";let a=t.getContext("2d"),[e,s]=[t.width,t.height],r=[];for(let t=0;t<200;t++){let t=n();r.push(t)}function n(){let t=Math.random()*e,a=5*Math.random()+5;return{x:t,y:s+2*a+10*Math.random(),r:a,s:1*Math.random()+1}}!function e(){window.requestAnimationFrame(e),a.fillStyle="rgba(0, 0, 0, .5)",a.rect(0,0,t.width,t.height),a.fill(),r.forEach(({x:t,y:e,r:s,s:v},_)=>{(e-=v)<=-s-10||Math.random()>.995?r[_]=n():r[_]={x:t,y:e,r:s,s:v},function(t,e,s){a.beginPath();var r=a.createRadialGradient(t+s/3,e+s/3,.2*s,t+s/3,e+s/3,.8*s);r.addColorStop(0,"#333"),r.addColorStop(.6,"#ccc"),r.addColorStop(.8,"#efefef"),r.addColorStop(1,"#fff"),a.fillStyle=r,a.globalAlpha=.5,a.arc(t,e,s,0,2*Math.PI),a.fill(),a.closePath()}(t,e,s)})}()},mounteElement(){let t=document.getElementsByClassName("theme-container")[0],a=document.getElementById("bubble");t.append(a)}}},r=(e(376),e(8)),n=Object(r.a)(s,(function(){return(0,this._self._c)("canvas",{attrs:{id:"bubble"}})}),[],!1,null,null,null);a.default=n.exports},391:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){return(0,this._self._c)("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}})}),[],!1,null,null,null);a.default=r.exports},392:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){return(0,this._self._c)("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}})}),[],!1,null,null,null);a.default=r.exports},393:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){return(0,this._self._c)("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}})}),[],!1,null,null,null);a.default=r.exports},415:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("blockquote",[a("p",[t._v("本文主要介绍：\n如何从零开始使用 Jpom 中的本地构建+节点项目管理+脚本管理实现自定义管理 Python 项目（自定义启动项目，停止，查状态）")]),t._v(" "),a("p",[t._v("本文中服务端和插件端是安装在同一个服务器中的，实际操作时根据业务情况来安装")]),t._v(" "),a("p",[t._v("文中使用到的依赖环境版本仅供参考，实际使用中请根据业务情况来安装对应的版本")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：本文采用一键安装同时基于 2.8.8 版本讲解,系统为 ubuntu\n系统自带 python 环境不需要单独安装，教程中系统 python 版本 2.7.17")])]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端、Jpom 插件端（安装 jpom 需要 java 环境）")])]),t._v(" "),a("h2",{attrs:{id:"安装服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装服务端"}},[t._v("#")]),t._v(" 安装服务端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 提前创建好文件夹 并且切换到对应到文件夹执行命令\nmkdir -p /home/jpom/server/\ncd /home/jpom/server/\napt-get install -y wget && wget -O install.sh https://jpom.top/docs/install.sh && bash install.sh Server jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"初始化服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化服务端"}},[t._v("#")]),t._v(" 初始化服务端")]),t._v(" "),a("h4",{attrs:{id:"添加超级管理账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加超级管理账号"}},[t._v("#")]),t._v(" 添加超级管理账号")]),t._v(" "),a("blockquote",[a("p",[t._v("添加一个超级管理员账号，请妥善保管此账号同时请设置安全度较强的密码")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h4",{attrs:{id:"开启账号-mfa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启账号-mfa"}},[t._v("#")]),t._v(" 开启账号 MFA")]),t._v(" "),a("blockquote",[a("p",[t._v("为了系统安全，强烈建议超级管理员账号开启 MFA 两步验证")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"安装插件端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装插件端"}},[t._v("#")]),t._v(" 安装插件端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 提前创建好文件夹 并且切换到对应到文件夹执行命令\nmkdir -p /home/jpom/agent/\ncd /home/jpom/agent/\napt-get install -y wget && wget -O install.sh https://jpom.top/docs/install.sh && bash install.sh Agent jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install-agent1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install-agent2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"添加节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加节点"}},[t._v("#")]),t._v(" 添加节点")]),t._v(" "),a("p",[t._v("注意要填写端口号哟")]),t._v(" "),a("p",[t._v("这里的节点账号密码和超级管理员账号密码是两个东西哟")]),t._v(" "),a("p",[t._v("节点账号密码在安装启动成功后会输出到控制台，请根据输出到内容填写。如果自己修改了账号密码则填写修改后的")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inita1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置授权-白名单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置授权-白名单"}},[t._v("#")]),t._v(" 配置授权（白名单）")]),t._v(" "),a("p",[t._v("项目授权（白名单）是为了防止随意配置目录，同时也为了保护系统目录")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inita2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"创建脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建脚本"}},[t._v("#")]),t._v(" 创建脚本")]),t._v(" "),a("p",[t._v("注意："),a("code",[t._v("Ubuntu/Debian")]),t._v(" 执行脚本如果出现错误\n"),a("code",[t._v('Syntax error: "(" unexpected')]),t._v("\n代码对于标准bash而言没有错，因为 "),a("code",[t._v("Ubuntu/Debian")]),t._v(" 为了加快开机速度，用dash代替了传统的bash，是dash在捣鬼。")]),t._v(" "),a("p",[t._v("解决方法: 就是取消"),a("code",[t._v("dash")])]),t._v(" "),a("p",[t._v("执行："),a("code",[t._v("sudo dpkg-reconfigure dash")]),t._v(" 在选择项中选No，搞定了！")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/edit-script1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("脚本内容：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#!/bin/bash\nTag="Application_${PROJECT_ID}"\nLib="${PROJECT_PATH}"\nLog="${PROJECT_PATH}/run.log"\necho $Tag\nRETVAL="0"\n\n# See how we were called.\nfunction start() {\n    echo  $Log \n    if [ ! -f $Log ]; then\n        touch $Log\n    fi\n   \n   cd $Lib && nohup python -m SimpleHTTPServer 8000 $Tag > $Log 2>&1 &  \n\tsleep 5\n    head -n 10 $Log\n}\n\n\nfunction stop() {\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    if [ "$pid" != "" ]; then      \n        echo -n "boot ( pid $pid) is running" \n        echo \n        echo -n $"Shutting down boot: "\n        pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n        if [ "$pid" != "" ]; then\n            echo "kill boot process"\n            kill -9 "$pid"\n        fi\n        else \n             echo "boot is stopped" \n        fi\n\n    status\n}\n\nfunction status()\n{\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    #echo "$pid"\n    if [ "$pid" != "" ]; then\n        echo "running:$pid"\n    else\n        echo "boot is stopped"\n    fi\n}\n\n# See how we were called.\nRETVAL="0"\ncase "$1" in\n    start)\n        start\n        ;;\n    stop)\n        stop\n        ;;\n    status)\n        status\n        ;;\n    *)\n      usage\n      ;;\nesac\n\nexit $RETVAL\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br")])]),a("blockquote",[a("ol",[a("li",[a("p",[t._v("脚本里面至少需要实现的三件事："),a("strong",[t._v("启动")]),t._v("、"),a("strong",[t._v("停止")]),t._v("、"),a("strong",[t._v("查状态")])])]),t._v(" "),a("li",[a("p",[t._v("查状态输出最后一行需要是 "),a("code",[t._v("running:$pid")]),t._v(" $pid 必须为数字且表示当前项目的进程 id ，如果不匹配项目则显示未运行")])])])]),t._v(" "),a("p",[t._v("提供的示例里面将使用三个函数来实现：start、stop、status")]),t._v(" "),a("p",[t._v("里面的细节这里不过多的说明，可以自由发挥（给您足够的空间）")]),t._v(" "),a("p",[t._v("脚本里面支持的变量有：${PROJECT_ID}、${PROJECT_NAME}、${PROJECT_PATH}")]),t._v(" "),a("p",[t._v("如果多个项目管理方式相同，脚本模版可以重复使用奥（并非一个项目对应一个脚本模版）")]),t._v(" "),a("p",[t._v("更新脚本示例："),a("RouterLink",{attrs:{to:"/FQA/DSL.html"}},[t._v("✈️进入>>")])],1),t._v(" "),a("h2",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/edit-project.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[t._v("scriptArgs 为对应环节执行脚本传人的参数,这里可以使用空格隔空传人多个参数")]),t._v(" "),a("li",[t._v("scriptId 需要填写当前节点里面存在的脚本的 id,脚本ID 可以在编辑脚本弹窗里面查看，如下图")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/edit-script2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"添加构建仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加构建仓库"}},[t._v("#")]),t._v(" 添加构建仓库")]),t._v(" "),a("p",[t._v("这里使用 jpom 演示的仓库中的 python")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/repo1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_python/repo2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"添加本地构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加本地构建"}},[t._v("#")]),t._v(" 添加本地构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/build1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里需要注意构建产物目录：是指仓库下面的相对路径")]),t._v(" "),a("p",[t._v("发布项目需要选择节点再选择项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/build2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/build3.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("执行构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/build4.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("看到最后输出上传成功并重启表示项目已经发布完成")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/build5.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"查看项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看项目"}},[t._v("#")]),t._v(" 查看项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_python/project-list.png",alt:"install1",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},417:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("blockquote",[a("p",[t._v("本文主要介绍：")]),t._v(" "),a("p",[t._v("如何使用 Jpom 中的容器构建来实现构建 docker 镜像并推送到远程仓库的流程")])]),t._v(" "),a("p",[t._v("需要使用到的功能有：")]),t._v(" "),a("ol",[a("li",[t._v("仓库管理")]),t._v(" "),a("li",[t._v("在线构建 -> 构建列表：将仓库代码打包出运行文件")]),t._v(" "),a("li",[t._v("docker 管理")]),t._v(" "),a("li",[t._v("在线构建发布到 docker 镜像并推送到远程仓库")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：本文采用一键安装同时基于 2.11.6版本讲解,系统为 centos")])]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端（已经安装好、并且配置好了 node 环境）")]),t._v(" "),a("li",[t._v("一个 web 项目仓库 并且已经有 "),a("code",[t._v("DockerFile")]),t._v(" 文件")]),t._v(" "),a("li",[t._v("nginx配置文件，下文会贴出示例")])]),t._v(" "),a("p",[t._v("本文就不再从零开始讲解安装教程，如果有不知道该如何安装的可以查看相关文档")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/pages/15b7a2/"}},[t._v("一键安装实践")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/c846d3/"}},[t._v("Docker 容器安装")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/af288b/"}},[t._v("离线安装")])],1)]),t._v(" "),a("p",[a("em",[t._v("本文使用物理机直接安装 Jpom 服务端的方式")])]),t._v(" "),a("p",[t._v("案例仓库地址："),a("a",{attrs:{href:"https://gitee.com/autools/vue-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/autools/vue-demo"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"操作指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作指南"}},[t._v("#")]),t._v(" 操作指南")]),t._v(" "),a("h3",{attrs:{id:"配置-docker-到-jpom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-到-jpom"}},[t._v("#")]),t._v(" 配置 docker 到 Jpom")]),t._v(" "),a("p",[t._v("这个步骤主要是在 Jpom 添加 docker 服务，这样可以使用 Jpom 来管理 docker")]),t._v(" "),a("p",[a("strong",[t._v("详细操作步骤："),a("RouterLink",{attrs:{to:"/pages/practice/docker-cli/"}},[t._v("操作文档>>")])],1),t._v(" (本文默认您已经配置好了)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里我们为 docker 添加一个标签值为："),a("code",[t._v("local")]),t._v(" （注意这个值后续会用到）")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("如果服务端所在服务器中存在 docker 建议使用"),a("code",[t._v("自动探测")]),t._v("方式来添加")])]),t._v(" "),a("blockquote",[a("p",[t._v("本文因为服务端所在的服务器存在 docker，所以 docker 地址为："),a("code",[t._v("unix:///var/run/docker.sock")])])]),t._v(" "),a("h3",{attrs:{id:"配置-docker-仓库授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-仓库授权"}},[t._v("#")]),t._v(" 配置 docker 仓库授权")]),t._v(" "),a("p",[t._v("本次采用阿里云容器镜像仓库为示例，其他 docker 仓库基本大同小异")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置项目仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项目仓库"}},[t._v("#")]),t._v(" 配置项目仓库")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-web-images/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库目录截图\n"),a("img",{attrs:{src:"/images/tutorial/build-docker-web-images/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置在线构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置在线构建"}},[t._v("#")]),t._v(" 配置在线构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-web-images/img2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-web-images/img3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("构建命令")]),t._v("：\n"),a("strong",[t._v("DockerFile")])]),t._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 基础镜像 目前仅支持 ubuntu-latest")]),t._v("\n  runsOn: ubuntu-latest\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用哪个 docker 构建,填写 docker 标签 默认查询可用的第一个,如果 tag 查询出多个也选择第一个结果")]),t._v("\n  fromTag: local\n  steps:\n    - uses: node\n      version: 16.3.0\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将此目录缓存到全局（多个构建可以共享此缓存目录）")]),t._v("\n      type: global\n    - run: npm config set registry https://registry.npmmirror.com\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 内置变量 ${JPOM_WORKING_DIR} ${JPOM_BUILD_ID}")]),t._v("\n    - run: cd  ${JPOM_WORKING_DIR}/ && npm i && npm run build\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 给容器新增环境变量")]),t._v("\n  env:\n    NODE_OPTIONS: --max-old-space-size=900\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])]),a("p",[t._v("您需要根据的项目来确定打包命令")]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("产物目录")]),t._v("："),a("code",[t._v("dist")]),t._v(" 您需要根据的项目来确定产物目录（不了解产物目录该怎么填写的可以查看："),a("RouterLink",{attrs:{to:"/pages/0b946a/#产物目录"}},[t._v("说明文档")]),t._v("）")],1),t._v(" "),a("p",[a("strong",[t._v("执行容器")]),t._v("：这里填写在 Jpom 添加 docker 的标签值 ，我们前面为 docker 添加的标签值为 "),a("code",[t._v("local")]),t._v("，这里我们填它即可")]),t._v(" "),a("blockquote",[a("p",[t._v("执行容器指使用哪个 docker 构建,填写 docker 标签（ 标签在 docker 编辑页面配置） 默认查询可用的第一个,如果 tag 查询出多个将依次构建")])]),t._v(" "),a("p",[a("img",{attrs:{src:e(373),alt:"img_4.png",loading:"lazy"}}),t._v(" "),a("strong",[t._v("镜像 tag")]),t._v("："),a("code",[t._v("registry.cn-shanghai.aliyuncs.com/jpom-demo/vue-demo:1.1")])]),t._v(" "),a("p",[t._v("这里注意：一定要写对命名空间不然没有办法正常推送到远程仓库")]),t._v(" "),a("blockquote",[a("p",[t._v("容器标签,如：xxxx:latest 多个使用逗号隔开")]),t._v(" "),a("p",[t._v("这里根据您您的项目情况来填写您需要的镜像标签名，注意这里支持使用仓库目录下的变量文件替换变量来实现动态标签名（tag 名）")])]),t._v(" "),a("blockquote",[a("p",[t._v("在 2.9.19+ 版本 需要手动配置 "),a("code",[t._v("附加环境变量")]),t._v(" 来实现加载仓库目录下 .env 文件环境变量")])]),t._v(" "),a("blockquote",[a("p",[t._v("使用变量替换示例：xxxx:${VERSION}，添加 "),a("code",[t._v("附加环境变量")]),t._v(" .env 文件 后，如果 .env 文件存在 VERSION=1.2 那么替换后为：xxxx:1.2")])]),t._v(" "),a("p",[a("strong",[t._v("Dockerfile")]),t._v("：这里添加的 `Dockerfile")]),t._v(" "),a("blockquote",[a("p",[t._v("如果您的 Dockerfile 在仓库根路径，直接填写对应的文件名即可。这里支持二级目录的作用主要是用于指定到二级目录里面执行构建，因为部分 Dockerfile 里面 "),a("code",[t._v("ADD")]),t._v(" "),a("code",[t._v("COPY")]),t._v(" 指令是相对路径的情况")])]),t._v(" "),a("p",[a("strong",[t._v("版本递增")])]),t._v(" "),a("blockquote",[a("p",[t._v("开启 dockerTag 版本递增后将在每次构建时自动将版本号最后一位数字同步为构建序号ID")]),t._v(" "),a("p",[t._v("如：当前构建为第 100 次构建")]),t._v(" "),a("p",[t._v("testtag:1.0 -> testtag:1.100")]),t._v(" "),a("p",[t._v("testtag:1.0.release -> testtag:1.100.release")]),t._v(" "),a("p",[t._v("如果没有匹配到数字将忽略递增操作")])]),t._v(" "),a("h3",{attrs:{id:"执行构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行构建"}},[t._v("#")]),t._v(" 执行构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_8.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里的镜像标签最终转换为："),a("code",[t._v("registry.cn-shanghai.aliyuncs.com/jpom-demo/vue-demo:1.1")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"查看远程仓库中的镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看远程仓库中的镜像"}},[t._v("#")]),t._v(" 查看远程仓库中的镜像")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_4.png",alt:"img_4.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("至此我们就可以通过 Jpom 来实现构建镜像并且可以推送到远程仓库了")]),t._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[t._v("#")]),t._v(" 补充说明")]),t._v(" "),a("p",[t._v("使用阿里云镜像仓库需要创建"),a("code",[t._v("命名空间")]),t._v("、"),a("code",[t._v("镜像仓库")]),t._v("，具体操作可以登录阿里云镜像仓库控制台查看")]),t._v(" "),a("h3",{attrs:{id:"命令空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令空间"}},[t._v("#")]),t._v(" 命令空间")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"镜像仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像仓库"}},[t._v("#")]),t._v(" 镜像仓库")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_6.png",alt:"img_6.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"附件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附件"}},[t._v("#")]),t._v(" 附件")]),t._v(" "),a("p",[a("strong",[t._v("DockerFile")])]),t._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# production environment")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" library/nginx:1.18.0-alpine")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JPOM_WORKING_DIR}")]),t._v("/build /usr/share/nginx/html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COPY")]),t._v(" tools/default.conf /etc/nginx/conf.d/default.conf")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports},419:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("blockquote",[a("p",[t._v("本文主要介绍：")]),t._v(" "),a("p",[t._v("如何使用 Jpom 中的在线构建来实现构建 docker 镜像的流程")])]),t._v(" "),a("p",[t._v("需要使用到的功能有：")]),t._v(" "),a("ol",[a("li",[t._v("仓库管理")]),t._v(" "),a("li",[t._v("在线构建 -> 本地构建：将仓库代码打包出运行文件")]),t._v(" "),a("li",[t._v("docker 管理")]),t._v(" "),a("li",[t._v("在线构建发布到 docker 镜像")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：本文采用一键安装同时基于 2.9.18 版本讲解,系统为 centos")])]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端（已经安装好、并且配置好了 maven 环境）")]),t._v(" "),a("li",[t._v("一个 Java 项目仓库 并且已经有 "),a("code",[t._v("DockerFile")]),t._v(" 文件")])]),t._v(" "),a("p",[t._v("本文就不再从零开始讲解安装教程，如果有不知道该如何安装的可以查看相关文档")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/pages/15b7a2/"}},[t._v("一键安装实践")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/c846d3/"}},[t._v("Docker 容器安装")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/af288b/"}},[t._v("离线安装")])],1)]),t._v(" "),a("p",[a("em",[t._v("本文使用物理机直接安装 Jpom 服务端的方式")])]),t._v(" "),a("p",[t._v("案例仓库地址："),a("a",{attrs:{href:"https://gitee.com/keepbx/Jpom-demo-case/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/keepbx/Jpom-demo-case/"),a("OutboundLink")],1),t._v(" -> "),a("a",{attrs:{href:"https://gitee.com/keepbx/Jpom-demo-case/tree/master/springboot-test-jar",target:"_blank",rel:"noopener noreferrer"}},[t._v("springboot-test-jar"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"操作指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作指南"}},[t._v("#")]),t._v(" 操作指南")]),t._v(" "),a("h3",{attrs:{id:"配置-docker-到-jpom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-到-jpom"}},[t._v("#")]),t._v(" 配置 docker 到 Jpom")]),t._v(" "),a("p",[t._v("这个步骤主要是在 Jpom 添加 docker 服务，这样可以使用 Jpom 来管理 docker")]),t._v(" "),a("p",[a("strong",[t._v("详细操作步骤："),a("RouterLink",{attrs:{to:"/pages/practice/docker-cli/"}},[t._v("操作文档>>")])],1),t._v(" (本文默认您已经配置好了)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里我们为 docker 添加一个标签值为："),a("code",[t._v("test")]),t._v(" （注意这个值后续会用到）")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("如果服务端所在服务器中存在 docker 建议使用"),a("code",[t._v("自动探测")]),t._v("方式来添加")])]),t._v(" "),a("blockquote",[a("p",[t._v("本文因为服务端所在的服务器存在 docker，所以 docker 地址为："),a("code",[t._v("unix:///var/run/docker.sock")])])]),t._v(" "),a("h3",{attrs:{id:"配置项目仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项目仓库"}},[t._v("#")]),t._v(" 配置项目仓库")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库目录截图")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_4.png",alt:"img_4.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置在线构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置在线构建"}},[t._v("#")]),t._v(" 配置在线构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("构建命令")]),t._v("："),a("code",[t._v("mvn clean package -DskipTests")]),t._v(" 您需要根据的项目来确定打包命令")]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("产物目录")]),t._v("："),a("code",[t._v("springboot-test-jar/target/springboot-test-jar-0.0.1-SNAPSHOT.jar")]),t._v(" 您需要根据的项目来确定产物目录（不了解产物目录该怎么填写的可以查看："),a("RouterLink",{attrs:{to:"/pages/0b946a/#产物目录"}},[t._v("说明文档")]),t._v("）")],1),t._v(" "),a("p",[a("strong",[t._v("执行容器")]),t._v("：这里填写在 Jpom 添加 docker 的标签值 ，我们前面为 docker 添加的标签值为 "),a("code",[t._v("test")]),t._v("，这里我们填它即可")]),t._v(" "),a("blockquote",[a("p",[t._v("执行容器指使用哪个 docker 构建,填写 docker 标签（ 标签在 docker 编辑页面配置） 默认查询可用的第一个,如果 tag 查询出多个将依次构建")])]),t._v(" "),a("p",[a("strong",[t._v("镜像 tag")]),t._v("："),a("code",[t._v("jpom-test:1.0")])]),t._v(" "),a("blockquote",[a("p",[t._v("容器标签,如：xxxx:latest 多个使用逗号隔开")]),t._v(" "),a("p",[t._v("这里根据您您的项目情况来填写您需要的镜像标签名，注意这里支持使用仓库目录下的变量文件替换变量来实现动态标签名（tag 名）")])]),t._v(" "),a("blockquote",[a("p",[t._v("在 2.9.19+ 版本 需要手动配置 "),a("code",[t._v("附加环境变量")]),t._v(" 来实现加载仓库目录下 .env 文件环境变量")])]),t._v(" "),a("blockquote",[a("p",[t._v("使用变量替换示例：xxxx:${VERSION}，添加 "),a("code",[t._v("附加环境变量")]),t._v(" .env 文件 后，如果 .env 文件存在 VERSION=1.2 那么替换后为：xxxx:1.2")])]),t._v(" "),a("p",[a("strong",[t._v("Dockerfile")]),t._v("：这里添加的 "),a("code",[t._v("springboot-test-jar:springboot-test-jar/Dockerfile")])]),t._v(" "),a("blockquote",[a("p",[t._v("指使用哪个仓库里面的哪个 Dockerfile 文件来执行构建操作,如果多文件夹查看可以指定二级目录如果 springboot-test-jar:springboot-test-jar/Dockerfile")])]),t._v(" "),a("blockquote",[a("p",[t._v("如果您的 Dockerfile 在仓库根路径，直接填写对应的文件名即可。这里支持二级目录的作用主要是用于指定到二级目录里面执行构建，因为部分 Dockerfile 里面 "),a("code",[t._v("ADD")]),t._v(" "),a("code",[t._v("COPY")]),t._v(" 指令是相对路径的情况")])]),t._v(" "),a("p",[a("strong",[t._v("版本递增")])]),t._v(" "),a("blockquote",[a("p",[t._v("开启 dockerTag 版本递增后将在每次构建时自动将版本号最后一位数字同步为构建序号ID")]),t._v(" "),a("p",[t._v("如：当前构建为第 100 次构建")]),t._v(" "),a("p",[t._v("testtag:1.0 -> testtag:1.100")]),t._v(" "),a("p",[t._v("testtag:1.0.release -> testtag:1.100.release")]),t._v(" "),a("p",[t._v("如果没有匹配到数字将忽略递增操作")])]),t._v(" "),a("h3",{attrs:{id:"执行构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行构建"}},[t._v("#")]),t._v(" 执行构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_6.png",alt:"img_6.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里可以看到我们的镜像标签最终转换为："),a("code",[t._v("jpom-test:1.1")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_7.png",alt:"img_7.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"管理镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#管理镜像"}},[t._v("#")]),t._v(" 管理镜像")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_8.png",alt:"img_8.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_9.png",alt:"img_9.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("到这里我们可以看到我们构建出现的镜像了，接下来就是我们将这个镜像运行起来")]),t._v(" "),a("h3",{attrs:{id:"通过镜像创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过镜像创建容器"}},[t._v("#")]),t._v(" 通过镜像创建容器")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_10.png",alt:"img_10.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_12.png",alt:"img_12.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_11.png",alt:"img_11.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("至此我们就可以通过 Jpom 来实现构建镜像，通过镜像创建容器并且可以查看容器日志了")]),t._v(" "),a("h2",{attrs:{id:"附件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附件"}},[t._v("#")]),t._v(" 附件")]),t._v(" "),a("p",[a("strong",[t._v("DockerFile")])]),t._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" openjdk:8")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" WORK_PATH=/home/jpom-test/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" RUN_LOG=/home/jpom-test-log/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JAR_NAME=springboot-test-jar-0.0.1-SNAPSHOT.jar")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" CODE_DIR="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ADD  ./target/ .")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" ./target "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" ./script/run.sh "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")]),t._v("/run.sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 8084")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#ENTRYPOINT [ "java","-Djava.security.egd=file:/dev/./urandom", "-jar","/${jarName}"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/jpom-test/run.sh"')]),t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports},420:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("blockquote",[a("p",[t._v("本文主要介绍：")]),t._v(" "),a("p",[t._v("如何使用 Jpom 中的在线构建来实现构建 docker 镜像并推送到远程仓库的流程")])]),t._v(" "),a("p",[t._v("需要使用到的功能有：")]),t._v(" "),a("ol",[a("li",[t._v("仓库管理")]),t._v(" "),a("li",[t._v("在线构建 -> 本地构建：将仓库代码打包出运行文件")]),t._v(" "),a("li",[t._v("docker 管理")]),t._v(" "),a("li",[t._v("在线构建发布到 docker 镜像并推送到远程仓库")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：本文采用一键安装同时基于 2.9.18 版本讲解,系统为 centos")])]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端（已经安装好、并且配置好了 maven 环境）")]),t._v(" "),a("li",[t._v("一个 Java 项目仓库 并且已经有 "),a("code",[t._v("DockerFile")]),t._v(" 文件")])]),t._v(" "),a("p",[t._v("本文就不再从零开始讲解安装教程，如果有不知道该如何安装的可以查看相关文档")]),t._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/pages/15b7a2/"}},[t._v("一键安装实践")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/c846d3/"}},[t._v("Docker 容器安装")])],1),t._v(" "),a("li",[a("RouterLink",{attrs:{to:"/pages/af288b/"}},[t._v("离线安装")])],1)]),t._v(" "),a("p",[a("em",[t._v("本文使用物理机直接安装 Jpom 服务端的方式")])]),t._v(" "),a("p",[t._v("案例仓库地址："),a("a",{attrs:{href:"https://gitee.com/keepbx/Jpom-demo-case/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/keepbx/Jpom-demo-case/"),a("OutboundLink")],1),t._v(" -> "),a("a",{attrs:{href:"https://gitee.com/keepbx/Jpom-demo-case/tree/master/springboot-test-jar",target:"_blank",rel:"noopener noreferrer"}},[t._v("springboot-test-jar"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"操作指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作指南"}},[t._v("#")]),t._v(" 操作指南")]),t._v(" "),a("h3",{attrs:{id:"配置-docker-到-jpom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-到-jpom"}},[t._v("#")]),t._v(" 配置 docker 到 Jpom")]),t._v(" "),a("p",[t._v("这个步骤主要是在 Jpom 添加 docker 服务，这样可以使用 Jpom 来管理 docker")]),t._v(" "),a("p",[a("strong",[t._v("详细操作步骤："),a("RouterLink",{attrs:{to:"/pages/practice/docker-cli/"}},[t._v("操作文档>>")])],1),t._v(" (本文默认您已经配置好了)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里我们为 docker 添加一个标签值为："),a("code",[t._v("test")]),t._v(" （注意这个值后续会用到）")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("如果服务端所在服务器中存在 docker 建议使用"),a("code",[t._v("自动探测")]),t._v("方式来添加")])]),t._v(" "),a("blockquote",[a("p",[t._v("本文因为服务端所在的服务器存在 docker，所以 docker 地址为："),a("code",[t._v("unix:///var/run/docker.sock")])])]),t._v(" "),a("h3",{attrs:{id:"配置-docker-仓库授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-仓库授权"}},[t._v("#")]),t._v(" 配置 docker 仓库授权")]),t._v(" "),a("p",[t._v("本次采用阿里云容器镜像仓库为示例，其他 docker 仓库基本大同小异")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置项目仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置项目仓库"}},[t._v("#")]),t._v(" 配置项目仓库")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库目录截图")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_4.png",alt:"img_4.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置在线构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置在线构建"}},[t._v("#")]),t._v(" 配置在线构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("构建命令")]),t._v("："),a("code",[t._v("mvn clean package -DskipTests")]),t._v(" 您需要根据的项目来确定打包命令")]),t._v(" "),a("p",[t._v("仓库"),a("strong",[t._v("产物目录")]),t._v("："),a("code",[t._v("springboot-test-jar/target/springboot-test-jar-0.0.1-SNAPSHOT.jar")]),t._v(" 您需要根据的项目来确定产物目录（不了解产物目录该怎么填写的可以查看："),a("RouterLink",{attrs:{to:"/pages/0b946a/#产物目录"}},[t._v("说明文档")]),t._v("）")],1),t._v(" "),a("p",[a("strong",[t._v("执行容器")]),t._v("：这里填写在 Jpom 添加 docker 的标签值 ，我们前面为 docker 添加的标签值为 "),a("code",[t._v("test")]),t._v("，这里我们填它即可")]),t._v(" "),a("blockquote",[a("p",[t._v("执行容器指使用哪个 docker 构建,填写 docker 标签（ 标签在 docker 编辑页面配置） 默认查询可用的第一个,如果 tag 查询出多个将依次构建")])]),t._v(" "),a("p",[a("strong",[t._v("镜像 tag")]),t._v("："),a("code",[t._v("registry.cn-shanghai.aliyuncs.com/jpom-demo/jpomtestdocker:1.0")])]),t._v(" "),a("p",[t._v("这里注意：一定要写对命名空间不然没有办法正常推送到远程仓库")]),t._v(" "),a("p",[t._v("阿里云仓库可以参考页面提示")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_2.png",alt:"img_2.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("容器标签,如：xxxx:latest 多个使用逗号隔开")]),t._v(" "),a("p",[t._v("这里根据您您的项目情况来填写您需要的镜像标签名，注意这里支持使用仓库目录下的变量文件替换变量来实现动态标签名（tag 名）")])]),t._v(" "),a("blockquote",[a("p",[t._v("在 2.9.19+ 版本 需要手动配置 "),a("code",[t._v("附加环境变量")]),t._v(" 来实现加载仓库目录下 .env 文件环境变量")])]),t._v(" "),a("blockquote",[a("p",[t._v("使用变量替换示例：xxxx:${VERSION}，添加 "),a("code",[t._v("附加环境变量")]),t._v(" .env 文件 后，如果 .env 文件存在 VERSION=1.2 那么替换后为：xxxx:1.2")])]),t._v(" "),a("p",[a("strong",[t._v("Dockerfile")]),t._v("：这里添加的 "),a("code",[t._v("springboot-test-jar:springboot-test-jar/Dockerfile")])]),t._v(" "),a("blockquote",[a("p",[t._v("指使用哪个仓库里面的哪个 Dockerfile 文件来执行构建操作,如果多文件夹查看可以指定二级目录如果 springboot-test-jar:springboot-test-jar/Dockerfile")])]),t._v(" "),a("blockquote",[a("p",[t._v("如果您的 Dockerfile 在仓库根路径，直接填写对应的文件名即可。这里支持二级目录的作用主要是用于指定到二级目录里面执行构建，因为部分 Dockerfile 里面 "),a("code",[t._v("ADD")]),t._v(" "),a("code",[t._v("COPY")]),t._v(" 指令是相对路径的情况")])]),t._v(" "),a("p",[a("strong",[t._v("版本递增")])]),t._v(" "),a("blockquote",[a("p",[t._v("开启 dockerTag 版本递增后将在每次构建时自动将版本号最后一位数字同步为构建序号ID")]),t._v(" "),a("p",[t._v("如：当前构建为第 100 次构建")]),t._v(" "),a("p",[t._v("testtag:1.0 -> testtag:1.100")]),t._v(" "),a("p",[t._v("testtag:1.0.release -> testtag:1.100.release")]),t._v(" "),a("p",[t._v("如果没有匹配到数字将忽略递增操作")])]),t._v(" "),a("h3",{attrs:{id:"执行构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行构建"}},[t._v("#")]),t._v(" 执行构建")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_8.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里可以看到我们的镜像标签最终转换为："),a("code",[t._v("registry.cn-shanghai.aliyuncs.com/jpom-demo/jpomtestdocker:1.1")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_3.png",alt:"img_3.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"查看远程仓库中的镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看远程仓库中的镜像"}},[t._v("#")]),t._v(" 查看远程仓库中的镜像")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_4.png",alt:"img_4.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("至此我们就可以通过 Jpom 来实现构建镜像并且可以推送到远程仓库了")]),t._v(" "),a("h2",{attrs:{id:"补充说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充说明"}},[t._v("#")]),t._v(" 补充说明")]),t._v(" "),a("p",[t._v("使用阿里云镜像仓库需要创建"),a("code",[t._v("命名空间")]),t._v("、"),a("code",[t._v("镜像仓库")]),t._v("，具体操作可以登录阿里云镜像仓库控制台查看")]),t._v(" "),a("h3",{attrs:{id:"命令空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令空间"}},[t._v("#")]),t._v(" 命令空间")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_5.png",alt:"img_5.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"镜像仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#镜像仓库"}},[t._v("#")]),t._v(" 镜像仓库")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/build-docker-images-push/img_6.png",alt:"img_6.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"附件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#附件"}},[t._v("#")]),t._v(" 附件")]),t._v(" "),a("p",[a("strong",[t._v("DockerFile")])]),t._v(" "),a("div",{staticClass:"language-dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" openjdk:8")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" WORK_PATH=/home/jpom-test/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" RUN_LOG=/home/jpom-test-log/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" JAR_NAME=springboot-test-jar-0.0.1-SNAPSHOT.jar")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENV")]),t._v(" CODE_DIR="),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WORKDIR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ADD  ./target/ .")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" ./target "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" ./script/run.sh "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${WORK_PATH}")]),t._v("/run.sh")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXPOSE")]),t._v(" 8084")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#ENTRYPOINT [ "java","-Djava.security.egd=file:/dev/./urandom", "-jar","/${jarName}"]')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENTRYPOINT")]),t._v(" ["),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/bin/bash"')]),t._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home/jpom-test/run.sh"')]),t._v("]")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports},428:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("Jpom 中的项目监控是判断项目的运行状态，项目的非 DSL 模式的运行状态又是通过 jps 查找进程 id 来判断项目是否在运行中，这样在一些项目假死的情况是无法监控到的")]),t._v(" "),a("p",[t._v("但是如何能监控到项目的假死状态（假死一般是 CPU 满了，项目无法正常响应处理其他任务、死锁等），一般项目都可以通过是否能正常访问到接口来判断当前项目的状态或者项目的负载情况，以及接口里面可以自动判断条件来决定项目状态")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("本文主要介绍如果使用 DSL 模式的项目来实现接口探活管理项目运行状态并且监控到异常发送邮件通知")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("😋")]),t._v(" "),a("p",[t._v("本文是基于"),a("RouterLink",{attrs:{to:"/pages/ac7b66/"}},[a("code",[t._v("DSL项目接口探活")])]),t._v("实践案例来介绍，查看当前案例前请查阅 "),a("RouterLink",{attrs:{to:"/pages/ac7b66/"}},[t._v("DSL项目接口探活")]),t._v(" 案例")],1)]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端\n"),a("ol",[a("li",[t._v("安装 jpom 需要 java 环境")]),t._v(" "),a("li",[t._v("构建需要 maven 环境")])])]),t._v(" "),a("li",[t._v("Jpom 插件端\n"),a("ol",[a("li",[t._v("安装 jpom 需要 java 环境")])])]),t._v(" "),a("li",[t._v("一个代码仓库（案例中使用 java 项目）")]),t._v(" "),a("li",[t._v("一个邮件发送账号")])]),t._v(" "),a("h2",{attrs:{id:"项目的初始化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目的初始化配置"}},[t._v("#")]),t._v(" 项目的初始化配置")]),t._v(" "),a("p",[t._v("配置细节请参考："),a("RouterLink",{attrs:{to:"/pages/ac7b66/"}},[t._v("DSL项目接口探活")])],1),t._v(" "),a("h3",{attrs:{id:"dsl-脚本示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dsl-脚本示例"}},[t._v("#")]),t._v(" DSL 脚本示例")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Tag")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Application_'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${PROJECT_ID}")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MainClass")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"org.springframework.boot.loader.JarLauncher"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Lib")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${PROJECT_PATH}")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("Log")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${PROJECT_PATH}")]),t._v('/run.log"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JVM")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-server -Xms128m -Xmx128m -XX:PermSize=32M -XX:MaxNewSize=64m -XX:MaxPermSize=64m -Djava.awt.headless=true -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("TestUrl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://127.0.0.1:8084/random-sleep?max=3"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Tag")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RETVAL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See how we were called.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 先停止")]),t._v("\n    stop\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Log")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Log")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Log")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JVM")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Dappliction")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Tag")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Djava.ext.dirs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Lib")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${JAVA_HOME}")]),t._v('/jre/lib/ext"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MainClass")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Log")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$Log")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("stop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'grep'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("egrep")]),t._v(" $Tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{printf $2 \" \"}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("      \n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"boot ( pid '),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v(') is running"')]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Shutting down boot: "')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'grep'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("egrep")]),t._v(" $Tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{printf $2 \" \"}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"kill boot process"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v('"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" \n             "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"boot is stopped"')]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n    status\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("get_json_value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("json")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("local")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${json}")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[{,:}]"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{for(i=1;i<=NF;i++){if($i~\"'")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\"){print $(i+1)}}}'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/\\\"//g'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${value}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  这里的端口或者url 路径需要跟进您的项目端口和获取项目状态的接口来定")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("result_msg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-X")]),t._v(" GET "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--header")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Accept: application/json'")]),t._v(" --connect-timeout "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" $TestUrl"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#echo $result_msg")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"running:'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v("get_json_value "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${result_msg}")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"data"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# See how we were called.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("RETVAL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n    start"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        start\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    stop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        stop\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    status"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        status\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    *"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      usage\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$RETVAL")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br"),a("span",{staticClass:"line-number"},[t._v("69")]),a("br"),a("span",{staticClass:"line-number"},[t._v("70")]),a("br"),a("span",{staticClass:"line-number"},[t._v("71")]),a("br"),a("span",{staticClass:"line-number"},[t._v("72")]),a("br"),a("span",{staticClass:"line-number"},[t._v("73")]),a("br"),a("span",{staticClass:"line-number"},[t._v("74")]),a("br"),a("span",{staticClass:"line-number"},[t._v("75")]),a("br"),a("span",{staticClass:"line-number"},[t._v("76")]),a("br"),a("span",{staticClass:"line-number"},[t._v("77")]),a("br")])]),a("p",[t._v("说明：这里为了复现假死状态，特意模拟了休眠时间，并且将超时时间修改为 2 秒，实际使用中请修改为自己业务的端口和接口地址，以及超时时间")]),t._v(" "),a("blockquote",[a("p",[t._v("curl 请求超时时间不要过长，建议控制在 1 秒。因为获取项目状态是串行执行，如果单个项目 status 执行耗时过大会影响查看节点项目状态相关功能")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("补充说明")]),t._v(" "),a("p",[t._v("在 Jpom 中，重启流程看下图。在一些极端情况下，可能出现已经无法监控到运行状态了，但是项目进程还存在。这样如果直接执行启动很大可能出现项目端口被占用的情况。目前建议在 DSL 脚本的 start 方法中手动调用一下 stop（后续版本会优化此流程）")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/restart-steps.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"配置邮件发送信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置邮件发送信息"}},[t._v("#")]),t._v(" 配置邮件发送信息")]),t._v(" "),a("h3",{attrs:{id:"配置邮件发件人"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置邮件发件人"}},[t._v("#")]),t._v(" 配置邮件发件人")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/monitor-notice/img15.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注意：密码一般为授权码并发邮件的登陆密码，这里使用 QQ 邮箱为例，不同平台获取邮箱授权码方式不一样，实际使用中可以在搜索引擎中搜索查看生成邮箱授权码方法")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/monitor-notice/img16.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"配置监控信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置监控信息"}},[t._v("#")]),t._v(" 配置监控信息")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/dsl_curl_java/2img.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/dsl_curl_java/2img_1.png",alt:"img_1.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"愉快使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#愉快使用"}},[t._v("#")]),t._v(" 愉快使用")]),t._v(" "),a("p",[t._v("这样就实现使用接口来探活监控项目状态并且可以邮件报警等，更多配置效果等您来发现！")])])}),[],!1,null,null,null);a.default=r.exports},429:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("blockquote",[a("p",[t._v("本文主要介绍：\n如何从零开始使用 Jpom 中的节点项目管理+脚本管理实现自定义管理 Java 项目（自定义启动项目，停止，查状态）")]),t._v(" "),a("p",[t._v("本文中服务端和插件端是安装在同一个服务器中的，实际操作时根据业务情况来安装")]),t._v(" "),a("p",[t._v("文中使用到的依赖环境版本仅供参考，实际使用中请根据业务情况来安装对应的版本")])]),t._v(" "),a("blockquote",[a("p",[t._v("注意：本文采用一键安装同时基于 2.8.8 版本讲解,系统为 ubuntu")])]),t._v(" "),a("h2",{attrs:{id:"需要准备的环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要准备的环境"}},[t._v("#")]),t._v(" 需要准备的环境")]),t._v(" "),a("ol",[a("li",[t._v("Jpom 服务端、Jpom 插件端（安装 jpom 需要 java 环境）")])]),t._v(" "),a("h2",{attrs:{id:"安装服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装服务端"}},[t._v("#")]),t._v(" 安装服务端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 提前创建好文件夹 并且切换到对应到文件夹执行命令\nmkdir -p /home/jpom/server/\ncd /home/jpom/server/\napt-get install -y wget && wget -O install.sh https://jpom.top/docs/install.sh && bash install.sh Server jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"初始化服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化服务端"}},[t._v("#")]),t._v(" 初始化服务端")]),t._v(" "),a("h4",{attrs:{id:"添加超级管理账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加超级管理账号"}},[t._v("#")]),t._v(" 添加超级管理账号")]),t._v(" "),a("blockquote",[a("p",[t._v("添加一个超级管理员账号，请妥善保管此账号同时请设置安全度较强的密码")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h4",{attrs:{id:"开启账号-mfa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启账号-mfa"}},[t._v("#")]),t._v(" 开启账号 MFA")]),t._v(" "),a("blockquote",[a("p",[t._v("为了系统安全，强烈建议超级管理员账号开启 MFA 两步验证")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inits2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"安装插件端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装插件端"}},[t._v("#")]),t._v(" 安装插件端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("# 提前创建好文件夹 并且切换到对应到文件夹执行命令\nmkdir -p /home/jpom/agent/\ncd /home/jpom/agent/\napt-get install -y wget && wget -O install.sh https://jpom.top/docs/install.sh && bash install.sh Agent jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install-agent1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/install-agent2.png",alt:"install2",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"添加节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加节点"}},[t._v("#")]),t._v(" 添加节点")]),t._v(" "),a("p",[t._v("注意要填写端口号哟")]),t._v(" "),a("p",[t._v("这里的节点账号密码和超级管理员账号密码是两个东西哟")]),t._v(" "),a("p",[t._v("节点账号密码在安装启动成功后会输出到控制台，请根据输出到内容填写。如果自己修改了账号密码则填写修改后的")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inita1.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"配置授权-白名单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置授权-白名单"}},[t._v("#")]),t._v(" 配置授权（白名单）")]),t._v(" "),a("p",[t._v("项目授权（白名单）是为了防止随意配置目录，同时也为了保护系统目录")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/inita2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"创建脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建脚本"}},[t._v("#")]),t._v(" 创建脚本")]),t._v(" "),a("p",[t._v("注意："),a("code",[t._v("Ubuntu/Debian")]),t._v(" 执行脚本如果出现错误\n"),a("code",[t._v('Syntax error: "(" unexpected')]),t._v("\n代码对于标准bash而言没有错，因为 "),a("code",[t._v("Ubuntu/Debian")]),t._v(" 为了加快开机速度，用dash代替了传统的bash，是dash在捣鬼。")]),t._v(" "),a("p",[t._v("解决方法: 就是取消"),a("code",[t._v("dash")])]),t._v(" "),a("p",[t._v("执行："),a("code",[t._v("sudo dpkg-reconfigure dash")]),t._v(" 在选择项中选No，搞定了！")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/add-script1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/add-script2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("脚本内容：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#!/bin/bash\nTag="Application_${PROJECT_ID}"\nMainClass="org.springframework.boot.loader.JarLauncher"\nLib="${PROJECT_PATH}"\nLog="${PROJECT_PATH}/run.log"\nJVM="-server -Xms128m -Xmx128m -XX:PermSize=32M -XX:MaxNewSize=64m -XX:MaxPermSize=64m -Djava.awt.headless=true -XX:+CMSClassUnloadingEnabled -XX:+CMSPermGenSweepingEnabled"\necho $Tag\nRETVAL="0"\n\n# See how we were called.\nfunction start() {\n    echo  $Log \n    if [ ! -f $Log ]; then\n        touch $Log\n    fi\n    nohup java $JVM -Dappliction=$Tag -Djava.ext.dirs=$Lib":${JAVA_HOME}/jre/lib/ext" $MainClass > $Log 2>&1 &\n\tsleep 3\n    head -n 10 $Log\n}\n\n\nfunction stop() {\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    if [ "$pid" != "" ]; then      \n        echo -n "boot ( pid $pid) is running" \n        echo \n        echo -n $"Shutting down boot: "\n        pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n        if [ "$pid" != "" ]; then\n            echo "kill boot process"\n            kill -9 "$pid"\n        fi\n        else \n             echo "boot is stopped" \n        fi\n\n    status\n}\n\nfunction status()\n{\n    pid=$(ps -ef | grep -v \'grep\' | egrep $Tag| awk \'{printf $2 " "}\')\n    #echo "$pid"\n    if [ "$pid" != "" ]; then\n        echo "running:$pid"\n    else\n        echo "boot is stopped"\n    fi\n}\n\n# See how we were called.\nRETVAL="0"\ncase "$1" in\n    start)\n        start\n        ;;\n    stop)\n        stop\n        ;;\n    status)\n        status\n        ;;\n    *)\n      usage\n      ;;\nesac\n\nexit $RETVAL\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br"),a("span",{staticClass:"line-number"},[t._v("54")]),a("br"),a("span",{staticClass:"line-number"},[t._v("55")]),a("br"),a("span",{staticClass:"line-number"},[t._v("56")]),a("br"),a("span",{staticClass:"line-number"},[t._v("57")]),a("br"),a("span",{staticClass:"line-number"},[t._v("58")]),a("br"),a("span",{staticClass:"line-number"},[t._v("59")]),a("br"),a("span",{staticClass:"line-number"},[t._v("60")]),a("br"),a("span",{staticClass:"line-number"},[t._v("61")]),a("br"),a("span",{staticClass:"line-number"},[t._v("62")]),a("br"),a("span",{staticClass:"line-number"},[t._v("63")]),a("br"),a("span",{staticClass:"line-number"},[t._v("64")]),a("br"),a("span",{staticClass:"line-number"},[t._v("65")]),a("br"),a("span",{staticClass:"line-number"},[t._v("66")]),a("br"),a("span",{staticClass:"line-number"},[t._v("67")]),a("br"),a("span",{staticClass:"line-number"},[t._v("68")]),a("br")])]),a("blockquote",[a("ol",[a("li",[a("p",[t._v("脚本里面至少需要实现的三件事："),a("strong",[t._v("启动")]),t._v("、"),a("strong",[t._v("停止")]),t._v("、"),a("strong",[t._v("查状态")])])]),t._v(" "),a("li",[a("p",[t._v("查状态输出最后一行需要是 "),a("code",[t._v("running:$pid")]),t._v(" $pid 必须为数字且表示当前项目的进程 id ，如果不匹配项目则显示未运行")])])])]),t._v(" "),a("p",[t._v("提供的示例里面将使用三个函数来实现：start、stop、status")]),t._v(" "),a("p",[t._v("里面的细节这里不过多的说明，可以自由发挥（给您足够的空间）")]),t._v(" "),a("p",[t._v("脚本里面支持的变量有：${PROJECT_ID}、${PROJECT_NAME}、${PROJECT_PATH}")]),t._v(" "),a("p",[t._v("如果多个项目管理方式相同，脚本模版可以重复使用奥（并非一个项目对应一个脚本模版）")]),t._v(" "),a("p",[t._v("更多脚本示例："),a("RouterLink",{attrs:{to:"/FQA/DSL.html"}},[t._v("✈️进入>>")])],1),t._v(" "),a("h2",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/add-project1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/add-project2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),a("ol",[a("li",[t._v("scriptArgs 为对应环节执行脚本传入的参数,这里可以使用空格隔空传入多个参数")]),t._v(" "),a("li",[t._v("scriptId 需要填写当前节点里面存在的脚本的 id,脚本ID 可以在编辑脚本弹窗里面查看，如下图")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/edit-script3.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"上传项目文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传项目文件"}},[t._v("#")]),t._v(" 上传项目文件")]),t._v(" "),a("blockquote",[a("p",[t._v("启动项目需要将文件上传到项目目录，这里我们上传一个简单的 SpringBoot 项目")]),t._v(" "),a("p",[t._v("注意：项目里面可以在脚本中 使用 "),a("code",[t._v("${PROJECT_PATH}")]),t._v(" 获取")])]),t._v(" "),a("blockquote",[a("p",[t._v("使用小技巧：上传项目文件非必要操作，这里根据脚本内容里面执行的细节来决定是否需要上传，当然您脚本里面可以使用其他目录只不过这个目录就没有跟随当前项目管理而已")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/upload-file1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/upload-file2.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"启动项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动项目"}},[t._v("#")]),t._v(" 启动项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/console1.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/console2.png",alt:"install1",loading:"lazy"}}),t._v(" "),a("img",{attrs:{src:"/images/tutorial/project_dsl_java/contsole3.png",alt:"install1",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/project_dsl_java/project-list1.png",alt:"install1",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},438:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.rainbond.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rainbond"),a("OutboundLink")],1),t._v(" 是一个云原生应用管理平台，使用简单，不需要懂容器、Kubernetes和底层复杂技术，支持管理多个Kubernetes集群，和管理企业应用全生命周期。主要功能包括应用开发环境、应用市场、微服务架构、应用交付、应用运维、应用级多云管理等。")]),t._v(" "),a("h2",{attrs:{id:"前提"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提"}},[t._v("#")]),t._v(" 前提")]),t._v(" "),a("p",[t._v("安装 Rainbond，可通过一条命令快速安装 Rainbond。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-o")]),t._v(" install.sh https://get.rainbond.com "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" ./install.sh\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"部署-jpom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署-jpom"}},[t._v("#")]),t._v(" 部署 Jpom")]),t._v(" "),a("p",[t._v("Jpom 已发布到 Rainbond 开源应用商店，可通过 Rainbond 开源应用商店一键部署 Jpom。")]),t._v(" "),a("p",[t._v("进入 Rainbond 控制台的 "),a("code",[t._v("平台管理 -> 应用市场 -> 开源应用商店")]),t._v(" 中搜索 "),a("code",[t._v("Jpom")]),t._v(" 并安装。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.goodrain.com/wechat/jpom/2.png",alt:"",loading:"lazy"}})]),t._v(" "),a("p",[t._v("填写以下信息，然后点击确认按钮进行安装。")]),t._v(" "),a("ul",[a("li",[t._v("团队：选择现有团队或创建新的团队")]),t._v(" "),a("li",[t._v("集群：选择对应的集群")]),t._v(" "),a("li",[t._v("应用：选择现有应用或创建新的应用")]),t._v(" "),a("li",[t._v("版本：选择要安装的版本")])]),t._v(" "),a("p",[t._v("安装完成后，可通过 Rainbond 提供的默认域名访问 Jpom并登陆进行用户注册。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://static.goodrain.com/wechat/jpom/3.png",alt:"",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},439:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){return(0,this._self._c)("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}})}),[],!1,null,null,null);a.default=r.exports},448:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2025-年"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2025-年"}},[t._v("#")]),t._v(" 2025 年")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("渠道")]),t._v(" "),a("th",[t._v("金额")]),t._v(" "),a("th",[t._v("昵称")]),t._v(" "),a("th",[t._v("备注")]),t._v(" "),a("th",[t._v("付费社群")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("2025-05-06")]),t._v(" "),a("td",[t._v("微信红包")]),t._v(" "),a("td",[t._v("50.00")]),t._v(" "),a("td",[t._v("新")]),t._v(" "),a("td",[t._v("大佬喝咖啡")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-03-27")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("50.00")]),t._v(" "),a("td",[t._v("张飞鸿")]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-03-24")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("6.66")]),t._v(" "),a("td",[t._v("阿雨")]),t._v(" "),a("td",[t._v("点个赞")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-03-07")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("100.00")]),t._v(" "),a("td",[t._v("葉秋")]),t._v(" "),a("td",[t._v("好用。孩子爱用")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-03-04")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("1.00")]),t._v(" "),a("td",[t._v("[匿名]")]),t._v(" "),a("td",[t._v("意思一下")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-02-28")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("80.00")]),t._v(" "),a("td",[t._v("刘志远")]),t._v(" "),a("td",[t._v("请大佬喝茶")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-02-27")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("50.00")]),t._v(" "),a("td",[t._v("长弘")]),t._v(" "),a("td",[t._v("喝杯咖啡")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-01-16")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("1.0")]),t._v(" "),a("td",[t._v("有趣")]),t._v(" "),a("td",[t._v("加油，希望越来越好用。")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-01-13")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("66.66")]),t._v(" "),a("td",[t._v("木木子")]),t._v(" "),a("td",[t._v("赞")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-01-13")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("100.00")]),t._v(" "),a("td",[t._v("知其然")]),t._v(" "),a("td",[t._v("知其然（🐟）")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-01-10")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("8.80")]),t._v(" "),a("td",[t._v("神奇")]),t._v(" "),a("td",[t._v("穷，但支持开源")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2025-01-01")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("30.00")]),t._v(" "),a("td",[t._v("破冰")]),t._v(" "),a("td"),t._v(" "),a("td")])])])])}),[],!1,null,null,null);a.default=r.exports},451:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2022-年"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2022-年"}},[t._v("#")]),t._v(" 2022 年")]),t._v(" "),a("h3",{attrs:{id:"合计-935-72"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合计-935-72"}},[t._v("#")]),t._v(" 合计：935.72")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("日期")]),t._v(" "),a("th",[t._v("渠道")]),t._v(" "),a("th",[t._v("金额")]),t._v(" "),a("th",[t._v("昵称")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("2022-12-04")]),t._v(" "),a("td",[t._v("微信转账")]),t._v(" "),a("td",[t._v("30")]),t._v(" "),a("td",[t._v("李中原")]),t._v(" "),a("td",[t._v("请大佬喝杯 我也会为这个项目贡献自己的一份能力 争取越做越好")])]),t._v(" "),a("tr",[a("td",[t._v("2022-11-17")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("50")]),t._v(" "),a("td",[t._v("呐喊")]),t._v(" "),a("td",[t._v("非常不错的项目！！")])]),t._v(" "),a("tr",[a("td",[t._v("2022-10-20")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("4.67")]),t._v(" "),a("td",[t._v("大土豆")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-10-20")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("5")]),t._v(" "),a("td",[t._v("Math.Random")]),t._v(" "),a("td",[t._v("Jpom加油！")])]),t._v(" "),a("tr",[a("td",[t._v("2022-10-20")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("5")]),t._v(" "),a("td",[t._v("扶摇")]),t._v(" "),a("td",[t._v("666")])]),t._v(" "),a("tr",[a("td",[t._v("2022-09-09")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("50")]),t._v(" "),a("td",[t._v("fangdan")]),t._v(" "),a("td",[t._v("为Jpom发电！越做越好！")])]),t._v(" "),a("tr",[a("td",[t._v("2022-08-19")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("100")]),t._v(" "),a("td",[t._v("大灰灰")]),t._v(" "),a("td",[t._v("😘")])]),t._v(" "),a("tr",[a("td",[t._v("2022-08-03")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("37.21")]),t._v(" "),a("td",[t._v("🐠")]),t._v(" "),a("td",[t._v("给开源团队加给餐")])]),t._v(" "),a("tr",[a("td",[t._v("2022-07-28")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("PQ宝剑")]),t._v(" "),a("td",[t._v("加油("),a("em",[t._v("•̀ᴗ•́")]),t._v(")و ̑̑")])]),t._v(" "),a("tr",[a("td",[t._v("2022-07-08")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("6.66")]),t._v(" "),a("td",[t._v("🐠")]),t._v(" "),a("td",[t._v("🐠")])]),t._v(" "),a("tr",[a("td",[t._v("2022-07-07")]),t._v(" "),a("td",[t._v("微信红包")]),t._v(" "),a("td",[t._v("19.99")]),t._v(" "),a("td",[t._v("Vergil。")]),t._v(" "),a("td",[t._v("请你喝下午茶")])]),t._v(" "),a("tr",[a("td",[t._v("2022-06-22")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("5")]),t._v(" "),a("td",[t._v("*斌")]),t._v(" "),a("td",[t._v("d%")])]),t._v(" "),a("tr",[a("td",[t._v("2022-05-18")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("ccx2480")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-04-24")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("30")]),t._v(" "),a("td",[t._v("Hxxxxp（匿名）")]),t._v(" "),a("td",[t._v("xxxx")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-19")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("Vergil。")]),t._v(" "),a("td",[t._v("谢谢您的软件")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-16")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("背着砍刀的诗人")]),t._v(" "),a("td",[t._v("再给大佬赞一个")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-16")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("88.88")]),t._v(" "),a("td",[t._v("小工匠")]),t._v(" "),a("td",[t._v("为开源点赞 大佬8888")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-14")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("李楠方")]),t._v(" "),a("td",[t._v("对优秀项目表示支持")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-13")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("66.66")]),t._v(" "),a("td",[t._v("No.9537")]),t._v(" "),a("td",[t._v("666666")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-12")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("背着砍刀的诗人")]),t._v(" "),a("td",[t._v("感谢有这个好工具")])]),t._v(" "),a("tr",[a("td",[t._v("2022-04-12")]),t._v(" "),a("td",[t._v("码云捐赠")]),t._v(" "),a("td",[t._v("50")]),t._v(" "),a("td",[a("a",{attrs:{href:"https://gitee.com/qiqi513_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("爱琳琳真是太好了"),a("OutboundLink")],1)]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-04-08")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("川小北")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-03-27")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("10")]),t._v(" "),a("td",[t._v("顺子")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-03-09")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("99.99")]),t._v(" "),a("td",[t._v("tan90°")]),t._v(" "),a("td",[t._v("加油")])]),t._v(" "),a("tr",[a("td",[t._v("2022-02-17")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("66.66")]),t._v(" "),a("td",[t._v("🐠")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-01-21")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("50")]),t._v(" "),a("td",[t._v("")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("2022-01-13")]),t._v(" "),a("td",[t._v("微信赞赏码")]),t._v(" "),a("td",[t._v("20")]),t._v(" "),a("td",[t._v("🐠")]),t._v(" "),a("td")])])]),t._v(" "),a("h2",{attrs:{id:"_2022-年参与贡献重点成员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2022-年参与贡献重点成员"}},[t._v("#")]),t._v(" 2022 年参与贡献重点成员：")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://gitee.com/jiangzeyin",target:"_blank",rel:"noopener noreferrer"}},[t._v("bwcx_jzy"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/weihongbin",target:"_blank",rel:"noopener noreferrer"}},[t._v("魏宏斌"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://gitee.com/hjk2008",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sam"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports},471:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"为啥有演示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为啥有演示"}},[t._v("#")]),t._v(" 为啥有演示")]),t._v(" "),a("p",[t._v("考虑到部分用户期望先看看 Jpom 系统内部的功能和页面效果，我们这里提供了一个演示系统")]),t._v(" "),a("blockquote",[a("p",[t._v("演示系统考虑到系统的安全性，账号做了很多权限限制，并且不可以取消还望理解。我们还是建议您花几分钟在自己服务器搭建一个来试用。")])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("系统地址")]),t._v("："),a("a",{attrs:{href:"https://demo.jpom.top",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://demo.jpom.top"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("账号：demo")])]),t._v(" "),a("li",[a("strong",[t._v("密码：jpom666")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("温馨提示")]),t._v(" "),a("p",[t._v("考虑到费用成本问题，本演示系统不能保证稳定和访问速度问题，可能出现无法访问或者访问速度很慢。\n如果出现无法访问可以联系我们排查，但不保证一定能解决（如果是服务宕机我们将尽快恢复）,感谢您的理解和支持。")])]),t._v(" "),a("h3",{attrs:{id:"数据风险"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据风险"}},[t._v("#")]),t._v(" 数据风险")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("数据风险")]),t._v(" "),a("p",[t._v("请勿在演示系统中存放私有数据或者涉及隐私数据，我们不会保证演示系统中的数据安全。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"通过演示系统造成您的数据泄露我们概不负责"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过演示系统造成您的数据泄露我们概不负责"}},[t._v("#")]),t._v(" 通过演示系统造成您的数据泄露我们概不负责！！！！")]),t._v(" "),a("p",[a("strong",[t._v("同时我们可能随时还原演示系统。")])])]),t._v(" "),a("h2",{attrs:{id:"演示系统架构说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#演示系统架构说明"}},[t._v("#")]),t._v(" 演示系统架构说明")]),t._v(" "),a("p",[t._v("3 台 Ubuntu 22.04.3 服务器（虚拟机，均非 root 用户）")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("节点")]),t._v(" "),a("th",[t._v("服务端")]),t._v(" "),a("th",[t._v("插件端")]),t._v(" "),a("th",[t._v("docker")]),t._v(" "),a("th",[t._v("java")]),t._v(" "),a("th",[t._v("nvm")]),t._v(" "),a("th",[t._v("mvn")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("200")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("jdk 1.8")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("✅")])]),t._v(" "),a("tr",[a("td",[t._v("201")]),t._v(" "),a("td",[t._v("❌")]),t._v(" "),a("td",[t._v("❌")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("-")])]),t._v(" "),a("tr",[a("td",[t._v("202")]),t._v(" "),a("td",[t._v("❌")]),t._v(" "),a("td",[t._v("✅")]),t._v(" "),a("td",[t._v("✅ [tls]")]),t._v(" "),a("td",[t._v("jdk 21")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("-")])])])]),t._v(" "),a("h2",{attrs:{id:"限制说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#限制说明"}},[t._v("#")]),t._v(" 限制说明")]),t._v(" "),a("p",[t._v("为了系统的稳定性，我们限制了部分接口，包括：")]),t._v(" "),a("ul",[a("li",[t._v("/user/updatePwd 【修改账号密码】")]),t._v(" "),a("li",[t._v("/user/bind_mfa 【绑定 mfa】")]),t._v(" "),a("li",[t._v("/user/rest-user-pwd 【重置密码】")]),t._v(" "),a("li",[t._v("/user/edit 【添加/编辑用户】")]),t._v(" "),a("li",[t._v("/user/deleteUser 【删除用户】")]),t._v(" "),a("li",[t._v("/system/save_ip_config.json 【配置 IP 授权】")]),t._v(" "),a("li",[t._v("/system/save_config.json 【修改服务端配置】")]),t._v(" "),a("li",[t._v("/system/backup/restore【还原系统】")]),t._v(" "),a("li",[t._v("/user/notification/save 【系统公告】")])]),t._v(" "),a("blockquote",[a("p",[t._v("请求上述接口会提示：没有找到对应的资源")])]),t._v(" "),a("h2",{attrs:{id:"高权账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高权账号"}},[t._v("#")]),t._v(" 高权账号")]),t._v(" "),a("p",[t._v("我们为了您更好的体验开发了高权账号，获取高权账号密码方式请扫码关注公众号：")]),t._v(" "),a("p",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{loading:"lazy",src:"https://jpom.top/images/CodeGzh-QrCode.jpg",width:"250",alt:"公众号二维码"}})]),t._v(" "),a("p",[t._v("关注公众号后，回复 "),a("strong",[t._v("高权")]),t._v(" 获取高权账号密码")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("温馨提示【开源不易】")]),t._v(" "),a("p",[t._v("开源不易还恳请友好使用演示系统，请勿删除系统中任何资料或者进行高危操作，谢谢。")]),t._v(" "),a("h2",{attrs:{id:"请高抬贵手-🙏🙏🙏🙏🙏🙏"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请高抬贵手-🙏🙏🙏🙏🙏🙏"}},[t._v("#")]),t._v(" 请高抬贵手，🙏🙏🙏🙏🙏🙏")]),t._v(" "),a("p",[a("strong",[t._v("如果演示系统如果访问或者无法正常使用请联系 Jpom 小助手：jpom66 (微信账号) 处理")])])]),t._v(" "),a("h2",{attrs:{id:"oauth2-账号"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oauth2-账号"}},[t._v("#")]),t._v(" Oauth2 账号")]),t._v(" "),a("p",[t._v("我们开通了 Gitee 的 Oauth2 账号登录，其他平台仅配置但是信息不正确")]),t._v(" "),a("h2",{attrs:{id:"特别感谢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特别感谢"}},[t._v("#")]),t._v(" "),a("s",[t._v("特别感谢")])]),t._v(" "),a("p",[t._v("演示系统中使用到内网穿透，这里我们使用到 "),a("strong",[t._v("中微子代理（neutrino-proxy）")])]),t._v(" "),a("ul",[a("li",[t._v("中微子代理文档："),a("a",{attrs:{href:"https://dromara.gitee.io/neutrino-proxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dromara.gitee.io/neutrino-proxy"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("中微子代理仓库："),a("a",{attrs:{href:"https://gitee.com/dromara/neutrino-proxy",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/dromara/neutrino-proxy"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports},475:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("一键安装仅支持 linux 系统、并且需要安装的服务器有公网能力才行奥")]),t._v(" "),a("p",[t._v("如果您期望在安装过程中修改一部分配置或者自定义安装我们不建议您使用一键安装")]),t._v(" "),a("p",[t._v("一键安装脚本默认使用 Jpom 稳定版")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("Server端和Agent端不可安装在同一目录下，因为两个程序数据目录会使用到同一个文件夹/文件会造成数据错乱")])]),t._v(" "),a("h2",{attrs:{id:"安装服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装服务端"}},[t._v("#")]),t._v(" 安装服务端")]),t._v(" "),a("h3",{attrs:{id:"默认安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认安装"}},[t._v("#")]),t._v(" 默认安装")]),t._v(" "),a("p",[t._v("默认安装是将服务端安装到默认位置："),a("code",[t._v("/usr/local/jpom-server/")])]),t._v(" "),a("h4",{attrs:{id:"有-jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有-jdk"}},[t._v("#")]),t._v(" 有 JDK")]),t._v(" "),a("p",[t._v("系统中已经有 JDK 并且配置环境变量、使用默认路径安装（注意：需要有 sudo 权限、建议在 root 用户使用）")]),t._v(" "),a("p",[t._v("默认安装路径："),a("code",[t._v("/usr/local/jpom-server/")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Server default\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"无-jdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无-jdk"}},[t._v("#")]),t._v(" 无 JDK")]),t._v(" "),a("p",[t._v("系统中没有 JDK、期望自动安装 JDK8、使用默认路径安装（注意：服务器需要有公网下使用）")]),t._v(" "),a("p",[t._v("Jpom 服务端默认安装路径："),a("code",[t._v("/usr/local/jpom-server/")]),t._v("\nJDK 默认安装路径："),a("code",[t._v("/usr/java/xxxx")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Server jdk+default\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"自动安装服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动安装服务"}},[t._v("#")]),t._v(" 自动安装服务")]),t._v(" "),a("p",[t._v("期望自动将服务端注册到系统服务中，来达到开机自启动或者用服务的方式来管理")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Server jdk+default+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),a("p",[t._v("如果您安装的服务端没有 sudo 或者 root 权限我们不建议您使用默认安装方式来安装")])]),t._v(" "),a("h3",{attrs:{id:"自定义安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义安装"}},[t._v("#")]),t._v(" 自定义安装")]),t._v(" "),a("p",[t._v("自定义安装会在安装过程中询问您将软件按到指定目录")]),t._v(" "),a("h4",{attrs:{id:"有-jdk-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有-jdk-2"}},[t._v("#")]),t._v(" 有 JDK")]),t._v(" "),a("p",[t._v("系统中已经有 JDK 并且配置环境变量")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("h4",{attrs:{id:"无-jdk-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无-jdk-2"}},[t._v("#")]),t._v(" 无 JDK")]),t._v(" "),a("p",[t._v("系统中没有 JDK、期望自动安装 JDK8")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("h4",{attrs:{id:"自动安装服务-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动安装服务-2"}},[t._v("#")]),t._v(" 自动安装服务")]),t._v(" "),a("p",[t._v("期望自动将 Jpom 服务端注册到系统服务中，来达到开机自启动或者用服务的方式来管理")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server jdk+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server jdk+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),a("p",[t._v("如果需要注册服务需要在 sudo 或者 root 条件下执行")])]),t._v(" "),a("h2",{attrs:{id:"插件端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件端"}},[t._v("#")]),t._v(" 插件端")]),t._v(" "),a("h3",{attrs:{id:"默认安装-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认安装-2"}},[t._v("#")]),t._v(" 默认安装")]),t._v(" "),a("p",[t._v("默认安装是将插件端安装到默认位置："),a("code",[t._v("/usr/local/jpom-agent/")])]),t._v(" "),a("h4",{attrs:{id:"有-jdk-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有-jdk-3"}},[t._v("#")]),t._v(" 有 JDK")]),t._v(" "),a("p",[t._v("系统中已经有 JDK 并且配置环境变量、使用默认路径安装（注意：需要有 sudo 权限、建议在 root 用户使用）")]),t._v(" "),a("p",[t._v("默认安装路径："),a("code",[t._v("/usr/local/jpom-agent/")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Agent default\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"无-jdk-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无-jdk-3"}},[t._v("#")]),t._v(" 无 JDK")]),t._v(" "),a("p",[t._v("系统中没有 JDK、期望自动安装 JDK8、使用默认路径安装（注意：服务器需要有公网下使用）")]),t._v(" "),a("p",[t._v("Jpom 服务端默认安装路径："),a("code",[t._v("/usr/local/jpom-agent/")]),t._v("\nJDK 默认安装路径："),a("code",[t._v("/usr/java/xxxx")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Agent jdk+default\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"自动安装服务-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动安装服务-3"}},[t._v("#")]),t._v(" 自动安装服务")]),t._v(" "),a("p",[t._v("期望自动将插件端注册到系统服务中，来达到开机自启动或者用服务的方式来管理")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-fsSL")]),t._v(" https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v(" Agent jdk+default+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),a("p",[t._v("如果您安装的服务端没有 sudo 或者 root 权限我们不建议您使用默认安装方式来安装")])]),t._v(" "),a("h3",{attrs:{id:"自定义安装-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义安装-2"}},[t._v("#")]),t._v(" 自定义安装")]),t._v(" "),a("p",[t._v("自定义安装会在安装过程中询问您将软件按到指定目录")]),t._v(" "),a("h4",{attrs:{id:"有-jdk-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#有-jdk-4"}},[t._v("#")]),t._v(" 有 JDK")]),t._v(" "),a("p",[t._v("系统中已经有 JDK 并且配置环境变量")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("h4",{attrs:{id:"无-jdk-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#无-jdk-4"}},[t._v("#")]),t._v(" 无 JDK")]),t._v(" "),a("p",[t._v("系统中没有 JDK、期望自动安装 JDK8")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("h4",{attrs:{id:"自动安装服务-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动安装服务-4"}},[t._v("#")]),t._v(" 自动安装服务")]),t._v(" "),a("p",[t._v("期望自动将 Jpom 服务端注册到系统服务中，来达到开机自启动或者用服务的方式来管理")]),t._v(" "),a("code-group",[a("code-block",{attrs:{title:"centos",active:""}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent jdk+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("code-block",{attrs:{title:"ubuntu\\debian"}},[a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Agent jdk+service\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])])],1),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("提醒")]),t._v(" "),a("p",[t._v("如果需要注册服务需要在 sudo 或者 root 条件下执行")])]),t._v(" "),a("h2",{attrs:{id:"温馨提示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#温馨提示"}},[t._v("#")]),t._v(" 温馨提示")]),t._v(" "),a("p",[t._v("如果您使用了一键安装依赖插件："),a("code",[t._v("jdk")]),t._v("、"),a("code",[t._v("node")]),t._v("、"),a("code",[t._v("maven")]),t._v("。")]),t._v(" "),a("p",[t._v("安装成功后您在终端里面使用相应的命令是不生效的奥。")]),t._v(" "),a("p",[t._v("您需要手动 "),a("code",[t._v("source")]),t._v(" 一下或者退出终端重新登录进入即可。")])],1)}),[],!1,null,null,null);a.default=r.exports},477:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("编译安装是需要有一定开发经验才能使用的方式奥，作为开源项目不能保证在您自己的环境中可以正常编译运行。")]),t._v(" "),a("p",[t._v("编译期间遇到问题请优先考虑自己环境问题")]),t._v(" "),a("h2",{attrs:{id:"编译安装-打包安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译安装-打包安装"}},[t._v("#")]),t._v(" 编译安装（打包安装）")]),t._v(" "),a("blockquote",[a("p",[t._v("此方式为用户下载最新源码或者定制功能后编译打包安装的方式")])]),t._v(" "),a("ol",[a("li",[t._v("访问 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom"),a("OutboundLink")],1),t._v(" 的码云主页,拉取最新完整代码(建议使用master分支)")]),t._v(" "),a("li",[t._v("切换到"),a("code",[t._v("web-vue")]),t._v("目录 执行"),a("code",[t._v("npm install")]),t._v(" (vue环境需要提前搭建和安装依赖包详情可以查看web-vue目录下README.md)")]),t._v(" "),a("li",[t._v("执行"),a("code",[t._v("npm run build")]),t._v("进行vue项目打包(vue环境需要提前搭建和安装依赖包详情可以查看web-vue目录下README.md)")]),t._v(" "),a("li",[t._v("切换到项目根目录执行:"),a("code",[t._v("mvn clean package")])]),t._v(" "),a("li",[t._v("查看插件端安装包 modules/agent/target/agent-x.x.x-release")]),t._v(" "),a("li",[t._v("查看插件端安装包 modules/server/target/server-x.x.x-release")])]),t._v(" "),a("p",[t._v("有安装包后请查看下载安装的说明安装到服务器中")]),t._v(" "),a("h2",{attrs:{id:"编译运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译运行"}},[t._v("#")]),t._v(" 编译运行")]),t._v(" "),a("ol",[a("li",[t._v("访问 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jpom"),a("OutboundLink")],1),t._v(" 的码云主页,拉取最新完整代码(建议使用master分支、如果想体验新功能请使用dev分支)")]),t._v(" "),a("li",[t._v("运行插件端\n"),a("ol",[a("li",[t._v("运行"),a("code",[t._v("org.dromara.jpom.JpomAgentApplication")])]),t._v(" "),a("li",[t._v("注意控制台打印的默认账号密码信息")]),t._v(" "),a("li",[t._v("默认运行端口："),a("code",[t._v("2123")])])])]),t._v(" "),a("li",[t._v("运行服务端\n"),a("ol",[a("li",[t._v("运行"),a("code",[t._v("org.dromara.jpom.JpomServerApplication")])]),t._v(" "),a("li",[t._v("默认运行端口："),a("code",[t._v("2122")])])])]),t._v(" "),a("li",[t._v("构建vue页面 切换到"),a("code",[t._v("web-vue")]),t._v("目录（前提需要本地开发环境有node、npm环境）")]),t._v(" "),a("li",[t._v("安装项目vue依赖 控制台执行 "),a("code",[t._v("npm install")])]),t._v(" "),a("li",[t._v("启动开发模式 控制台执行 "),a("code",[t._v("npm run dev")])]),t._v(" "),a("li",[t._v("根据控制台输出的地址访问前端页面 例如"),a("code",[t._v("http://127.0.0.1:3000/")])])])])}),[],!1,null,null,null);a.default=r.exports},485:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("配置 Jpom 反向代理需要注意如下几点：")]),t._v(" "),a("ul",[a("li",[t._v("开启 websocket")]),t._v(" "),a("li",[t._v("配置文件上传大小")]),t._v(" "),a("li",[t._v("如果使用了二级路径，需要配置二级路径")])]),t._v(" "),a("h2",{attrs:{id:"http-相关配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-相关配置"}},[t._v("#")]),t._v(" Http 相关配置")]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("charset koi8"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    access_log  "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/var/log/nginx/jpom.log")]),t._v(" main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    server_name  jpom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxxxxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    \n    location "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n        proxy_pass   "),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("http://127.0.0.1:2122/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Host      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Real"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("IP "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("remote_addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("For "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("proxy_add_x_forwarded_for"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" iframe 重定向\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Proto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("scheme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("server_port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" 上传文件大小\n        client_max_body_size  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        client_body_buffer_size "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("128k")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("  websocket 配置\n        proxy_set_header Upgrade "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("http_upgrade"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Connection "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upgrade"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("  代理的二级路径配置 值填写nginx 中location的值  如 location "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/test-path/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("  proxy_set_header Jpom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ProxyPath      "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/test-path/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br")])]),a("h2",{attrs:{id:"https-推荐配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#https-推荐配置"}},[t._v("#")]),t._v(" Https 推荐配置")]),t._v(" "),a("p",[t._v("注意 https 证书需要您自己生成")]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n    listen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    server_name jpom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxxxxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    access_log  "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/var/log/nginx/jpom.log")]),t._v(" main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl on"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_certificate   "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/nginx/ssl/jpom-xxxxxx.pem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_certificate_key  "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/nginx/ssl/jpom-xxxxxx.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_session_timeout "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_ciphers ECDHE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES128"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA256"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ECDHE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("AES"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("HIGH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ADH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_protocols TLSv1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_prefer_server_ciphers on"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    \n    location "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n        proxy_pass   "),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("http://127.0.0.1:2122/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" 代理的二级路径配置 值填写nginx 中location的值  如 location "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/test-path/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" proxy_set_header Jpom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ProxyPath      "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/test-path/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Host      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Real"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("IP "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("remote_addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("For "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("proxy_add_x_forwarded_for"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" iframe 重定向\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Proto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("scheme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("server_port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        client_max_body_size  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        client_body_buffer_size "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("128k")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("\twebsocket 配置\n        proxy_set_header Upgrade "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("http_upgrade"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Connection "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upgrade"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n\nserver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("charset koi8"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    listen       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    server_name  jpom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxxxxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    rewrite "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("https://$host$1")]),t._v(" permanent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br")])]),a("h2",{attrs:{id:"二级路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二级路径"}},[t._v("#")]),t._v(" 二级路径")]),t._v(" "),a("p",[t._v("如果您需要使用二级路径，那么需要配置二级路径。")]),t._v(" "),a("p",[t._v("https://abc.xxxxxx.cn/jpom/")]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("server "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n    listen "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    server_name abc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xxxxxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cn"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    access_log  "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/var/log/nginx/jpom.log")]),t._v(" main"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl on"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_certificate   "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/nginx/ssl/jpom-xxxxxx.pem")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_certificate_key  "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/nginx/ssl/jpom-xxxxxx.key")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_session_timeout "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_ciphers ECDHE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("RSA"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("AES128"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("GCM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("SHA256"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ECDHE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("ECDH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("AES"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("HIGH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("aNULL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("MD5"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("ADH"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("RC4"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_protocols TLSv1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("1 TLSv1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    ssl_prefer_server_ciphers on"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    \n    location "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/jpom/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("{")]),t._v("\n        proxy_pass   "),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("http://127.0.0.1:2122/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Jpom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ProxyPath      "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/jpom/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Host      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Real"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("IP "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("remote_addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("For "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("proxy_add_x_forwarded_for"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v(" iframe 重定向\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Proto "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("scheme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header X"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Forwarded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Port "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("server_port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        client_max_body_size  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000m")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        client_body_buffer_size "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("128k")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("\twebsocket 配置\n        proxy_set_header Upgrade "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v("http_upgrade"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n        proxy_set_header Connection "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upgrade"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports},487:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("定期备份数据是一个良好的习惯，数据安全是防患于未然")]),t._v(" "),a("h2",{attrs:{id:"目录结构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[t._v("#")]),t._v(" 目录结构")]),t._v(" "),a("p",[t._v("在您需要备份前需要了解到 Jpom 中目录结构能帮助您高效备份")]),t._v(" "),a("p",[t._v("这里列举的目录结构是当您已经正常使用 Jpom 并且没有修改数据目录的情况下，如果您手动修改过数据目录您可以直接备份对应目录，但是您仍然需要了解整个系统的完整目录结构")]),t._v(" "),a("h3",{attrs:{id:"服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务端"}},[t._v("#")]),t._v(" 服务端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n├── lib                                               程序安装包（jar）文件\n├───── server-x.x.x.jar\n├───── oldJars                                        升级成功后会将之前版本的安装包备份至此目录\n├───── run.bin                                        当 lib 下有多个安装包时，告知脚本应该使用哪个安装包\n├─── bin                                              管理脚本\n├───── Server.bat\n├───── Server.sh\n├───── BlockListener.sh\n├── conf                                              配置文件目录\n├───── application.yml\n├───── logback.xml\n├── logs                                              程序运行日志目录\n├───── server.log\n├───── stdout.log\n├── LICENSE\n├── tmp                                               程序临时目录（java.io.tmpdir）\n├── data\n├────── build =>                                      构建相关文件夹\n├──────────── a7edf3cff8d542d3bf5758f9ab9b9a32 =>     单个构建存储相关文件夹\n├──────────────── history =>                          需要执行的脚本\n├───────────────────── #1 =>                          单次执行记录相关文件夹\n├─────────────────────── info.log =>                  构建日志\n├─────────────────────── result =>                    构建产物存储文件夹\n├──────────────── source =>                           构建的仓库文件夹\n├────── script =>                                     服务端脚本文件夹\n├──────────── a7edf3cff8d542d3bf5758f9ab9b9a32 =>     脚本对应相关文件夹\n├──────────────── script.sh =>                        需要执行的脚本\n├──────────────── log =>                              执行日志\n├──────────── xxxx =>                                 其他脚本信息\n├────── command_log => ssh                            脚本执行记录\n├──────────── a7edf3cff8d542d3bf5758f9ab9b9a32 =>     单个脚本相关文件夹\n├──────────────── 004d320e00794d63831d63e3a5ed4344 => 脚本批量执行日志\n├──────────── ....... =>                              更多脚本文件\n├────── agent =>                                      服务端保留插件的 jar 包文件夹\n├────── INSTALL.json =>                               安装文件【非常重要，安装ID为集群ID】\n├────── docker =>                                     docker 相关文件\n├──────────── tls-cert =>                             docker tls 证书文件保存路径\n├────── file-storage =>                               文件中心存储路径\n├────── certificate =>                                证书中心存储路径\n├────── temp =>                                       临时文件，上传文件缓存目录，运行中产生\n├── db =>                                             服务端数据存储文件夹\n├────── backup =>                                     备份数据文件夹\n├──────────── 20220609120000.sql =>                   sql 文件\n├──────────── .......sql =>                           更多 sql 文件\n├────── recover_backup =>                             执行修复数据后的原数据库备份文件夹\n├──────────── 2022-06-10 09/16/38 =>                  单次备份文件夹\n├──────────────── Server.mv.db =>                     数据库文件\n├──────────────── Server.trace.db =>                  数据库文件\n├──────────── ...... =>                               单次备份文件夹\n├────── execute.init.sql.log  =>                      记录已经初始化过 sql hash,避免重复初始化数据库\n├────── Server.mv.db =>                               数据库文件\n└────── Server.trace.db =>                            数据库文件\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br"),a("span",{staticClass:"line-number"},[t._v("41")]),a("br"),a("span",{staticClass:"line-number"},[t._v("42")]),a("br"),a("span",{staticClass:"line-number"},[t._v("43")]),a("br"),a("span",{staticClass:"line-number"},[t._v("44")]),a("br"),a("span",{staticClass:"line-number"},[t._v("45")]),a("br"),a("span",{staticClass:"line-number"},[t._v("46")]),a("br"),a("span",{staticClass:"line-number"},[t._v("47")]),a("br"),a("span",{staticClass:"line-number"},[t._v("48")]),a("br"),a("span",{staticClass:"line-number"},[t._v("49")]),a("br"),a("span",{staticClass:"line-number"},[t._v("50")]),a("br"),a("span",{staticClass:"line-number"},[t._v("51")]),a("br"),a("span",{staticClass:"line-number"},[t._v("52")]),a("br"),a("span",{staticClass:"line-number"},[t._v("53")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("重要目录列举")]),t._v(" "),a("ul",[a("li",[t._v("db/Server.mv.db")]),t._v(" "),a("li",[t._v("db/Server.trace.db")]),t._v(" "),a("li",[t._v("db/backup")]),t._v(" "),a("li",[t._v("data/INSTALL.json")]),t._v(" "),a("li",[t._v("data/file-storage")]),t._v(" "),a("li",[t._v("data/certificate")])]),t._v(" "),a("p",[t._v("说明：这里列举重要指非常重要如果丢失或者损坏系统无法正常运行或者您的数据丢失")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("未列举的举例说明")]),t._v(" "),a("ul",[a("li",[t._v("data/build")]),t._v(" "),a("li",[t._v("data/command_log")]),t._v(" "),a("li",[t._v("data/script")])]),t._v(" "),a("p",[t._v("这些均未运行和使用过程中产生的文件，次部分丢失不会造成系统无法使用。但是如果构建日志记录、脚本日志记录等日志相关丢失")])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("最后说明")]),t._v(" "),a("p",[t._v("当您选择备份时我们建议您备份 Jpom 整个目录才能保证系统数据完整性，如果条件有限或者精简备份可以先备份上述重要目录")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("声明：文档中可能并未完整列出所有目录使用说明，因为功能可能随着迭代时候变动")])]),t._v(" "),a("h3",{attrs:{id:"插件端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件端"}},[t._v("#")]),t._v(" 插件端")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n├── lib                                               程序安装包（jar）文件\n├───── server-x.x.x.jar\n├───── oldJars                                        升级成功后会将之前版本的安装包备份至此目录\n├───── run.bin                                        当 lib 下有多个安装包时，告知脚本应该使用哪个安装包\n├─── bin                                              管理脚本\n├───── Server.bat\n├───── Server.sh\n├───── BlockListener.sh\n├── conf                                              配置文件目录\n├───── application.yml\n├───── logback.xml\n├── logs                                              程序运行日志目录\n├───── server.log\n├───── stdout.log\n├── LICENSE\n├── tmp                                               程序临时目录（java.io.tmpdir）\n├── data\n├────── script.json =>                                存储机器脚本相关数据\n├────── project.json =>                               存储机器项目相关数据\n├────── INSTALL.json =>                               安装记录【非常重要】\n├────── script =>                                     机器端脚本文件夹\n├──────────── a7edf3cff8d542d3bf5758f9ab9b9a32 =>     脚本对应相关文件夹\n├──────────────── script.sh =>                        需要执行的脚本\n├──────────────── log =>                              执行日志\n├──────────── xxxx =>                                 其他脚本信息\n├────── script_log.json =>                            临时记录脚本执行记录（服务端管控请勿手动修改）\n├────── whitelistDirectory.json =>                    授权（白名单）目录配置\n├────── workspace_env_var.json =>                     环境变量配置\n├────── nginx_conf.json =>                            nginx配置\n├────── temp =>                                       临时文件，上传文件缓存目录，运行中产生\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("由于插件端数据较少，我们期望您在备份时候尽量全备份")]),t._v(" "),a("p",[t._v("如果需要选择备份或者轻量备份，您可以选择不备份脚本文件夹 和 temp文件夹")])]),t._v(" "),a("h2",{attrs:{id:"容器备份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器备份"}},[t._v("#")]),t._v(" 容器备份")]),t._v(" "),a("p",[t._v("如果您的服务端是使用容器安装的，您需要判断您是否使用容器挂载或者卷方式来创建容器。")]),t._v(" "),a("h3",{attrs:{id:"挂载方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载方式"}},[t._v("#")]),t._v(" 挂载方式")]),t._v(" "),a("p",[t._v("根据我们提供的文档我们推荐您挂载了")]),t._v(" "),a("ul",[a("li",[t._v("/usr/local/jpom-server/logs")]),t._v(" "),a("li",[t._v("/usr/local/jpom-server/data")]),t._v(" "),a("li",[t._v("/usr/local/jpom-server/conf")])]),t._v(" "),a("p",[t._v("备份时我们建议您备份：/usr/local/jpom-server/data、/usr/local/jpom-server/conf 两个目录挂载的宿主机目录")]),t._v(" "),a("h3",{attrs:{id:"卷方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卷方式"}},[t._v("#")]),t._v(" 卷方式")]),t._v(" "),a("p",[t._v("请参考 docker 官方对卷进行备份的操作")]),t._v(" "),a("p",[a("code",[t._v("docker volume inspect xxxxx")])])])}),[],!1,null,null,null);a.default=r.exports},496:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#前言"}},[t._v("前言")]),a("ul",[a("li",[a("a",{attrs:{href:"#问-升级到-2-9-x-为什么要特殊处理"}},[t._v("问：升级到 2.9.x 为什么要特殊处理？")])]),a("li",[a("a",{attrs:{href:"#问-该漏洞出现了一段时间-为什么现在才发修复版"}},[t._v("问：该漏洞出现了一段时间，为什么现在才发修复版？")])])])]),a("li",[a("a",{attrs:{href:"#升级流程总览"}},[t._v("升级流程总览")])]),a("li",[a("a",{attrs:{href:"#相关问题说明"}},[t._v("相关问题说明")]),a("ul",[a("li",[a("a",{attrs:{href:"#问-必须先升级到-2-8-24"}},[t._v("问：必须先升级到 2.8.24+？")])]),a("li",[a("a",{attrs:{href:"#问-如何查看备份记录中的备份文件路径"}},[t._v("问：如何查看备份记录中的备份文件路径？")])]),a("li",[a("a",{attrs:{href:"#问-执行-bash-xxxx-server-sh-restart-15-backup-h2-不生效该怎么办"}},[t._v("问：执行 bash /xxxx/Server.sh restart -15 --backup-h2 不生效该怎么办？")])]),a("li",[a("a",{attrs:{href:"#问-官方是不是忘记还用-windows-用户啦"}},[t._v("问：官方是不是忘记还用 windows 用户啦？")])]),a("li",[a("a",{attrs:{href:"#问-不想通过管理脚本来操作-还有其他方法吗"}},[t._v("问：不想通过管理脚本来操作，还有其他方法吗？")])]),a("li",[a("a",{attrs:{href:"#问-容器安装的应该如何升级"}},[t._v("问：容器安装的应该如何升级？")])]),a("li",[a("a",{attrs:{href:"#问-升级服务端后需要将插件端也升级到-2-9-0-吗"}},[t._v("问：升级服务端后需要将插件端也升级到 2.9.0+ 吗？")])]),a("li",[a("a",{attrs:{href:"#问-哪里下载-2-8-24-安装包"}},[t._v("问：哪里下载 2.8.24+ 安装包？")])]),a("li",[a("a",{attrs:{href:"#问-插件端该如何升级到-2-9-0"}},[t._v("问：插件端该如何升级到 2.9.0+ ?")])]),a("li",[a("a",{attrs:{href:"#问-新版本导入-sql-报错-怎么办呀"}},[t._v("问：新版本导入 sql 报错，怎么办呀！！！！")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("h3",{attrs:{id:"问-升级到-2-9-x-为什么要特殊处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-升级到-2-9-x-为什么要特殊处理"}},[t._v("#")]),t._v(" 问：升级到 2.9.x 为什么要特殊处理？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v(" ：因为 H2 在 "),a("code",[t._v("1.4.198, 2.0.202")]),t._v(" 版本间存在漏洞，漏洞编号为："),a("code",[t._v("CVE-2021-23463")]),t._v("，所以需要尽快升级到最新版本来避免该漏洞。\n但是 H2 的 1.4.x 升级到 2.0.x 是不兼容版本升级，不能直接无感升级。必须迁移旧数据到新版本中")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-该漏洞出现了一段时间-为什么现在才发修复版"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-该漏洞出现了一段时间-为什么现在才发修复版"}},[t._v("#")]),t._v(" 问：该漏洞出现了一段时间，为什么现在才发修复版？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：当我们看到漏洞相关消息就开始准备方案，我们刚开始想的方案是如何避免过多的人为操作，尽量自动化完成。\n结果我们尝试发现没有办法很好的避免（准备出一个界面化的操作），最后采用命令行方式操作。（此处自动🐶）")]),t._v(" "),a("h2",{attrs:{id:"升级流程总览"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级流程总览"}},[t._v("#")]),t._v(" 升级流程总览")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("需要先升级到 2.8.24+")]),t._v(" "),a("RouterLink",{attrs:{to:"/pages/all-downloads/"}},[t._v("安装包下载地址")]),t._v(" "),a("ol",[a("li",[t._v("升级方法有：在线升级、手动上传 jar 包等方式升级")])])],1),t._v(" "),a("li",[t._v("检查 "),a("code",[t._v("Server.sh")]),t._v(" 脚本中 "),a("code",[t._v("ARGS")]),t._v(" 变量最后是否存在 "),a("code",[t._v("$@")]),t._v(" 字符\n"),a("ol",[a("li",[t._v("如果不存在则需要手动添加")]),t._v(" "),a("li",[a("code",[t._v("ARGS")]),t._v(" 变量完整示例："),a("code",[t._v('ARGS="--jpom.applicationTag=${Tag} --spring.profiles.active=pro --server.port=2122 --jpom.log=${Path}log $@"')])])])]),t._v(" "),a("li",[a("strong",[t._v("为了数据安全避免升级出现异常造成数据丢失，请手动备份一下 "),a("code",[t._v("db")]),t._v(" 目录")]),t._v(" "),a("ol",[a("li",[t._v("备份前一定要先关闭服务器程序，否则会出现数据库异常情况或者数据丢失等异常")]),t._v(" "),a("li",[t._v("关闭方式："),a("code",[t._v("bash /xxxx/Server.sh stop")])]),t._v(" "),a("li",[t._v("备份 db 目录方式："),a("code",[t._v("cp -r /xxxx/jpom-server/db /xxxx/jpom-server/db_backup")])])])]),t._v(" "),a("li",[t._v("通过命令行的方式创建数据备份\n"),a("ol",[a("li",[t._v("启动程序参数里面添加 --backup-h2")]),t._v(" "),a("li",[t._v("linux 环境举例："),a("code",[t._v("bash /xxxx/Server.sh restart -15 --backup-h2")])]),t._v(" "),a("li",[t._v("当控制台输出 "),a("code",[t._v("Complete the backup database, save the path as /xxx/xxx/db/backup/xxxx.sql")]),t._v(" 字样表示备份成功")])])]),t._v(" "),a("li",[t._v("手动替换 jar\n"),a("ol",[a("li",[t._v("将 lib 目录下面的 "),a("code",[t._v("Server-2.8.x.jar")]),t._v(" 替换为最新的 "),a("code",[t._v("Server-2.9.x.jar")])]),t._v(" "),a("li",[t._v("注意可能需要修改 "),a("code",[t._v("Server.sh")]),t._v(" 脚本里面的 "),a("code",[t._v("RUNJAR")]),t._v(" 变量值为您上传新 jar 的文件名，如："),a("code",[t._v("Server-2.9.x.jar")])])])]),t._v(" "),a("li",[t._v("通过指定 sql 文件方式启动\n"),a("ol",[a("li",[t._v("启动程序参数里面添加 "),a("code",[t._v("--replace-import-h2-sql=/xxxx.sql --transform-sql")]),t._v(" (路径需要替换为第二步控制台输出的 sql 文件保存路径)")]),t._v(" "),a("li",[t._v("linux 环境举例："),a("code",[t._v("bash /xxxx/Server.sh restart -15 --replace-import-h2-sql=/xxxx.sql --transform-sql")])])])]),t._v(" "),a("li",[t._v("观察控制输出内容\n"),a("ol",[a("li",[t._v("当控制台输出 "),a("code",[t._v("Import successfully according to sql,/xxx/xxx/db/backup/xxxx.sql")]),t._v(" 字样表示升级成功并自动启动程序")]),t._v(" "),a("li",[t._v("如果出现异常信息可以先尝试在搜索引擎搜索看看是否有解决办法")]),t._v(" "),a("li",[t._v("联系官方协助排查")])])]),t._v(" "),a("li",[a("strong",[t._v("补充步骤：")]),t._v(" "),a("code",[t._v("2.9.0")]),t._v(" 版本操作完成后基本功能使用正常，但是 SSH 相关功能会出现数据库异常（缺少字段）\n"),a("ol",[a("li",[t._v("需要重新初始化数据："),a("code",[t._v("bash /xxxx/Server.sh restart -15 --rest:load_init_db")])]),t._v(" "),a("li",[t._v("执行这个操作需要使用 2.9.1+ 版本（2.9.0 存在问题，此处自动🐶）")])])]),t._v(" "),a("li",[t._v("愉快的使用 Jpom 2.9.x")])]),t._v(" "),a("h2",{attrs:{id:"相关问题说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关问题说明"}},[t._v("#")]),t._v(" 相关问题说明")]),t._v(" "),a("h3",{attrs:{id:"问-必须先升级到-2-8-24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-必须先升级到-2-8-24"}},[t._v("#")]),t._v(" 问：必须先升级到 2.8.24+？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：非必须，因为 2.8.24+ 新增了命令行方式备份数据，这样在程序未启动前就将所有数据备份导出为 sql 保证导出的数据是最新并且完整的。\n如果您不想升级到 2.8.24+ 再升级到 2.9.x 那么可以先用管理身份登录进入系统进入：【系统管理 -> 数据库备份】页面里面去创建一个全量备份记住备份文件完成路径")]),t._v(" "),a("p",[a("strong",[t._v("注意")]),t._v("："),a("code",[t._v("不通过命令行备份不能保证导出的备份数据一定是最新的奥，因为程序在运行中随时会产生新数据或者数据更新情况")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-如何查看备份记录中的备份文件路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-如何查看备份记录中的备份文件路径"}},[t._v("#")]),t._v(" 问：如何查看备份记录中的备份文件路径？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：备份列表中状态列后面有一个复制按钮，点击一下就复制到粘贴板啦")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-执行-bash-xxxx-server-sh-restart-15-backup-h2-不生效该怎么办"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-执行-bash-xxxx-server-sh-restart-15-backup-h2-不生效该怎么办"}},[t._v("#")]),t._v(" 问：执行 "),a("code",[t._v("bash /xxxx/Server.sh restart -15 --backup-h2")]),t._v(" 不生效该怎么办？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：如果您是从很早就使用了 Jpom 那么您现在管理服务端当脚本不是最新当，最新的管理脚本里面将执行命令的其他参数也传入了启动程序里面")]),t._v(" "),a("p",[t._v("解决办法有：")]),t._v(" "),a("ol",[a("li",[t._v("替换为最新的管理脚本文件 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/script/Server.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("Server.sh"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("手动修改管理脚本，在脚本中 "),a("code",[t._v("ARGS")]),t._v(" 变量最后添加一个 "),a("code",[t._v("$@")]),t._v(" 即可\n"),a("ol",[a("li",[t._v("完整示例："),a("code",[t._v('ARGS="--jpom.applicationTag=${Tag} --spring.profiles.active=pro --server.port=2122 --jpom.log=${Path}log $@"')])])])])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-官方是不是忘记还用-windows-用户啦"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-官方是不是忘记还用-windows-用户啦"}},[t._v("#")]),t._v(" 问：官方是不是忘记还用 windows 用户啦？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：没有的，因为 linux 用户偏多，所以拿 linux 举例。windows 处理办法类似")]),t._v(" "),a("p",[t._v("可以按照 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/blob/master/modules/server/script/Server.bat",target:"_blank",rel:"noopener noreferrer"}},[t._v("Server.bat"),a("OutboundLink")],1),t._v(" 中 if 判断继续扩展")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" /p "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" call:start\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v(" call:stop\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v(" call:status\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v(" call:restart\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5"')]),t._v(" call:use\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:ip_config")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:load_init_db")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:super_user_pwd")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" EXIT\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])]),a("p",[t._v("思路添加 IF,比如：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" /p "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("ID")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),t._v(" call:start\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2"')]),t._v(" call:stop\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3"')]),t._v(" call:status\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"4"')]),t._v(" call:restart\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5"')]),t._v(" call:use\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:ip_config")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"7"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:load_init_db")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8"')]),t._v(" call:restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--rest:super_user_pwd")]),t._v("\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"9"')]),t._v(" call:restart --backup-h2\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),t._v(" call:restart --replace-import-h2-sql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/xxxx.sql --transform-sql\nIF "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"!ID!"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" EXIT\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[a("code",[t._v("注意要修改 sql 路径")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-不想通过管理脚本来操作-还有其他方法吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-不想通过管理脚本来操作-还有其他方法吗"}},[t._v("#")]),t._v(" 问：不想通过管理脚本来操作，还有其他方法吗？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：有")]),t._v(" "),a("ol",[a("li",[t._v("备份数据")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" server-2.8.24.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pro --backup-h2\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("导入数据")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" server-2.9.0.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--spring.profiles.active")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("pro --replace-import-h2-sql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/xxxx.sql --transform-sql\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("更新管理脚本中的："),a("code",[t._v("RUNJAR")]),t._v(" 变量值为："),a("code",[t._v("server-2.9.0.jar")])])]),t._v(" "),a("p",[a("strong",[t._v("注意")]),t._v("：")]),t._v(" "),a("ol",[a("li",[t._v("通过次方式一定要在原目录操作")]),t._v(" "),a("li",[t._v("操作顺序一定是要先使用旧包备份数据，再通过新包导入数据")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"问-容器安装的应该如何升级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-容器安装的应该如何升级"}},[t._v("#")]),t._v(" 问：容器安装的应该如何升级？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：升级流程和 Linux 流程基本一致，需要注意的就是上传文件的方式需要先上传到宿主机，再通过 "),a("code",[t._v("docker cp")]),t._v(" 方式将文件复制到容器中。")]),t._v(" "),a("p",[t._v("下面以从 2.8.24 升级到 2.9.0 为例：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意：从 2.8.24 版本开始新增数据库备份的参数命令，建议先升级到 2.8.24")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 备份低版本数据库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" jpom-server /bin/bash /usr/local/jpom-server/Server.sh restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --backup-h2\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行完后看到【Need to log out manually: Ctrl+C/Control+C】用 Ctrl + C 手动退出")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 替换脚本命令中为新版 Jar 包")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" jpom-server "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'/^RUNJAR="/s@.*@RUNJAR="Server-2.9.0.jar"@g\'')]),t._v(" /usr/local/jpom-server/Server.sh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker cp 本地文件路径 容器ID/容器NAME:容器内路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cp")]),t._v(" /root/Server-2.9.0.jar jpom-server:/usr/local/jpom-server/lib/Server-2.9.0.jar\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入容器内部")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" jpom-server /bin/bash\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将低版本的数据库导入到新版本中")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("backupFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-t")]),t._v(" /usr/local/jpom-server/data/db/backup/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-1")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n/bin/bash /usr/local/jpom-server/Server.sh restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" --replace-import-h2-sql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/jpom-server/data/db/backup/"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$backupFile")]),t._v(" --transform-sql\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动完成后，输入 Ctrl + C 退出。")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 退出容器，回到宿主机")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("h3",{attrs:{id:"问-升级服务端后需要将插件端也升级到-2-9-0-吗"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-升级服务端后需要将插件端也升级到-2-9-0-吗"}},[t._v("#")]),t._v(" 问：升级服务端后需要将插件端也升级到 2.9.0+ 吗？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：我们建议服务端和插件端的版本一致，可以同步升级到 2.9.0。")]),t._v(" "),a("p",[t._v("只要您在使用过程中没有发现部分功能异常，无法使用，接口 404 等情况下，插件端不及时更新也是没有太多问题的。")]),t._v(" "),a("p",[t._v("插件端和服务端版本差异请尽量一致或者缩小，避免出现部分功能调整后关联影响。")]),t._v(" "),a("h3",{attrs:{id:"问-哪里下载-2-8-24-安装包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-哪里下载-2-8-24-安装包"}},[t._v("#")]),t._v(" 问：哪里下载 2.8.24+ 安装包？")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("："),a("RouterLink",{attrs:{to:"/pages/all-downloads/"}},[t._v("下载中心")])],1),t._v(" "),a("h3",{attrs:{id:"问-插件端该如何升级到-2-9-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-插件端该如何升级到-2-9-0"}},[t._v("#")]),t._v(" 问：插件端该如何升级到 2.9.0+ ?")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("：插件端还是可以使用以前的方式：手动上传 jar，在线升级等。推荐使用在线升级，可以在服务端页面批量升级插件端版本")]),t._v(" "),a("h3",{attrs:{id:"问-新版本导入-sql-报错-怎么办呀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#问-新版本导入-sql-报错-怎么办呀"}},[t._v("#")]),t._v(" 问：新版本导入 sql 报错，怎么办呀！！！！")]),t._v(" "),a("p",[a("strong",[t._v("答")]),t._v("： 如果出现如下错误\n"),a("img",{attrs:{src:"/images/tutorial/h2-console/img2.8.x-error.png",alt:"img.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("可以检查执行的命令测试是否包含了："),a("code",[t._v("--transform-sql")]),t._v(" 或者 "),a("code",[t._v("--transform-sql=true")])]),t._v(" "),a("p",[t._v("如果包含了还是不能解决，您可以手动修改对应的 sql 文件")]),t._v(" "),a("p",[t._v("将")]),t._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" SYSTEM_LOB_STREAM_PRIMARY_KEY "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" SYSTEM_LOB_STREAM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" PART"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("这一行删除即可")])])}),[],!1,null,null,null);a.default=r.exports},504:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("Jpom 支持 Oauth2 登录，使用 "),a("a",{attrs:{href:"https://www.justauth.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JustAuth"),a("OutboundLink")],1),t._v(" 第三方库实现，感谢有了此工具库让我们轻松实现 Oauth2 登录")]),t._v(" "),a("p",[t._v("目前支持 "),a("a",{attrs:{href:"https://www.maxkey.top/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MaxKey"),a("OutboundLink")],1),t._v("、Github、Gitee、钉钉、飞书、企业微信、自建 Gitlab")]),t._v(" "),a("p",[t._v("2.11.4 版本开始支持：钉钉")]),t._v(" "),a("p",[t._v("2.11.5 版本开始支持：飞书、企业微信、自建 Gitlab")]),t._v(" "),a("h2",{attrs:{id:"配置-oauth2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-oauth2"}},[t._v("#")]),t._v(" 配置 Oauth2")]),t._v(" "),a("p",[t._v("路径：【系统管理】-> 【配置管理】->【认证管理】")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/ae038ba1d92848e6ae885e2eb2653e83.png",alt:"认证管理",loading:"lazy"}})]),t._v(" "),a("p",[t._v("开启 Oauth2 后")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/e4b6498d11ef42dab8158ad35526b404.png",alt:"开启 Oauth2 后",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"开启自动创建用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启自动创建用户"}},[t._v("#")]),t._v(" 开启自动创建用户")]),t._v(" "),a("p",[t._v("使用 Oauth2 方式登录如果当前系统中还未存在对应的账号系统将自动创建一个对应用户名的账户，初次登录仅能自动创建账号。")]),t._v(" "),a("p",[t._v("自动创建账户后请联系管理员分配权限组才能正常进入系统")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/639ada3b038f41dfafb2f21e3972d0b3.png",alt:"联系管理员分配权限",loading:"lazy"}})]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("使用 Oauth2 方式登录如果对应账号开启了 MFA 两步验证将忽略验证")])]),t._v(" "),a("h2",{attrs:{id:"配置参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置参考"}},[t._v("#")]),t._v(" 配置参考")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/oauth2-article/img_5.png",alt:"Gitee 配置",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/oauth2-article/img_6.png",alt:"MaxKey 配置",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/tutorial/oauth2-article/img_7.png",alt:"Github 配置",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},511:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("Jpom 支持为用户开启两步验证（MFA、数字令牌）来保障用户安全")]),t._v(" "),a("h2",{attrs:{id:"开启-mfa-两步验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启-mfa-两步验证"}},[t._v("#")]),t._v(" 开启 MFA 两步验证")]),t._v(" "),a("ul",[a("li",[t._v("登录 Jpom，点击昵称下拉处，选择【安全管理】")]),t._v(" "),a("li",[t._v("选择【两步验证】")]),t._v(" "),a("li",[t._v("点击【开启 MFA】")]),t._v(" "),a("li",[t._v("安装两步验证应用")]),t._v(" "),a("li",[t._v("扫描二维码或者输入 KEY")]),t._v(" "),a("li",[t._v("获取验证码")]),t._v(" "),a("li",[t._v("将验证码填入 Jpom 系统")]),t._v(" "),a("li",[t._v("确认绑定")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/99b6a9646a634b0aba02eeb050400d53.png",alt:"两步验证示例",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"推荐两步验证的应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#推荐两步验证的应用"}},[t._v("#")]),t._v(" 推荐两步验证的应用")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("【推荐】微信小程序搜索 数盾OTP")])]),t._v(" "),a("li",[a("strong",[t._v("【推荐】腾讯身份验证码")]),t._v(" 简单好用 "),a("a",{attrs:{href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.tencent.authenticator",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("Authy")]),t._v(" 功能丰富 专为两步验证码 "),a("a",{attrs:{href:"https://authy.com/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS/Android/Windows/Mac/Linux"),a("OutboundLink")],1),a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/authy/gaedmjdfmmahhbjefcbgaolhhanlaolb?hl=cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chrome 扩展"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("Google Authenticator")]),t._v(" 简单易用，但不支持密钥导出备份 "),a("a",{attrs:{href:"https://apps.apple.com/us/app/google-authenticator/id388497605",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("Microsoft Authenticator")]),t._v(" 使用微软全家桶的推荐 "),a("a",{attrs:{href:"https://www.microsoft.com/zh-cn/account/authenticator",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS/Android"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("strong",[t._v("1Password")]),t._v(" 强大安全的密码管理付费应用 "),a("a",{attrs:{href:"https://1password.com/zh-cn/downloads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS/Android/Windows/Mac/Linux/ChromeOS"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"关闭-mfa-两步验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭-mfa-两步验证"}},[t._v("#")]),t._v(" 关闭 MFA 两步验证")]),t._v(" "),a("ul",[a("li",[t._v("登录 Jpom，点击昵称下拉处，选择【安全管理】")]),t._v(" "),a("li",[t._v("选择【两步验证】")]),t._v(" "),a("li",[t._v("获取最新验证码")]),t._v(" "),a("li",[t._v("将验证码填入 Jpom 系统")]),t._v(" "),a("li",[t._v("点击【确认关闭】")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/3f550608dab3409f9d20f3d8884b3c60.png",alt:"确认关闭",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"mfa、数字令牌、两步验证丢失"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mfa、数字令牌、两步验证丢失"}},[t._v("#")]),t._v(" MFA、数字令牌、两步验证丢失")]),t._v(" "),a("ul",[a("li",[t._v("用户在登录时，如果开启 MFA 两步验证，那么用户需要输入 MFA 令牌才能登录")]),t._v(" "),a("li",[t._v("如果用户忘记 MFA 令牌，那么需要用户关闭本次的 MFA 两步验证，重新开启 MFA 两步验证")])]),t._v(" "),a("h3",{attrs:{id:"非超级管理员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#非超级管理员"}},[t._v("#")]),t._v(" 非超级管理员")]),t._v(" "),a("p",[t._v("联系操作管理员手动关闭")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/f6227e31c05c4d10acddf0c0c6b72ded.png",alt:"关闭MFA",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注意：如果未开启 MFA 此按钮是禁用状态")]),t._v(" "),a("h3",{attrs:{id:"超级管理员"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#超级管理员"}},[t._v("#")]),t._v(" 超级管理员")]),t._v(" "),a("h4",{attrs:{id:"linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[t._v("#")]),t._v(" linux")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" /xxxx/Server.sh restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--close:super_user_mfa")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows"}},[t._v("#")]),t._v(" windows")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("Server.bat restart "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--close:super_user_mfa")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"提醒用户开启-mfa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提醒用户开启-mfa"}},[t._v("#")]),t._v(" 提醒用户开启 MFA")]),t._v(" "),a("p",[t._v("如果您对系统安全有一定要求，期望用户均开启 MFA 两步验证，那么您可以开启提醒功能，提醒用户开启 MFA 两步验证。")]),t._v(" "),a("p",[t._v("开启方式：修改配置【jpom.user.force-mfa】为 true")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/4e1cc51bbd8247b992905fa0240eea39.png",alt:"修改MFA提醒配置",loading:"lazy"}})]),t._v(" "),a("p",[t._v("开启后用户打开系统，如果未开启 MFA 两步验证，那么系统会提醒用户开启 MFA 两步验证。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/1509a55858254496b46ee4a89b5cbd92.png",alt:"提醒开启MFA",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},512:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("p",[t._v("Jpom 服务端执行集群化管理和部署，但是注意是是逻辑集群来实现的（可能和您认为的集群稍微有一点差异）")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("一句话总结")]),t._v(" "),a("p",[t._v("搭建多个服务端并且指向同一个数据库使用分组来实现逻辑区分和管控")])]),t._v(" "),a("p",[t._v("整个架构图如下：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster-tree.png",alt:"集群架构图",loading:"lazy"}})]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("插件端自身没有必要做集群，请您不要问出如何对插件端集群化。如果您真需要那么您应该了解服务端中的"),a("code",[t._v("节点分发")]),t._v("功能")])]),t._v(" "),a("h2",{attrs:{id:"为啥要集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为啥要集群"}},[t._v("#")]),t._v(" 为啥要集群？")]),t._v(" "),a("p",[t._v("其实在我们日常使用绝大多数情况是无需集群化的，因为单体服务端基本够用，如果不够那么"),a("strong",[t._v("加钱？（扩容服务器）")])]),t._v(" "),a("p",[t._v("但是您的诉求就是需要对服务端进行集群化来实现资源隔离使用，那么也是可以实现的。")]),t._v(" "),a("h3",{attrs:{id:"痛点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#痛点"}},[t._v("#")]),t._v(" 痛点")]),t._v(" "),a("p",[t._v("首先您要知道 Jpom 服务端本身消耗资源的痛点在哪里，因为您集群化无非就是需要对服务器资源消耗进行把控和隔离。")]),t._v(" "),a("p",[t._v("服务端资源消耗的痛点在："),a("code",[t._v("在线构建")]),t._v(" 即项目打包部署，尤其是 node 项目在打包是资源消耗高。")]),t._v(" "),a("p",[t._v("理论上服务端除去"),a("code",[t._v("在线构建")]),t._v("功能之外其他功能均不会消耗过多资源，当您理解到痛点后我们继续看如何解决痛点。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("补充说明")]),t._v(" "),a("ul",[a("li",[t._v("在线构建消耗资源的原因不在于 jpom 服务端本身，而已调用相关插件而引起的资源消耗")]),t._v(" "),a("li",[t._v("不同构建方式使用到到依赖插件不同消耗资源也不同，同时资源消耗和您项目本身大小有一定关系")])])]),t._v(" "),a("h3",{attrs:{id:"如何解决"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何解决"}},[t._v("#")]),t._v(" 如何解决？")]),t._v(" "),a("p",[t._v("既然在线构建消耗资源，那么我们应该想法扩容服务器或者分散服务器来执行构建。")]),t._v(" "),a("ol",[a("li",[t._v("扩容最简单也是最有效的来。")]),t._v(" "),a("li",[t._v("分散服务器，使用多个服务器来构建项目（复杂度高）")])]),t._v(" "),a("p",[t._v("本文主要从分散服务器的方式来说明")]),t._v(" "),a("h2",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),a("p",[t._v("需要使用集群您需要先满足如下条件才更快的帮助您配置集群")]),t._v(" "),a("h3",{attrs:{id:"数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库"}},[t._v("#")]),t._v(" 数据库")]),t._v(" "),a("p",[t._v("如果您需要集群化部署那么您服务端的数据库必须使用或者提前迁移到 mysql 中。")]),t._v(" "),a("h3",{attrs:{id:"工作空间准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作空间准备"}},[t._v("#")]),t._v(" 工作空间准备")]),t._v(" "),a("p",[t._v("jpom 中的工作空间我相信您已经了解或者已经会使用了("),a("strong",[t._v("如果不会请看文档")]),t._v(")，如果需要集群的话则需要您提前将期望"),a("code",[t._v("存放/归属")]),t._v("不同集群的数据使用工作空间来划分。")]),t._v(" "),a("p",[t._v("因为 Jpom 中的逻辑集群绑定到不同的工作空间来实现数据切换或者资源使用。")]),t._v(" "),a("p",[t._v("并且您还需要对您的资产进行分组配置来指定对应的资产应该归属到哪个集群中来管理。")]),t._v(" "),a("h3",{attrs:{id:"集群网络互通"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群网络互通"}},[t._v("#")]),t._v(" 集群网络互通")]),t._v(" "),a("p",[t._v("这里是一个大前提奥。")]),t._v(" "),a("p",[t._v("您需要保证您的服务端 A 能连接到您的数据同时服务端 B 也能连接到您的数据库。")]),t._v(" "),a("p",[t._v("集群配置好后:")]),t._v(" "),a("ul",[a("li",[t._v("服务端 A 也等同于集群 A")]),t._v(" "),a("li",[t._v("服务端 B 也等同于集群 B")])]),t._v(" "),a("p",[t._v("单个集群中的资产信息也需要保证网络互通。")]),t._v(" "),a("h2",{attrs:{id:"集群创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群创建"}},[t._v("#")]),t._v(" 集群创建")]),t._v(" "),a("p",[t._v("您想在服务端中创建集群，那么当您服务端的数据库已经使用 mysql 后，您只需要在您新机器上安装一个全新的服务端，并且配置数据库信息为之前服务端相同的即可。")]),t._v(" "),a("p",[t._v("成功后操作路径：【系统管理】->【服务端配置】->【工作空间&集群】-> [集群管理选项卡]")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/databases/847801ba8e85efda498c4a0ca26c33ce.png",alt:"集群管理列表",loading:"lazy"}})]),t._v(" "),a("p",[t._v("可以看到已经有一条新的集群记录啦")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("规则说明")]),t._v(" "),a("p",[t._v("服务端中集群是使用"),a("code",[t._v("安装 id")]),t._v("来区分的，因为您全新安装时会自动生成一个新的"),a("code",[t._v("安装 id")])])]),t._v(" "),a("h3",{attrs:{id:"集群安装-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群安装-id"}},[t._v("#")]),t._v(" 集群安装 ID")]),t._v(" "),a("p",[t._v("集群安装 ID 创建规则：当服务端在启动时候会自动检查数据目录中是否存在："),a("code",[t._v("INSTALL.json")]),t._v(" 文件，如果不存在则进行自动创建")]),t._v(" "),a("p",[t._v("文件数据示例：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"installTime"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2021-03-16 17:05:32"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"installId"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"91c653b3e17c4021b486416e33d014c8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"desc"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请勿删除此文件,服务端安装id和插件端互通关联"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("其中的 "),a("code",[t._v("installId")]),t._v(" 为当前集群 id,并且集群数据会自动写入到数据库中，集群安装 id 生成规则是 "),a("code",[t._v("uuid")])]),t._v(" "),a("p",[t._v("程序会检查到当前程序的集群安装 id 在数据库中未存在则自动创建一条新记录。")]),t._v(" "),a("h2",{attrs:{id:"配置集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置集群"}},[t._v("#")]),t._v(" 配置集群")]),t._v(" "),a("p",[t._v("在您配置集群前您需要对您集群进行以下配置：")]),t._v(" "),a("ul",[a("li",[t._v("修改集群 ID")]),t._v(" "),a("li",[t._v("已经存在的资产信息进行分组")])]),t._v(" "),a("h3",{attrs:{id:"修改集群-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改集群-id"}},[t._v("#")]),t._v(" 修改集群 ID")]),t._v(" "),a("p",[t._v("系统默认的集群 ID 值为："),a("code",[t._v("DEFAULT")])]),t._v(" "),a("p",[t._v("在同一个系统中不同的集群 ID 需要配置为不同的值才能正常使用，反之您在服务端控制台（系统日志）将看到如下错误信息：")]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("DEFAULT 集群ID冲突："),a("span",{pre:!0,attrs:{class:"token hash constant"}},[t._v("7a175577b0d042c79c1a56b70de4996c")]),t._v(" 默认集群\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("修改集群 id 路径：【服务端管理】->【服务端配置】->【系统配置】->【服务端系统配置】")]),t._v(" "),a("p",[a("code",[t._v("jpom.cluster.id")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/6a89d7af8e69908538962eda70151af2.png",alt:"修改集群ID",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"资产分组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资产分组"}},[t._v("#")]),t._v(" 资产分组")]),t._v(" "),a("p",[t._v("在您配置集群前您需要对您已经存在的资产信息进行分组")]),t._v(" "),a("p",[t._v("资产分组的目的是实现您不同集群下的资产监控和调度")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("温馨提醒")]),t._v(" "),a("p",[t._v("当您在使用集群功能时，发现资产状态监控不正确，但是您的资产的确在线那么您就需要检查一下对应资产分组绑定的集群是否正常")])]),t._v(" "),a("p",[t._v("需要分组的资产有：")]),t._v(" "),a("ul",[a("li",[t._v("机器数据")]),t._v(" "),a("li",[t._v("SSH 数据")]),t._v(" "),a("li",[t._v("Docker 数据")])]),t._v(" "),a("p",[t._v("配置路径：【系统管理】->【资产管理】->(【机器管理】、【SSH管理】【Docker管理】)")]),t._v(" "),a("h3",{attrs:{id:"未绑定集群的分组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#未绑定集群的分组"}},[t._v("#")]),t._v(" 未绑定集群的分组")]),t._v(" "),a("p",[t._v("如果您在集群页面里面发现存在未绑定集群的分组数据时，您需要检查对应分组中的资产数据应该绑定到哪个集群分组然后进行配置绑定")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/98bdeee98d70e918658a82e1f962aa0b.png",alt:"集群分组提示",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/2aa65dc93c74a7944a92dc70bbb9a142.png",alt:"编辑集群",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/a6cfd04f4bdf7356f6bc94c4ebb75954.png",alt:"编辑集群页面状态",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"集群地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群地址"}},[t._v("#")]),t._v(" 集群地址")]),t._v(" "),a("p",[t._v("因为在 jpom 中实际是安装来多个服务端，如果您需要使用到对应的集群下面的工作空间数据，您还需要访问对应集群的真实地址来达到管理控制对应服务端（集群）。")]),t._v(" "),a("p",[t._v("所以集群地址，请填写对应集群的真实访问地址（可以是反向代理后的）")]),t._v(" "),a("h3",{attrs:{id:"工作空间绑定集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作空间绑定集群"}},[t._v("#")]),t._v(" 工作空间绑定集群")]),t._v(" "),a("p",[t._v("当您上次操作均完成后您还有最后一步就是给对应工作空间绑定一个集群来实现工作空间和集群关系能一一对应。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/ed64da307fd296738380b3d7bb63daf7.png",alt:"工作空间绑定集群",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/057e74f1ffeca162e0c0151fc903390d.png",alt:"工作空间绑定集群2",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"切换集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#切换集群"}},[t._v("#")]),t._v(" 切换集群")]),t._v(" "),a("p",[t._v("当您为所有集群都配置来访问地址时您可以在【右上角昵称】->【下拉处】切换")]),t._v(" "),a("p",[t._v("如果您未配置集群的访问地址可以看到集群名，但是切换按钮是禁用状态。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/3cea7b54a228c319207d3fce6734afe0.png",alt:"无非切换集群",loading:"lazy"}})]),t._v(" "),a("p",[t._v("您配置正确的地址后按钮即可用：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/190c77c9475e3ed370442ae3904c1681.png",alt:"正常切换集群",loading:"lazy"}})]),t._v(" "),a("p",[t._v("点击您想要切换到的集群后即可跳转到对应集群，当然您也可以手动在浏览器输入集群地址访问。")]),t._v(" "),a("h2",{attrs:{id:"删除集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除集群"}},[t._v("#")]),t._v(" 删除集群")]),t._v(" "),a("p",[t._v("当您想删除某个集群流程比较简单")]),t._v(" "),a("ol",[a("li",[t._v("停止对应集群服务端并卸载")]),t._v(" "),a("li",[t._v("解绑工作空间和集群关系")]),t._v(" "),a("li",[t._v("资产分组解绑\n"),a("ol",[a("li",[t._v("将需要删除集群绑定的资产分组重新分配到新集群")])])]),t._v(" "),a("li",[t._v("删除集群")])]),t._v(" "),a("p",[t._v("如果您在删除中提示："),a("strong",[t._v("不能删除在线的集群")]),t._v(" 那么说明您选错要删除集群了")]),t._v(" "),a("p",[t._v("系统中如果当前集群还在心跳（在线）是不能删除的，心跳机制是 "),a("code",[t._v("30 秒")]),t._v("一次")]),t._v(" "),a("p",[t._v("如果您在删除中提示："),a("strong",[t._v("当前集群还被工作空间绑定不能删除")]),t._v(" 那么说明您未解绑集群和工作空间关系。")]),t._v(" "),a("h2",{attrs:{id:"修改集群心跳"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改集群心跳"}},[t._v("#")]),t._v(" 修改集群心跳")]),t._v(" "),a("p",[t._v("心跳默认 30 秒检查集群在线状态，前提是已经配置集群地址后。")]),t._v(" "),a("p",[t._v("您可以自定义检查集群状态时间：")]),t._v(" "),a("p",[t._v("修改集群心跳路径：【服务端管理】->【服务端配置】->【系统配置】->【服务端系统配置】")]),t._v(" "),a("p",[a("code",[t._v("jpom.cluster.heart-second")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/cluster/6a89d7af8e69908538962eda70151af2.png",alt:"修改集群心跳",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},513:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),a("h3",{attrs:{id:"登录日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录日志"}},[t._v("#")]),t._v(" 登录日志")]),t._v(" "),a("p",[t._v("在用户每次登录均会记录日志，方便日后查看登录记录或者异常 IP 登录")]),t._v(" "),a("h3",{attrs:{id:"操作日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作日志"}},[t._v("#")]),t._v(" 操作日志")]),t._v(" "),a("p",[t._v("在用户每次操作均会记录日志，方便日后查看操作记录以及回溯操作流程")]),t._v(" "),a("h2",{attrs:{id:"操作日志-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作日志-2"}},[t._v("#")]),t._v(" 操作日志")]),t._v(" "),a("h3",{attrs:{id:"查看系统用户操作日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统用户操作日志"}},[t._v("#")]),t._v(" 查看系统用户操作日志")]),t._v(" "),a("p",[t._v("如果账号拥有服务端管理权限，则可以到【系统管理】-> 【用户管理】->【操作日志】中查看")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/aabac9f9b29c40dead7584496a5cdbc6.png",alt:"操作日志",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"查看自己操作日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看自己操作日志"}},[t._v("#")]),t._v(" 查看自己操作日志")]),t._v(" "),a("p",[t._v("【点击昵称下拉处】->【操作日志】->【操作日志】")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/0a1072ef8a7d4b49bbd6405eb5f1de73.png",alt:"查看自己的操作日志",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"登录日志-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录日志-2"}},[t._v("#")]),t._v(" 登录日志")]),t._v(" "),a("h3",{attrs:{id:"查看系统用户登录日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看系统用户登录日志"}},[t._v("#")]),t._v(" 查看系统用户登录日志")]),t._v(" "),a("p",[t._v("如果账号拥有服务端管理权限，则可以到【系统管理】-> 【用户管理】->【登录日志】中查看")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/9347c0b2945a4edf927178228cdb3e4d.png",alt:"登录记录",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"查看自己登录日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看自己登录日志"}},[t._v("#")]),t._v(" 查看自己登录日志")]),t._v(" "),a("p",[t._v("【点击昵称下拉处】->【操作日志】->【登录日志】")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/4c381eef954047f691fbc194263a8bed.png",alt:"查看自己登录日志",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports},539:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#在linux-系统中执行管理-sh-提示"}},[t._v("在linux 系统中执行管理 sh 提示")])]),a("li",[a("a",{attrs:{href:"#windows-中执行管理bat命令乱码或者执行失败"}},[t._v("windows 中执行管理bat命令乱码或者执行失败")])]),a("li",[a("a",{attrs:{href:"#windows-中上传中文文件名乱码"}},[t._v("windows 中上传中文文件名乱码")])]),a("li",[a("a",{attrs:{href:"#启动很慢"}},[t._v("启动很慢")])]),a("li",[a("a",{attrs:{href:"#ubuntu-debian-执行脚本错误"}},[t._v("Ubuntu/Debian 执行脚本错误")])]),a("li",[a("a",{attrs:{href:"#ubuntu-安装出现没有权限-permission-denied"}},[t._v("Ubuntu 安装出现没有权限 Permission denied")])]),a("li",[a("a",{attrs:{href:"#执行-install-sh-出现多个-permission-denied-错误"}},[t._v("执行 install.sh 出现多个 Permission denied 错误")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"在linux-系统中执行管理-sh-提示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在linux-系统中执行管理-sh-提示"}},[t._v("#")]),t._v(" 在linux 系统中执行管理 sh 提示")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/error/ff-unix.png",alt:"jpom",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/error/command-not-found.png",alt:"jpom",loading:"lazy"}})]),t._v(" "),a("p",[t._v("执行如下命令：(https://blog.csdn.net/perter_liao/article/details/76757605)")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1.编辑文件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" filename（文件名）\n  \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2.进入末行模式（按esc键）")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3.设置文件格式")]),t._v("\n:set "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("fileformat")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("unix\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 4.保存退出")]),t._v("\n :wq\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 5.#sh filename OK!")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("blockquote",[a("p",[t._v("同时需要注意文件编码格式和内容换行符")])]),t._v(" "),a("h2",{attrs:{id:"windows-中执行管理bat命令乱码或者执行失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-中执行管理bat命令乱码或者执行失败"}},[t._v("#")]),t._v(" windows 中执行管理bat命令乱码或者执行失败")]),t._v(" "),a("blockquote",[a("p",[t._v("请修改（Agent.bat、Server.bat）文件编码为当前系统默认的编码（windows中默认为GB2312）、检查文件内容换行符")]),t._v(" "),a("p",[t._v("使用 GB2312 编码后请检查脚本里面是否包含 CHCP 相关命令,如果存在需要将其一并删除")])]),t._v(" "),a("h2",{attrs:{id:"windows-中上传中文文件名乱码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows-中上传中文文件名乱码"}},[t._v("#")]),t._v(" windows 中上传中文文件名乱码")]),t._v(" "),a("ol",[a("li",[t._v("请修改（Agent.bat、Server.bat）文件编码为当前系统默认的编码（windows中默认为"),a("code",[t._v("GB2312")]),t._v("）、检查文件内容换行符："),a("code",[t._v("\\r\\n")])]),t._v(" "),a("li",[t._v("删除（Agent.bat、Server.bat）文件中 "),a("code",[t._v("CHCP")]),t._v(" 相关命令,果存在需要将其一并删除")]),t._v(" "),a("li",[t._v("添加 JVM 参数："),a("code",[t._v("-Dfile.encoding=UTF-8")])])]),t._v(" "),a("h2",{attrs:{id:"启动很慢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动很慢"}},[t._v("#")]),t._v(" 启动很慢")]),t._v(" "),a("p",[t._v("在 linux 中出现如下日志："),a("code",[t._v("Please verify your network configuration.")])]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[a("span",{pre:!0,attrs:{class:"token level warning important"}},[t._v("WARN")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StartupInfoLogger "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("StartupInfoLogger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("117")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v(" InetAddress"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getLocalHost"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getHostName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v(" took "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10084")]),t._v(" milliseconds to respond"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" Please verify your network configuration"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("解决方法：")]),t._v(" "),a("ol",[a("li",[t._v("查看主机名")])]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("hostname\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("假设输出："),a("code",[t._v("myhostname")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在/etc/hosts上加上主机名")])]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[a("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("127.0.0.1")]),t._v("   localhost myhostname\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("         localhost myhostname\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("注意：myhostname 请修改为第一步执行结果")]),t._v(" "),a("h2",{attrs:{id:"ubuntu-debian-执行脚本错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-debian-执行脚本错误"}},[t._v("#")]),t._v(" Ubuntu/Debian 执行脚本错误")]),t._v(" "),a("blockquote",[a("p",[t._v('Syntax error: "(" unexpected')])]),t._v(" "),a("p",[t._v("代码对于标准bash而言没有错，因为"),a("code",[t._v("Ubuntu/Debian")]),t._v("为了加快开机速度，用"),a("code",[t._v("dash")]),t._v("代替了传统的"),a("code",[t._v("bash")]),t._v("，是"),a("code",[t._v("dash")]),t._v("在捣鬼。")]),t._v(" "),a("p",[t._v("解决方法:")]),t._v(" "),a("ol",[a("li",[t._v("就是取消"),a("code",[t._v("dash")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("sudo dpkg-reconfigure dash")]),t._v(" 在选择项中选No，搞定了！")])])]),t._v(" "),a("li",[t._v("通过 "),a("code",[t._v("bash ./Agent.sh")]),t._v("、"),a("code",[t._v("bash ./Server.sh")]),t._v("执行")])]),t._v(" "),a("h2",{attrs:{id:"ubuntu-安装出现没有权限-permission-denied"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-安装出现没有权限-permission-denied"}},[t._v("#")]),t._v(" Ubuntu 安装出现没有权限 Permission denied")]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("@")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("$")]),t._v(" apt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("get install "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("y wget "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" \\\nwget "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("O "),a("span",{pre:!0,attrs:{class:"token domain constant"}},[t._v("install.sh")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token url"}},[t._v("https://jpom.top/docs/install.sh")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" \\\nbash "),a("span",{pre:!0,attrs:{class:"token domain constant"}},[t._v("install.sh")]),t._v(" Server jdk\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("E:")]),t._v(" Could not open lock file "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/var/lib/dpkg/lock-frontend")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" open "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("E:")]),t._v(" Unable to acquire the dpkg frontend lock "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/var/lib/dpkg/lock-frontend")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" are you root"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("这是因为当前账号没有安装软件的权限，可以修改安装命令如下：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-O")]),t._v(" install.sh https://jpom.top/docs/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" install.sh Server jdk\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h2",{attrs:{id:"执行-install-sh-出现多个-permission-denied-错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行-install-sh-出现多个-permission-denied-错误"}},[t._v("#")]),t._v(" 执行 install.sh 出现多个 Permission denied 错误")]),t._v(" "),a("p",[t._v("参考的错误日志如下：")]),t._v(" "),a("ol",[a("li",[t._v("mkdir: cannot create directory ‘/usr/java/’: Permission denied")]),t._v(" "),a("li",[t._v("install.sh: line 63: /etc/profile: Permission denied")]),t._v(" "),a("li",[t._v("mkdir: cannot create directory ‘/usr/local/jpom-server’: Permission denied")])]),t._v(" "),a("div",{staticClass:"language-log line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-log"}},[a("code",[t._v("Resolving "),a("span",{pre:!0,attrs:{class:"token domain constant"}},[t._v("download.jpom.top")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("download"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jpom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("58.218.208.95")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("58.218.208.93")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("58.218.208.81")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nConnecting to "),a("span",{pre:!0,attrs:{class:"token domain constant"}},[t._v("download.jpom.top")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("download"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jpom"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token ip-address constant"}},[t._v("58.218.208.95")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" connected"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nHTTP request sent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" awaiting response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" OK\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Length:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("195132576")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("186M")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("gzip"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Saving to:")]),t._v(" ‘jdk"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("8u251"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gz’\n\n"),a("span",{pre:!0,attrs:{class:"token domain constant"}},[t._v("jdk-8u251-linux-x64.tar.gz")]),t._v("                      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token separator comment"}},[t._v("====================================================================================================")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("186.09M")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.49MB")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("s    in "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("47s")]),t._v("     \n\n"),a("span",{pre:!0,attrs:{class:"token date number"}},[t._v("2022-11-24")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token time number"}},[t._v("08:18:42")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.96")]),t._v(" MB"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" ‘jdk"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("8u251"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("x64"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gz’ saved "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("195132576")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("195132576")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("mkdir:")]),t._v(" cannot create directory ‘"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("’"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("tar:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/usr/java")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Cannot open"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" No such file or directory\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("tar:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("Error is not recoverable:")]),t._v(" exiting now\n安装jdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("路径"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jdk1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0_251"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("install.sh:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line 63:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/profile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("install.sh:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line 64:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/profile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("install.sh:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line 65:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/profile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("install.sh:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("line 66:")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/etc/profile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n默认安装目录 "),a("span",{pre:!0,attrs:{class:"token file-path string"}},[t._v("/usr/local/jpom-server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 是否使用此目录作为安装目录"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" 输入 y 确定"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 否则请输入安装目录"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 需要使用绝对路径 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("(")]),t._v("注意"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" agent 和 server 不能装到同一个目录"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(")")]),t._v("：y\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("mkdir:")]),t._v(" cannot create directory ‘"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("jpom"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("server’"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Permission denied\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("p",[t._v("这是因为当前账号没有对应目录的写入权限，建议使用 sudo 切换 root 用户安装即可或者跟进日志信息看出路径有如下：")]),t._v(" "),a("ol",[a("li",[t._v("自动安装 jdk 的路径："),a("code",[t._v("/usr/java/")]),t._v(".\n"),a("ul",[a("li",[t._v("提前手动安装 jdk 环境")])])]),t._v(" "),a("li",[t._v("安装 服务端的路径："),a("code",[t._v("/usr/local/jpom-server")]),t._v(" "),a("ul",[a("li",[t._v("安装时候根据提示手动填写有权限的路径")])])])])])}),[],!1,null,null,null);a.default=r.exports},543:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"jpom-的参数配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpom-的参数配置"}},[t._v("#")]),t._v(" Jpom 的参数配置")]),t._v(" "),a("p",[t._v("在项目运行的根路径下的"),a("code",[t._v("extConfig.yml")]),t._v("文件")]),t._v(" "),a("ol",[a("li",[t._v("插件端示例："),a("code",[t._v("extConfig.yml")])]),t._v(" "),a("li",[t._v("服务端示例："),a("code",[t._v("extConfig.yml")])])]),t._v(" "),a("h2",{attrs:{id:"如何修改程序运行端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改程序运行端口"}},[t._v("#")]),t._v(" 如何修改程序运行端口")]),t._v(" "),a("blockquote",[a("p",[t._v("修改管理程序命令文件中 --server.port=2122")])]),t._v(" "),a("h2",{attrs:{id:"如何指定jpom运行jvm内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何指定jpom运行jvm内存"}},[t._v("#")]),t._v(" 如何指定Jpom运行jvm内存")]),t._v(" "),a("blockquote",[a("p",[t._v("修改管理程序命令文件中 JVM 变量添加 -Xms512m -Xmx1024m")])]),t._v(" "),a("h2",{attrs:{id:"如何修改程序日志路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改程序日志路径"}},[t._v("#")]),t._v(" 如何修改程序日志路径")]),t._v(" "),a("blockquote",[a("p",[t._v("修改管理程序命令文件中 --jpom.log=/jpom/log/")])]),t._v(" "),a("h2",{attrs:{id:"如何修改会话超时时长"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改会话超时时长"}},[t._v("#")]),t._v(" 如何修改会话超时时长")]),t._v(" "),a("blockquote",[a("p",[t._v("在管理程序命令文件中 ARGS 变量添加 --tomcat.sessionTimeOut=1800")])]),t._v(" "),a("h2",{attrs:{id:"如何修改-jpom-自身控制台日志级别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改-jpom-自身控制台日志级别"}},[t._v("#")]),t._v(" 如何修改 Jpom 自身控制台日志级别")]),t._v(" "),a("blockquote",[a("p",[t._v("修改管理程序命令文件中"),a("code",[t._v("--spring.profiles.active=")]),t._v("属性值"),a("code",[t._v("pro/dev")])])]),t._v(" "),a("h2",{attrs:{id:"如何修改-jpom-数据存储目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改-jpom-数据存储目录"}},[t._v("#")]),t._v(" 如何修改 Jpom 数据存储目录")]),t._v(" "),a("blockquote",[a("p",[t._v("修改外部配置文件"),a("code",[t._v("extConfig.yml")]),t._v("中的 jpom.path 属性")])]),t._v(" "),a("h2",{attrs:{id:"如何修改-jpom-插件端账户-密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何修改-jpom-插件端账户-密码"}},[t._v("#")]),t._v(" 如何修改 Jpom 插件端账户/密码")]),t._v(" "),a("blockquote",[a("p",[t._v("修改插件端外部配置文件"),a("code",[t._v("extConfig.yml")]),t._v("中的 jpom.authorize.agentName 和 jpom.authorize.agentPwd 属性")])])])}),[],!1,null,null,null);a.default=r.exports},544:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"用户属性会包含"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户属性会包含"}},[t._v("#")]),t._v(" 用户属性会包含")]),t._v(" "),a("ol",[a("li",[t._v("登录名")]),t._v(" "),a("li",[t._v("昵称")]),t._v(" "),a("li",[t._v("密码")]),t._v(" "),a("li",[t._v("用户资料")])]),t._v(" "),a("h3",{attrs:{id:"设置用户资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置用户资料"}},[t._v("#")]),t._v(" 设置用户资料")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("用户登录，打开用户资料")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/user.png",alt:"用户资料",loading:"lazy"}})])]),t._v(" "),a("li",[a("p",[t._v("设置通知地址")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/user/info.png",alt:"通知地址",loading:"lazy"}})])])]),t._v(" "),a("blockquote",[a("p",[t._v("设置通知邮箱需先配置发件邮箱。请先到服务端后台系统管理-邮箱配置中设置，详情请查看"),a("RouterLink",{attrs:{to:"/文档/9999.历史文档/0010.用户管理/系统管理/邮箱配置.html"}},[t._v("邮箱配置")])],1)]),t._v(" "),a("blockquote",[a("p",[t._v("钉钉群")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("获取自定义机器人webhook\n在机器人管理页面选择“自定义”机器人，输入机器人名字并选择要发送消息的群。如果需要的话，可以为机器人设置一个头像。点击“完成添加”，完成后会生成Hook地址，如下图：\n点击“复制”按钮，即可获得这个机器人对应的Webhook地址，其格式如下：\n    https://oapi.dingtalk.com/robot/send?access_token=xxxxxxxx\n")])])]),a("p",[a("img",{attrs:{src:"/images/Get_ding_hook.jpg",alt:"输入图片说明",title:"屏幕截图.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"操作日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作日志"}},[t._v("#")]),t._v(" 操作日志")]),t._v(" "),a("blockquote",[a("p",[t._v("操作日志是记录所有用户对系统的一些操作记录")])]),t._v(" "),a("blockquote",[a("p",[t._v("所有人都可以看到登录日志")])]),t._v(" "),a("p",[t._v("会记录：")]),t._v(" "),a("ol",[a("li",[t._v("操作用户的登录名")]),t._v(" "),a("li",[t._v("操作人的IP")]),t._v(" "),a("li",[t._v("所属节点Id")]),t._v(" "),a("li",[t._v("数据Id(请求参数的ID字段)")]),t._v(" "),a("li",[t._v("操作类型，不同的操作是不同的类型"),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cn.keepbx.jpom.model.log.UserOperateLogV1.OptType\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[t._v("执行结果")]),t._v(" "),a("li",[t._v("操作时间")])]),t._v(" "),a("blockquote",[a("p",[t._v("点击详情可以查看更多信息")])]),t._v(" "),a("ol",[a("li",[t._v("浏览器标识")]),t._v(" "),a("li",[t._v("请求的所有参数")]),t._v(" "),a("li",[t._v("响应结果")])])])}),[],!1,null,null,null);a.default=r.exports},554:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("配置监控报警通知邮箱")])]),t._v(" "),a("blockquote",[a("p",[t._v("网易163免费邮箱相关服务器信息：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("服务器名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("服务器地址")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("SSL协议端口号")]),t._v(" "),a("th",[t._v("非SSL协议端口号")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("IMAP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("imap.163.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("993")]),t._v(" "),a("td",[t._v("143")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("SMTP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("smtp.163.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("465/994")]),t._v(" "),a("td",[t._v("25")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("POP3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("pop.163.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("995")]),t._v(" "),a("td",[t._v("110")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("QQ邮箱 POP3 和 SMTP 服务器地址设置如下：")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("服务器名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("服务器地址")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("SSL协议端口号")]),t._v(" "),a("th",[t._v("非SSL协议端口号")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("SMTP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("smtp.qq.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("465/587")]),t._v(" "),a("td",[t._v("25")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("POP3")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("pop.qq.com")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("995")]),t._v(" "),a("td")])])]),t._v(" "),a("h3",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),a("ol",[a("li",[t._v("注意阿里云服务器屏蔽25端口")]),t._v(" "),a("li",[t._v("邮箱配置的密码不是邮箱登录密码，是邮箱授权码")])])])}),[],!1,null,null,null);a.default=r.exports},560:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2-11-12-release-2025-05-06"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-12-release-2025-05-06"}},[t._v("#")]),t._v(" 2.11.12-release (2025-05-06)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 远程安装时的授权码支持（感谢@奇奇）")]),t._v(" "),a("li",[t._v("【server】修复 SSH控制台输入Control + R后无法记录日志的问题")]),t._v(" "),a("li",[t._v("【server】优化 容器构建镜像新增 "),a("a",{attrs:{href:"https://1ms.run/",target:"_blank",rel:"noopener noreferrer"}},[t._v("毫秒镜像"),a("OutboundLink")],1),t._v(" 临时仓库")]),t._v(" "),a("li",[t._v("【all】优化 修改 tomcat版本到9.0.99安全版本 （感谢@"),a("a",{attrs:{href:"https://gitee.com/woyeshimao",target:"_blank",rel:"noopener noreferrer"}},[t._v("龙猫"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/292",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 292"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】新增 服务端在线升级页面支持配置下载授权码，方便国内用户使用全速 CDN")]),t._v(" "),a("li",[t._v("【server】新增 支持使用 TOPIAM 企业数字身份管控平台登录（oauth2）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 构建页面保存按钮使用 loading （感谢"),a("a",{attrs:{href:"https://gitee.com/who9264",target:"_blank",rel:"noopener noreferrer"}},[t._v("@hhh"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IBD8WF",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IBD8WF"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 文件列表支持跟随目录排序")]),t._v(" "),a("li",[t._v("【server】优化 用户操作日志记录表中用户 id 长度不够照成登录失败问题（感谢"),a("a",{attrs:{href:"https://gitee.com/halo-lmf",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Halo"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IBFNKE",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IBFNKE"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】优化 DSL 项目备份支持配置开启或者关闭差异备份（默认使用差异备份：仅备份变动过的文件）（感谢"),a("a",{attrs:{href:"https://gitee.com/ercats",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ercats"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IBF73J",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IBF73J"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建 webhook 新增 git 的提交id和提交信息参数（感谢"),a("a",{attrs:{href:"https://gitee.com/Aimeia",target:"_blank",rel:"noopener noreferrer"}},[t._v("@皮儿卡啦没有丘"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IBDEU0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IBDEU0"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 文件中心发布文件支持保存为模板方便后续使用（感谢"),a("a",{attrs:{href:"https://gitee.com/lin_yeqi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@lin_yeqi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IB2FRF",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IB2FRF"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】升级 hutool 版本")]),t._v(" "),a("li",[t._v("【server】修复 ssh文件管理显示错位（感谢"),a("a",{attrs:{href:"https://gitee.com/lin_yeqi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@lin_yeqi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IB98AU",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IB98AU"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-11-release-2024-12-02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-11-release-2024-12-02"}},[t._v("#")]),t._v(" 2.11.11-release (2024-12-02)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】升级 docker-java 版本到 3.4.0")]),t._v(" "),a("li",[t._v("【server】优化 数据库备份支持外部调用触发器来实现自定义备份周期（感谢@刘志远）")]),t._v(" "),a("li",[t._v("【server】优化 SSH、项目 文件管理树加载 loading 避免网络卡顿影响树渲染错误（感谢@Bo）")]),t._v(" "),a("li",[t._v("【server】优化 SSH、项目 文件管理树支持横向滚动条")]),t._v(" "),a("li",[t._v("【server】优化 构建记录存储最后 commitId commitMsg 信息（感谢@program）")]),t._v(" "),a("li",[t._v("【server】优化 引用脚本库时出现 ${xxxx} 出现引用失败：No group with name {xxxx} （感谢"),a("a",{attrs:{href:"https://gitee.com/zhangyf35",target:"_blank",rel:"noopener noreferrer"}},[t._v("@foot_print"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAW413",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAW413"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建环境变量自动识别系统变量密文相关关键词：pwd、pass、password、token 为隐私变量（感谢"),a("a",{attrs:{href:"https://gitee.com/lin_yeqi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@lin_yeqi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IB34L9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IB34L9"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】优化 项目状态触发器 result 参数返回 json 类型，DSL 项目重启成功返回 pid（感谢@新）")]),t._v(" "),a("li",[t._v("【server】优化 日志查看器中行号增加无法选中样式（感谢"),a("a",{attrs:{href:"https://gitee.com/mrning001",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ning"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/284",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 284"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 容器构建自定义插件，环境变量不匹配问题（感谢"),a("a",{attrs:{href:"https://gitee.com/pubresyang",target:"_blank",rel:"noopener noreferrer"}},[t._v("@杨晓龙"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/285",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 285"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】优化 项目日志文件编码格式支持独立配置（感谢"),a("a",{attrs:{href:"https://gitee.com/zhangjxing",target:"_blank",rel:"noopener noreferrer"}},[t._v("@不渡"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IB3DCP",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IB3DCP"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】优化 使用默认语言时增加判断所在时区来识别中文环境")]),t._v(" "),a("li",[t._v("【all】升级 fastjson 依赖版本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-10-release-2024-09-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-10-release-2024-09-19"}},[t._v("#")]),t._v(" 2.11.10-release (2024-09-19)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 项目监控新增沉默时间配置，避免报警后不再触发报警")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】修复 多会话使用文件跟踪器可能出现多个线程未关闭问题（感谢"),a("a",{attrs:{href:"https://gitee.com/MuJianPing",target:"_blank",rel:"noopener noreferrer"}},[t._v("@沐剑屏"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAI0I1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAI0I1"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】修复 windows 管理脚本在 JDK 1.8 无法正常启动（感谢@流浪的墨染青衫、@LL）")]),t._v(" "),a("li",[t._v("【server】修复 多个工作空间分组后子工作空间层级异常造成不能正常使用")]),t._v(" "),a("li",[t._v("【server】修复 监控日志标题字段长度太短在英语模式下字段异常（感谢@Deer）")]),t._v(" "),a("li",[t._v("【server】优化 监控新增使用语言来实现通知消息国际化")]),t._v(" "),a("li",[t._v("【server】修复 git仓库账号/密码包含特殊符号导致系统Git工具无法成功认证的问题（感谢@🇩）")]),t._v(" "),a("li",[t._v("【server】修复 SSH 分片上传极大概率上传失败问题（感谢@勤思·、@张飞鸿）")]),t._v(" "),a("li",[t._v("【all】升级 hutool、logback、tomcat 版本")]),t._v(" "),a("li",[t._v("【server】优化 时长格式化工具支持 i18n 国际化")]),t._v(" "),a("li",[t._v("【server】修复 终端日志处理字节'7'导致的日志补全记录不全 （感谢@"),a("a",{attrs:{href:"https://github.com/YazaiHu",target:"_blank",rel:"noopener noreferrer"}},[t._v("adao"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/91",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 91"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】升级 spring 包到 5.3.39 修复漏洞 CVE-2024-38808，CVE-2024-38809（感谢@"),a("a",{attrs:{href:"https://gitee.com/woyeshimao",target:"_blank",rel:"noopener noreferrer"}},[t._v("龙猫"),a("OutboundLink")],1),t._v("）"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/281",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 281"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】优化 构建 webhook 携带工作空间和集群id参数（workspaceId、clusterInfoId、workspaceName）（感谢@🦁子）")]),t._v(" "),a("li",[t._v("【server】修复 构建命令引用脚本时相关脚本引用脚本库未生效问题（感谢@木迷榖）")]),t._v(" "),a("li",[t._v("【server】优化 构建命令、本地发布命令支持直接引起脚本库（"),a("code",[t._v('G@("xx")')]),t._v(" xx 为脚本标记）")]),t._v(" "),a("li",[t._v("【server】修复 构建时日志记录器异常关闭未提示并且构建状态未修改（感谢@陈晨🍊）")]),t._v(" "),a("li",[t._v("【server】优化 构建日志弹窗支持查看可用环境变量")]),t._v(" "),a("li",[t._v("【server】优化 构建支持查看可用环境变量（感谢"),a("a",{attrs:{href:"https://gitee.com/L_FaN",target:"_blank",rel:"noopener noreferrer"}},[t._v("@慌i"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IALAUW",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IALAUW"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】升级 mysql 驱动版本到 8.2.0")]),t._v(" "),a("li",[t._v("【server】优化 ssh docker 独立配置是否需要 sudo 执行")]),t._v(" "),a("li",[t._v("【server】修复 ssh docker 选型固定只有最新 10 条调整为搜索下拉（@山上雪）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-9-release-2024-08-02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-9-release-2024-08-02"}},[t._v("#")]),t._v(" 2.11.9-release (2024-08-02)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-4"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 静态文件扫描到空时更新数据库异常（感谢"),a("a",{attrs:{href:"https://gitee.com/kylin_lawliet",target:"_blank",rel:"noopener noreferrer"}},[t._v("@blackcat"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IA6UO0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IA6UO0"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 SSH命令行操作日志支持更全展示（感谢"),a("a",{attrs:{href:"https://gitee.com/beens",target:"_blank",rel:"noopener noreferrer"}},[t._v("@beens"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IA6P3J",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IA6P3J"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】优化 升级 hutool、oshi、mwiede-jsch、fastjson2 版本")]),t._v(" "),a("li",[t._v("【server】修复 非管理员用户无法使用脚本库数据（感谢"),a("a",{attrs:{href:"https://gitee.com/dbk12138",target:"_blank",rel:"noopener noreferrer"}},[t._v("@丁炳坤"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IA8ZKP",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IA8ZKP"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 构建编辑页面未输入构建命令提示错误（感谢"),a("a",{attrs:{href:"https://gitee.com/a1127583020",target:"_blank",rel:"noopener noreferrer"}},[t._v("@yt"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAAI8D",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAAI8D"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建容器镜像支持推送到远程仓库后自动删除本地镜像（感谢 "),a("a",{attrs:{href:"https://gitee.com/qiqi513_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@爱琳琳真是太好了"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IA6UBO",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IA6UBO"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 淘汰 javax.security.cert.X509Certificate（感谢"),a("a",{attrs:{href:"https://github.com/index-jie",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Jie"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/86",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 84"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】优化 启动控制台日志完善 i18n")]),t._v(" "),a("li",[t._v("【server】修复 证书删除后弹窗未正常关闭")]),t._v(" "),a("li",[t._v("【server】优化 登录验证码去除易混淆字母（oO0、lL1、q9Q、pP）")]),t._v(" "),a("li",[t._v("【server】修复 批量构建引起环境变量丢失问题（感谢@"),a("a",{attrs:{href:"https://github.com/xieliangza",target:"_blank",rel:"noopener noreferrer"}},[t._v("xieliangza"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/88",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 88"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】优化 解析 HTTP "),a("code",[t._v("Accept-Language")]),t._v(" 请求头支持多语言最高优先级")]),t._v(" "),a("li",[t._v("【server】修复 页面未刷新情况下打开弹窗次数过多不能提示窗口层级太低（感谢"),a("a",{attrs:{href:"https://gitee.com/lin_yeqi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@lin_yeqi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAEBUZ",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAEBUZ"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 分发日志显示关联数据信息（感谢"),a("a",{attrs:{href:"https://gitee.com/pumpkinor",target:"_blank",rel:"noopener noreferrer"}},[t._v("@pumpkinor"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAF7IV",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAF7IV"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 分发文件使用文件中心或者静态文件上传至节点使用实际文件名（感谢"),a("a",{attrs:{href:"https://gitee.com/pumpkinor",target:"_blank",rel:"noopener noreferrer"}},[t._v("@pumpkinor"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAF7GD",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAF7GD"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 文件管理支持浏览器分片上传（感谢"),a("a",{attrs:{href:"https://gitee.com/chao_a",target:"_blank",rel:"noopener noreferrer"}},[t._v("@超人那个超i"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/IAD9W4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues IAD9W4"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】优化 管理脚本判断 JDK9+ 自动添加解除限制反射参数：--add-opens=xxxx")]),t._v(" "),a("li",[t._v("【server】优化 更多组件的页面层级问题，避免层级错乱无法正常使用页面相关功能")]),t._v(" "),a("li",[t._v("【server】修复 容器构建 DSL 配置示例错乱")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-8-release-2024-06-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-8-release-2024-06-20"}},[t._v("#")]),t._v(" 2.11.8-release (2024-06-20)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-5"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 操作确认交互弹窗层级过低无法正常显示使用（感谢@ccx2480）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-7-release-2024-06-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-7-release-2024-06-19"}},[t._v("#")]),t._v(" 2.11.7-release (2024-06-19)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】新增 项目文件支持快捷复制到当前文件夹")]),t._v(" "),a("li",[t._v("【agent】新增 项目文件夹支持快捷压缩（感谢"),a("a",{attrs:{href:"https://gitee.com/yiziyu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@yiziyu"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9737L",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9737L"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】新增 全局脚本库（DSL 项目可引用）")]),t._v(" "),a("li",[t._v("【all】新增 支持 i18n 语言国际化：简体中文、英语、繁體中文（中國香港）、繁體中文（中國臺灣）")]),t._v(" "),a("li",[t._v("【server】新增 服务端脚本、SSH 脚本支持引用全局脚本库（"),a("code",[t._v('G@("xx")')]),t._v(" xx 为脚本标记）")]),t._v(" "),a("li",[t._v("【agent】新增 节点脚本支持引用全局脚本库（"),a("code",[t._v('G@("xx")')]),t._v(" xx 为脚本标记）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-6"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 部分参数、环境变量配置交互优化取消文本输入框采用标签模式（感谢@湘江夜色）")]),t._v(" "),a("li",[t._v("【server】修复 部分页面中文描述未正常显示")]),t._v(" "),a("li",[t._v("【server】优化 文件发布支持选择脚本模板（感谢"),a("a",{attrs:{href:"https://gitee.com/linWorld",target:"_blank",rel:"noopener noreferrer"}},[t._v("@linCodeTest"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9P0EU",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9P0EU"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 升级 postgresql 版本（感谢@ʟᴊx💎💎）")]),t._v(" "),a("li",[t._v("【server】修复 机器相关授权配置文件后缀输入框未正常显示（@感谢@ccx2480）")]),t._v(" "),a("li",[t._v("【server】修复 没有端口的容器重建页面异常（感谢@冰淇淋还是冰激凌）")]),t._v(" "),a("li",[t._v("【server】优化 ssh 管理独立 tab 页面使用默认的字符串排序")]),t._v(" "),a("li",[t._v("【server】修复 服务端脚本无法执行、参数值描述不对应（感谢@冰淇淋还是冰激凌）")]),t._v(" "),a("li",[t._v("【server】修复 gogs 仓库令牌导入异常（感谢@张飞鸿）")]),t._v(" "),a("li",[t._v("【server】修复 自定义仓库令牌导入后页面异常（感谢@张飞鸿）")]),t._v(" "),a("li",[t._v("【agent】修复 不同工作空间下同一个机器节点相同的项目ID的项目数据被覆盖（感谢@小朱）")]),t._v(" "),a("li",[t._v("【agent】优化 DSL 项目支持引用脚本库中的脚本（G@xxxx）xxxx 为脚本标记")]),t._v(" "),a("li",[t._v("【all】优化 新增系统语言配置 "),a("code",[t._v("jpom.system.lang")])]),t._v(" "),a("li",[t._v("【server】优化 前端紧凑模式在浅色模式下也生效")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("ul",[a("li",[t._v("前端国际化翻译程度：98%")]),t._v(" "),a("li",[t._v("后端已翻译语言可以度：95%（部分异步执行日志等目前未支持）")])]),t._v(" "),a("p",[t._v("后端日志国际化需要新增或者修改 "),a("code",[t._v("jpom.system.lang")]),t._v(" 配置项")]),t._v(" "),a("h3",{attrs:{id:"🤝致谢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🤝致谢"}},[t._v("#")]),t._v(" 🤝致谢")]),t._v(" "),a("p",[t._v("感谢 "),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" / Controllers 大佬贡献 Jpom 前端 i18n 工具。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-6-release-2024-05-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-6-release-2024-05-30"}},[t._v("#")]),t._v(" 2.11.6-release (2024-05-30)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-4"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】新增 自由脚本方便调试机器节点")]),t._v(" "),a("li",[t._v("【agent】新增 项目支持配置禁止扫描目录避免大目录页面超时（感谢@我）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-7"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 资产管理 SSH 配置禁用命令无法回显（感谢@zhangw）")]),t._v(" "),a("li",[t._v("【server】修复 资产管理 SSH 未配置授权目录时 NPE （感谢"),a("a",{attrs:{href:"https://gitee.com/MrAnley",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Anley"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9J17G",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9J17G"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】优化 监控机器网络流程支持配置排除网卡或者仅统计对应的网卡")]),t._v(" "),a("li",[t._v("【server】修复 退出登录时页面会提示需要登录相关信息")]),t._v(" "),a("li",[t._v("【server】优化 页面检测新版本判断是否加入 beta")]),t._v(" "),a("li",[t._v("【agent】优化 添加数据记录修改人（感谢"),a("a",{attrs:{href:"https://gitee.com/chenxu8989",target:"_blank",rel:"noopener noreferrer"}},[t._v("@陈旭"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9JSY7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9JSY7"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 插件端注册到服务端，网络测试支持 ping + telnet （感谢@泊凉青川）")]),t._v(" "),a("li",[t._v("【server】优化 自动续签采用无感模式（感谢@湘江夜色）")]),t._v(" "),a("li",[t._v("【server】优化 容器构建执行配置自定义 host 参数（感谢@冰淇淋还是冰激凌）")]),t._v(" "),a("li",[t._v("【all】升级 tomcat、yaml 版本（感谢@佳驰）")]),t._v(" "),a("li",[t._v("【all】升级 bcprov-jdk18on 版本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-5-release-2024-04-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-5-release-2024-04-23"}},[t._v("#")]),t._v(" 2.11.5-release (2024-04-23)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-5"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 Oauth2 新增【飞书账号】、【自建 Gitlab】登录（感谢"),a("a",{attrs:{href:"https://gitee.com/cuia",target:"_blank",rel:"noopener noreferrer"}},[t._v("@鸡皮蒜毛与鸡毛蒜皮"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9ELGS",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9ELGS"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】新增 Oauth2 新增企业微信登录")]),t._v(" "),a("li",[t._v("【server】新增 发布系统公告")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-8"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 oauth2 第三方平台登录解析用户名将依次尝试：平台用户名、邮箱、uuid")]),t._v(" "),a("li",[t._v("【server】修复 无法查询到分组信息（页面下拉框）（感谢"),a("a",{attrs:{href:"https://gitee.com/robot1937",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Robot"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9FN9U",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9FN9U"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】升级 hutool 版本")]),t._v(" "),a("li",[t._v("【server】修复 修复孤独数据描述错别字（感谢"),a("a",{attrs:{href:"https://github.com/Cuiys1458",target:"_blank",rel:"noopener noreferrer"}},[t._v("@cuiyongsheng"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/77",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 77"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 前端地址栏输入二级路径 404 页面卡死问题")]),t._v(" "),a("li",[t._v("【server】优化 Git 仓库地址不正确相关提示更准确（感谢@易自玉）")]),t._v(" "),a("li",[t._v("【server】升级 前端组件版本")]),t._v(" "),a("li",[t._v("【all】优化 管理脚本删除 "),a("code",[t._v("-XX:-UseBiasedLocking")]),t._v(" 使其能在高版本 jdk 运行")]),t._v(" "),a("li",[t._v("【server】修复 构建列表卡片模式按钮文字错乱")]),t._v(" "),a("li",[t._v("【server】修复 项目列表和逻辑节点卡片视图冲突")]),t._v(" "),a("li",[t._v("【server】修复 docker管理新增docker选择证书界面权重异常 （感谢"),a("a",{attrs:{href:"https://gitee.com/bwy-flc",target:"_blank",rel:"noopener noreferrer"}},[t._v("@伤感的风铃草"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9GYVA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9GYVA"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 系统管理中用户管理中登录日志无法筛选")]),t._v(" "),a("li",[t._v("【server】优化 用户登录记录操作日志（保证操作监控能记录）")]),t._v(" "),a("li",[t._v("【server】修复 系统管理中用户登录日志无法分页")]),t._v(" "),a("li",[t._v("【server】优化 Oauth2 支持配置创建账号配置权限组")]),t._v(" "),a("li",[t._v("【server】修复 文件发布权限为执行权限、文件发布记录删除无记录日志 （感谢@蓝枫）")]),t._v(" "),a("li",[t._v("【server】修复 资产管理 SSH 配置禁用命令无法回显（感谢@zhangw）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-4-2024-04-07"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-4-2024-04-07"}},[t._v("#")]),t._v(" 2.11.4 (2024-04-07)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-6"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 数据库支持 "),a("em",[t._v("postgresql")]),t._v(" （感谢"),a("a",{attrs:{href:"https://gitee.com/whz_gmg1",target:"_blank",rel:"noopener noreferrer"}},[t._v("@王先生"),a("OutboundLink")],1),t._v("）"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/223",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 223"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】新增 数据库支持 "),a("em",[t._v("mariadb")])]),t._v(" "),a("li",[t._v("【server】新增 Oauth2 新增钉钉扫码登录")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-9"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】优化 新增 "),a("code",[t._v("jpom.system.command-use-sudo")]),t._v(" 配置属性控制是否使用 sudo 执行部分系统命令")]),t._v(" "),a("li",[t._v("【server】优化 前端页面 keep-alive 可能导致的内存泄漏问题（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9510M",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9510M"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 部分弹窗不生效问题（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/215",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 215"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 前端 ES lint 配置规范前端代码（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/214",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 214"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/215",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 215"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/217",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 217"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 docker 控制台网络选项卡页面空白（感谢@破冰）")]),t._v(" "),a("li",[t._v("【server】修复 节点历史监控统计图表时间查询不生效（感谢@九問）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 脚本触发器支持传入参数当环境变量（感谢@小朱）")]),t._v(" "),a("li",[t._v("【server】修复 h2迁移其它数据库时部分数据丢失（感谢"),a("a",{attrs:{href:"https://gitee.com/whz_gmg1",target:"_blank",rel:"noopener noreferrer"}},[t._v("@王先生"),a("OutboundLink")],1),t._v("）"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9977K",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9977K"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】优化 逐步引入新版表格（构建、项目、节点、资产机器）（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/218",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 218"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/220",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 220"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/222",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 222"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 工作空间概括构建日志支持快速查看详情（感谢@Roger.cao）")]),t._v(" "),a("li",[t._v("【server】修复 无法查询到分组信息（页面下拉框）（感谢@猫猫向钱跑）")]),t._v(" "),a("li",[t._v("【server】修复 【项目文件管理远程下载】、【镜像创建容器】确认按钮无法使用（感谢@猫猫向钱跑）")]),t._v(" "),a("li",[t._v("【server】修改 资产管理机器管理删除按钮无法正常使用（感谢@🇩）")]),t._v(" "),a("li",[t._v("【server】修复 SSH 面板文件管理无法正常切换（感谢@勤思·）")]),t._v(" "),a("li",[t._v("【server】优化 部分页面在火狐浏览器无法正常打开（感谢"),a("a",{attrs:{href:"https://gitee.com/arvinlovegood_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@sparkarvin"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I96IOA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I96IOA"),a("OutboundLink")],1),t._v(" ）\n（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/221",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 221"),a("OutboundLink")],1),t._v("  ）")]),t._v(" "),a("li",[t._v("【agent】优化 DSL 项目支持配置在特定目录执行脚本（run.execPath）")]),t._v(" "),a("li",[t._v("【agent】优化 管理脚本 -Xss 默认值修改为 512k（感谢@Again... ）")]),t._v(" "),a("li",[t._v("【server】优化 管理脚本 -Xss 默认值修改为 1024k（感谢@Again... ）")]),t._v(" "),a("li",[t._v("【server】优化 声明使用开源软件列表、增加本软件开源协议声明")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-3-2024-03-01"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-3-2024-03-01"}},[t._v("#")]),t._v(" 2.11.3 (2024-03-01)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-10"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】修复 修改项目日志路径如果文件夹不存在报错（感谢@长弘）")]),t._v(" "),a("li",[t._v("【server】修复 节点机器日志无法下载（感谢@Again...）")]),t._v(" "),a("li",[t._v("【agent】升级 oshi 版本")]),t._v(" "),a("li",[t._v("【server】升级 mwiede、apache-sshd 版本（感谢@*斌）")]),t._v(" "),a("li",[t._v("【server】优化 项目列表 file 类型正常排序（不再排序到最后）（感谢"),a("a",{attrs:{href:"https://gitee.com/pal865",target:"_blank",rel:"noopener noreferrer"}},[t._v("@pal865"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8XU32",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8XU32"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【all】修复 windows 环境保存配置并重启失败（感谢"),a("a",{attrs:{href:"https://gitee.com/robot1937",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Robot"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8Y01T",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8Y01T"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 新版本页面部分分页切换失效（构建详情、资产机器、逻辑节点）（感谢@zac）")]),t._v(" "),a("li",[t._v("【server】优化 构建代码未变动流程打断触发器未传入原因（statusMsg）（感谢@烛孩）")]),t._v(" "),a("li",[t._v("【server】修复 项目控制台日志删除弹窗未能正常关闭（感谢@%）")]),t._v(" "),a("li",[t._v("【server】修复 脚本日志时间筛选不生效（感谢"),a("a",{attrs:{href:"https://gitee.com/zhaozxc2010",target:"_blank",rel:"noopener noreferrer"}},[t._v("@zhaozxc2010"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8ZNKL",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8ZNKL"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 页面左侧菜单固定悬浮不跟随屏幕滚动条滚动（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8ZOOB",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8ZOOB"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/201",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 201"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 新增机器节点提示未选择协议（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8ZDZT",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8ZDZT"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/202",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee Pr 202"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 SSH 资产硬盘信息显示错误（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8ZY7K",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8ZY7K"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 表格搜索区域小屏幕适配 （感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8ZY0B",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8ZY0B"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 文件管理树操作优化 （感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9054L",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9054L"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I5DMKG",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I5DMKG"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 整体页面顶部菜单吸顶效果（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I907Y8",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I907Y8"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 资产监控线程池独立管理（感谢"),a("a",{attrs:{href:"https://gitee.com/zengwei_joni",target:"_blank",rel:"noopener noreferrer"}},[t._v("@singlethread"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I918AB",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I918AB"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建回滚使用构建独立线程池")]),t._v(" "),a("li",[t._v("【all】优化 升级 hutool 版本（主要解决版本号排序异常）（感谢 "),a("a",{attrs:{href:"https://gitee.com/meiMingle",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Tom Xin"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8Z3TI",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8Z3TI"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dromara/hutool/issues/I8Z3VE",target:"_blank",rel:"noopener noreferrer"}},[t._v("Hutool issues I8Z3VE"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【all】优化 升级 fastjson 版本")]),t._v(" "),a("li",[t._v("【server】优化 页面整体滚动条兼容高版本浏览器（感谢@Controllers）")]),t._v(" "),a("li",[t._v("【server】优化 升级 docker-java、jgit 版本")]),t._v(" "),a("li",[t._v("【all】优化 升级 commons-compress 版本")]),t._v(" "),a("li",[t._v("【server】优化 新增配置节点 websocket 通讯消息大小限制（jpom.node.web-socket-message-size-limit）（感谢@长弘）")]),t._v(" "),a("li",[t._v("【server】优化 系统文件占用空间统计周期调整为每天2次（感谢"),a("a",{attrs:{href:"https://gitee.com/zengwei_joni",target:"_blank",rel:"noopener noreferrer"}},[t._v("@singlethread"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I9302U",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I9302U"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 支持配置前端所有参数编码来规避部分安全规则检查（感谢"),a("a",{attrs:{href:"https://gitee.com/zhaozxc2010",target:"_blank",rel:"noopener noreferrer"}},[t._v("@zhaozxc2010"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8Z1VJ",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8Z1VJ"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 上传文件空文件提示文件路径（感谢"),a("a",{attrs:{href:"https://gitee.com/skBate",target:"_blank",rel:"noopener noreferrer"}},[t._v("@SchuckBate"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I93FI6",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I93FI6"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 监听日志文件消息发送失败后自动移除会话（感谢"),a("a",{attrs:{href:"https://gitee.com/zengwei_joni",target:"_blank",rel:"noopener noreferrer"}},[t._v("@singlethread"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I93ZFX",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I93ZFX"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 容器构建产物为文件时保存路径层级错误（感谢"),a("a",{attrs:{href:"https://github.com/vfhky",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vfhky"),a("OutboundLink")],1),t._v("）"),a("a",{attrs:{href:"https://github.com/dromara/Jpom/pull/71",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github Pr 71"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 个性配置区内容主题支持“跟随系统”（感谢"),a("a",{attrs:{href:"https://gitee.com/a20070322",target:"_blank",rel:"noopener noreferrer"}},[t._v("@a20070322"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I94SPA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I94SPA"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-2-2024-03-01"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-2-2024-03-01"}},[t._v("#")]),t._v(" 2.11.2 (2024-03-01)")]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意-2"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("p",[t._v("此版本是一个空版本，为了更好地兼容后续 beta 和 release 版本发布特意创建的空版本")]),t._v(" "),a("p",[t._v("2.11.2 版本等同于 2.11.3 版本")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-1-2024-01-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-1-2024-01-18"}},[t._v("#")]),t._v(" 2.11.1 (2024-01-18)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-7"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 触发器调用次数统计、触发器统一管理")]),t._v(" "),a("li",[t._v("【server】新增 本地构建命令执行支持配置多线程方式（多线程接收输出流，避免极端情况卡死）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-11"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 docker TLS 证书无法查看全部、证书无法编辑（新版遗漏）")]),t._v(" "),a("li",[t._v("【server】优化 docker 资产监控支持自定义配置 cron "),a("code",[t._v("jpom.assets.docker.monitor-cron")])]),t._v(" "),a("li",[t._v("【server】修复 容器终端、容器日志无法正常使用")]),t._v(" "),a("li",[t._v("【server】修复 新版本页面多处无法正常使用相关问题（优化部分提示说明）")]),t._v(" "),a("li",[t._v("【server】修复 静态文件名太短（100个字符）（感谢@*斌）")]),t._v(" "),a("li",[t._v("【server】修复 还原数据库弹窗内容提示为空（感谢@伤感的风铃草🌿）")]),t._v(" "),a("li",[t._v("【server】优化 echarts 支持跟随深色模式")]),t._v(" "),a("li",[t._v("【server】修复 编辑节点分发服务端脚本弹窗被挡住（感谢@🇩）")]),t._v(" "),a("li",[t._v("【server】优化 前端打包（缩减首屏加载时间）（感谢@曾梦想仗剑走天涯）")]),t._v(" "),a("li",[t._v("【all】优化 机器状态新增：资源监控异常（资源监控异常不影响功能使用）")]),t._v(" "),a("li",[t._v("【server】优化 取消登录页动态背景图")]),t._v(" "),a("li",[t._v("【server】修复 节点分发文件中心、静态文件后文件自动被删除（感谢@九問）")]),t._v(" "),a("li",[t._v("【server】优化 容器构建支持配置容器资源（HostConfig）（感谢@珂儿）")]),t._v(" "),a("li",[t._v("【agent】修复 插件端非默认工作空间项目重启后变为孤独数据（感谢@ccx2480）")]),t._v(" "),a("li",[t._v("【server】修复 新增节点分发项目数据为孤独数据")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-11-0-2024-01-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-0-2024-01-12"}},[t._v("#")]),t._v(" 2.11.0 (2024-01-12)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-8"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】新增 "),a("strong",[t._v("项目支持软链其他项目（代替项目副本）")])]),t._v(" "),a("li",[t._v("【server】新增 "),a("strong",[t._v("工作空间管理中新增概括总览页面、资产总览统计")])]),t._v(" "),a("li",[t._v("【server】升级 "),a("strong",[t._v("页面 UI 组件、VUE 版本升级到最新（支持配置浅色、深色主题、左边菜单主题）")])]),t._v(" "),a("li",[t._v("【all】新增 "),a("strong",[t._v("孤独数据管理（查看孤独数据、修正孤独数据）")]),t._v("（感谢"),a("a",{attrs:{href:"https://gitee.com/chenxu8989",target:"_blank",rel:"noopener noreferrer"}},[t._v("@陈旭"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8UNXZ",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8UNXZ"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】新增 节点分发可以指定构建历史产物发布")]),t._v(" "),a("li",[t._v("【server】新增 节点分发可以指定文件中心发布")]),t._v(" "),a("li",[t._v("【server】新增 DSL 项目新增 reload 事件（可以开启文件变动触发）")]),t._v(" "),a("li",[t._v("【server】新增 静态文件授权服务端指定目录到工作空间来管理（分发）(感谢@*斌)")]),t._v(" "),a("li",[t._v("【server】新增 节点分发可以指定静态文件发布")]),t._v(" "),a("li",[t._v("【server】修复 没有工作空间权限时页面循环跳转（感谢"),a("a",{attrs:{href:"https://gitee.com/whz_gmg1",target:"_blank",rel:"noopener noreferrer"}},[t._v("@王先生"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8RR01",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8RR01"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【all】优化 授权目录判断逻辑")]),t._v(" "),a("li",[t._v("【agent】取消 插件端授权目录关闭包含判断("),a("code",[t._v("jpom.whitelist.check-starts-with")]),t._v(")")]),t._v(" "),a("li",[t._v("【server】优化 触发器清理优化、删除用户主动删除关联触发器")]),t._v(" "),a("li",[t._v("【server】优化 DSL 项目控制台支持快捷编辑节点脚本（查看流程信息）")]),t._v(" "),a("li",[t._v("【server】修复 项目触发器无法调用")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-12"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】下架 "),a("strong",[t._v("全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）")])]),t._v(" "),a("li",[t._v("【all】下架 "),a("strong",[t._v("全面节点证书管理功能（请使用工作空间证书代替）")])]),t._v(" "),a("li",[t._v("【all】下架 "),a("strong",[t._v("全面架节点 NGINX 管理功能（请使用 DSL 模式代替）")])]),t._v(" "),a("li",[t._v("【server】优化 "),a("strong",[t._v("构建编辑页面交互、编辑器样式、DSL 配置样式")])]),t._v(" "),a("li",[t._v("【server】优化 "),a("strong",[t._v("节点管理仅保留项目管理、脚本管理、脚本日志（其他功能迁移到机器资产管理）")])]),t._v(" "),a("li",[t._v("【all】优化 查看插件端和服务端的系统日志 websocket 地址")]),t._v(" "),a("li",[t._v("【server】优化 监控机器系统负载保留2位小数")]),t._v(" "),a("li",[t._v("【server】下架 取消节点管理员权限")]),t._v(" "),a("li",[t._v("【server】修复 文件变动触发器不生效的问题")]),t._v(" "),a("li",[t._v("【all】优化 项目操作接口合并（4 合 1）")]),t._v(" "),a("li",[t._v("【server】优化 配置授权目录需要使用到绝对路径")]),t._v(" "),a("li",[t._v("【server】优化 重新同步节点项目、节点脚本缓存交互")]),t._v(" "),a("li",[t._v("【server】优化 SSH 脚本执行模板独立（"),a("code",[t._v("/exec/template.sh")]),t._v(" -> "),a("code",[t._v("/ssh/template.sh")]),t._v("）")]),t._v(" "),a("li",[t._v("【server】优化 服务端脚本支持加载脚本模板来实现自动加载部分环境变量")]),t._v(" "),a("li",[t._v("【all】优化 关闭 Process 方式")]),t._v(" "),a("li",[t._v("【server】优化 支持批量删除构建信息（感谢@奇奇）")]),t._v(" "),a("li",[t._v("【server】修复 删除项目、删除分发检查关联构建失败问题")]),t._v(" "),a("li",[t._v("【all】优化 日志记录器提升日志记录性能")]),t._v(" "),a("li",[t._v("【server】优化 取消/停止构建采用异常来打断子进程")]),t._v(" "),a("li",[t._v("【server】修复 本地构建无法取消")]),t._v(" "),a("li",[t._v("【server】修复 服务端脚本触发器、节点脚本触发器提示找不到用户（感谢@LYY）")]),t._v(" "),a("li",[t._v("【server】修复 部分低频功能无法正常使用（项目备份文件管理等）")]),t._v(" "),a("li",[t._v("【server】修复 部分执行异常未输出到操作日志文件中（感谢@闫淼淼）")]),t._v(" "),a("li",[t._v("【server】优化 系统Git拉取代码时，强制云端最新代码覆盖本地代码")]),t._v(" "),a("li",[t._v("【agent】优化 插件端 java 项目启动支持读取环境变量")]),t._v(" "),a("li",[t._v("【agent】修复 插件端环境变量值获取异常")]),t._v(" "),a("li",[t._v("【server】优化 本地 git 联动严格执行开关")]),t._v(" "),a("li",[t._v("【server】修复 登录账户未跳转配置的第一个工作空间（未遵循自定义配置）")]),t._v(" "),a("li",[t._v("【server】修复 部分操作构建环境变量丢失（保存并构建、后台构建、直接构建）")]),t._v(" "),a("li",[t._v("【agent】优化 插件端自由脚本（分发文件脚本）大小限制调整为 5M（感谢@九問）")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意-3"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("ol",[a("li",[t._v("全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）如果您当前使用到此功能请先手动备份相关数据")]),t._v(" "),a("li",[t._v("升级后项目副本数据会被人工或者系统更新项目数据自动删除（请一定提前做好备份操作）")]),t._v(" "),a("li",[t._v("全面下架节点证书管理功能（请使用工作空间证书代替）如果您当前使用到此功能请先手动备份相关数据")]),t._v(" "),a("li",[t._v("全面下架全下架节点 NGINX 管理功能（请使用 DSL 模式代替）如果您当前使用到此功能请先手动备份相关数据")])]),t._v(" "),a("blockquote",[a("p",[t._v("❓ 为什么要下架上述功能：由于版本迭代已经有更好的新功能可以代替之前旧功能，并且新功能从另一种角度更方便。下架也是为了我们后续版本维护迭代更高效")])]),t._v(" "),a("hr"),t._v(" "),a("ol",[a("li",[t._v("如果您配置了授权目录但是保存项目报错您可以尝试重新报错一下授权目录来自动修复授权目录配置数据")]),t._v(" "),a("li",[t._v("项目控制台日志默认路径调整为插件端数据目录下"),a("code",[t._v("project-log/${projectId}/${projectId}.log")])]),t._v(" "),a("li",[t._v("项目控制台日志备份默认路径调整为插件端数据目录下"),a("code",[t._v("project-log/${projectId}/back/${projectId}-xxxxxxx.log")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("如果您自定义过 SSH 脚本默认那么您需要重新同步一下脚本模板"),a("code",[t._v("/exec/template.sh")]),t._v(" -> "),a("code",[t._v("/ssh/template.sh")])]),t._v(" "),a("p",[t._v("新版本 "),a("code",[t._v("/exec/template.sh")]),t._v(" 中仅在服务端中生效（本地构建脚本、服务端脚本、本地发布脚本）")]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("【白名单】关键词统一调整为【授权】")]),t._v(" "),a("li",[t._v("【黑名单】关键词统一调整为【禁止】")]),t._v(" "),a("li",[t._v("部分【添加】关键词统一调整为【新增】")])]),t._v(" "),a("h3",{attrs:{id:"🤝致谢-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🤝致谢-2"}},[t._v("#")]),t._v(" 🤝致谢")]),t._v(" "),a("p",[t._v("感谢所有参与 2.11.0 beta 版本（2.11.0.0 ~ 2.11.0.13）内测的用户。")]),t._v(" "),a("hr")])}),[],!1,null,null,null);a.default=r.exports},563:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2-10-47-7-beta-2023-12-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-7-beta-2023-12-25"}},[t._v("#")]),t._v(" 2.10.47.7-beta (2023-12-25)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 资产管理 SSH 支持配置禁用监控（避免频繁登录）"),a("code",[t._v("jpom.assets.ssh.disable-monitor-group-name")]),t._v("（感谢@Again...）")]),t._v(" "),a("li",[t._v("【server】新增 资产管理 SSH 支持配置监控周期："),a("code",[t._v("jpom.assets.ssh.monitor-cron")])])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 导入 SSH、项目 CSV 数据自动识别编码格式")]),t._v(" "),a("li",[t._v("【server】优化 执行 SSH 脚本获取流异常：getInputStream() should be called before connect()")]),t._v(" "),a("li",[t._v("【server】升级 mwiede 依赖版本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-6-beta-2023-12-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-6-beta-2023-12-25"}},[t._v("#")]),t._v(" 2.10.47.6-beta (2023-12-25)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 系统日志页面空白")]),t._v(" "),a("li",[t._v("【server】优化 资产机器卡片试图部分场景未对齐问题")]),t._v(" "),a("li",[t._v("【server】优化 部分页面在小屏兼容（资产 Docker、节点分发）")]),t._v(" "),a("li",[t._v("【server】优化 节点脚本支持解绑（避免无非使用的服务器无非删除脚本）")]),t._v(" "),a("li",[t._v("【server】优化 白名单配置提示 nginx、证书功能将下线")]),t._v(" "),a("li",[t._v("【all】移除 插件端配置远程下载 host 输入框")]),t._v(" "),a("li",[t._v("【server】修复 项目、脚本、发布任务、日志阅读控制台无法正常使用问题（感谢@奇奇）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-5-beta-2023-12-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-5-beta-2023-12-22"}},[t._v("#")]),t._v(" 2.10.47.5-beta (2023-12-22)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 迁移项目关联构建关联的全局仓库无法完整迁移问题（感谢@奇奇）")]),t._v(" "),a("li",[t._v("【server】优化 仓库支持查看关联的构建")]),t._v(" "),a("li",[t._v("【server】修复 删除服务端脚本日志如果脚本不存在不能删除")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-4-beta-2023-12-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-4-beta-2023-12-22"}},[t._v("#")]),t._v(" 2.10.47.4-beta (2023-12-22)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-4"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】升级 web axios 版本")]),t._v(" "),a("li",[t._v("【server】修复 迁移项目判断条件不充足（同一个工作空间不迁移仓库和构建）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-3-beta-2023-12-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-3-beta-2023-12-22"}},[t._v("#")]),t._v(" 2.10.47.3-beta (2023-12-22)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】新增 部分项目支持迁移工作空间和逻辑节点（感谢@奇奇）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-5"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 逻辑节点节目取消全局 loading（感谢@小菜鸡）")]),t._v(" "),a("li",[t._v("【server】优化 新增个性化配置全屏打开日志弹窗（构建、SSH、脚本、Docker等日志）（感谢@张飞鸿）")]),t._v(" "),a("li",[t._v("【server】修复 项目副本无法保存（修改中不能删除副本集、请到副本集中删除）")]),t._v(" "),a("li",[t._v("【server】优化 服务端中可以支持创建编辑项目、创建节点脚本啦！！！")]),t._v(" "),a("li",[t._v("【server】优化 项目列表支持删除项目、自动刷新项目")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-2-beta-2023-12-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-2-beta-2023-12-21"}},[t._v("#")]),t._v(" 2.10.47.2-beta (2023-12-21)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 容器日志、集群任务日志支持下载（感谢@在时间里流浪）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-6"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】删除 项目副本中弃用兼容字段 "),a("code",[t._v("parendId")])]),t._v(" "),a("li",[t._v("【server】优化 Docker 集群任务日志支持筛选行数、是否显示时间戳（感谢@在时间里流浪）")]),t._v(" "),a("li",[t._v("【server】优化 修复容器构建中 cache 插件异常、默认插件无法正常使用问题（感谢@张飞鸿）")]),t._v(" "),a("li",[t._v("【server】优化 项目控制台日志输出 N 人查看改为 N 个会话（@冬）")]),t._v(" "),a("li",[t._v("【server】优化 添加超级管理员账号提醒勿使用常用账号")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-47-1-beta-2023-12-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-47-1-beta-2023-12-19"}},[t._v("#")]),t._v(" 2.10.47.1-beta (2023-12-19)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-4"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 容器构建支持自定义插件（感谢"),a("a",{attrs:{href:"https://gitee.com/WaHaHaqqww",target:"_blank",rel:"noopener noreferrer"}},[t._v("@远方"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I8PEWI",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I8PEWI"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】新增 容器管理新增导出、导入镜像")]),t._v(" "),a("li",[t._v("【server】新增 环境变量支持触发器获取、修改")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-7"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】升级 数据库 h2 版本")]),t._v(" "),a("li",[t._v("【server】修复 构建事件脚本未修改执行状态和退出码问题")]),t._v(" "),a("li",[t._v("【server】优化 构建事件脚本支持多选（顺序执行其中有一个中断将结束执行后续脚本）（感谢@loyal）")]),t._v(" "),a("li",[t._v("【server】优化 服务端脚本触发类型新增构建事件")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("p",[t._v("新增容器构建自定义插件说明：")]),t._v(" "),a("ol",[a("li",[t._v("到 【系统管理】->【配置管理】->【系统配置目录】 中找到 "),a("code",[t._v("docker/uses")]),t._v(" 目录")]),t._v(" "),a("li",[t._v("添加插件配置文件 "),a("code",[t._v("/docker/uses/java8/install.sh")]),t._v(" 其中 "),a("code",[t._v("java8")]),t._v(" 为新增的插件名")]),t._v(" "),a("li",[t._v("注意脚本中需要自行控制插件相关依赖的文件，需要将最新的文件保持到 "),a("code",[t._v("/opt/${name}/")]),t._v(" 目录下，其中 ${name} 为插件名")]),t._v(" "),a("li",[t._v("辅助说明1：插件支持自定义环境变量")]),t._v(" "),a("li",[t._v("辅助说明2：自定义环境变量中需要引用插件目录请使用 "),a("code",[t._v("${JPOM_PLUGIN_PATH}")])]),t._v(" "),a("li",[t._v("系统默认集成了："),a("code",[t._v("java")]),t._v("、"),a("code",[t._v("maven")]),t._v("、"),a("code",[t._v("node")]),t._v("、"),a("code",[t._v("go")]),t._v("、"),a("code",[t._v("python3")]),t._v("、"),a("code",[t._v("gradle")]),t._v(" 默认插件有依赖版本检查如果您的网络不通建议自行创建插件来规避默认检查")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-46-2-beta-2023-12-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-46-2-beta-2023-12-15"}},[t._v("#")]),t._v(" 2.10.46.2-beta (2023-12-15)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-8"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】优化 ConcurrentHashMap 修改为线程安全的 hutoll[SafeConcurrentHashMap]（感谢@在时间里流浪）")]),t._v(" "),a("li",[t._v("【all】升级 mwiede.jsch、oshi、fastjson、hutool、spring-boot、docker-java")]),t._v(" "),a("li",[t._v("【server】优化 SSH 脚本在部分场景阻塞卡死（ChannelType.EXEC 不添加超时时间）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 脚本执行输出退出码")]),t._v(" "),a("li",[t._v("【server】优化 解决构建流程,环境变量env里出现value==null出现null报错\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/NineAsk",target:"_blank",rel:"noopener noreferrer"}},[t._v("@周冰"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/197",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 197"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 脚本执行记录退出码")]),t._v(" "),a("li",[t._v("【server】优化 服务端脚本执行记录新增执行状态和退出码")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-46-1-beta-2023-10-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-46-1-beta-2023-10-20"}},[t._v("#")]),t._v(" 2.10.46.1-beta (2023-10-20)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-9"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 容器构建下载产物未关闭文件流占用句柄问题（感谢@在时间里流浪）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-45-3-beta-2023-10-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-45-3-beta-2023-10-17"}},[t._v("#")]),t._v(" 2.10.45.3-beta (2023-10-17)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-10"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 构建产物同步到文件中心支持独立配置保留天数（感谢"),a("a",{attrs:{href:"https://gitee.com/zhangxin1229",target:"_blank",rel:"noopener noreferrer"}},[t._v("@zhangxin2477"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I82G2F",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I82G2F"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】优化 不能删除超级管理员账号")]),t._v(" "),a("li",[t._v("【agent】修复 Agent.sh 脚本的缺少方法问题（感谢"),a("a",{attrs:{href:"https://github.com/yusiwen",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Siwen Yu"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/64",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 64"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】优化 系统管理查看操作日志显示全部工作空间")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-45-2-beta-2023-09-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-45-2-beta-2023-09-18"}},[t._v("#")]),t._v(" 2.10.45.2-beta (2023-09-18)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-11"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 容器构建判断构建异常（严格模式异常中断构建）（感谢@在时间里流浪）")]),t._v(" "),a("li",[t._v("【server】修复 构建流程中断触发 success 事件（感谢@在时间里流浪）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 独立管理面板支持快捷使用文件管理")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-45-1-beta-2023-09-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-45-1-beta-2023-09-15"}},[t._v("#")]),t._v(" 2.10.45.1-beta (2023-09-15)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-5"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 SSH 新增独立管理面板（感谢"),a("a",{attrs:{href:"https://gitee.com/chao_a",target:"_blank",rel:"noopener noreferrer"}},[t._v("@超人那个超i"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7UFEX",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7UFEX"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【agent】新增 DSL 项目支持配置脚本环境变量（感谢"),a("a",{attrs:{href:"https://gitee.com/chenxu8989",target:"_blank",rel:"noopener noreferrer"}},[t._v("@陈旭"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I80PTK",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I80PTK"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-12"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 构建详情页面支持快捷回滚、查看构建日志（感谢"),a("a",{attrs:{href:"https://gitee.com/taochach",target:"_blank",rel:"noopener noreferrer"}},[t._v("@縁來只爲伱"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7YSNH",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7YSNH"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【all】升级 hutool、commons-compress")]),t._v(" "),a("li",[t._v("【agent】修复 重启项目偶发 NPE（监听日志关闭事件）（感谢"),a("a",{attrs:{href:"https://gitee.com/caiqiaoyu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@caiqy"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7Z2U6",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7Z2U6"),a("OutboundLink")],1),t._v("）")]),t._v(" "),a("li",[t._v("【server】优化 构建支持配置环境变量实现产物打包为 "),a("code",[t._v("tar.gz")]),t._v(" ("),a("strong",[t._v("USE_TAR_GZ=1")]),t._v(")")]),t._v(" "),a("li",[t._v("【server】修复 文件管理偶发无法查看发片下载地址")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-44-4-beta-2023-09-02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-44-4-beta-2023-09-02"}},[t._v("#")]),t._v(" 2.10.44.4-beta (2023-09-02)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-13"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 资产管理共享仓库新建归属到工作空间问题（感谢@沈钊）")]),t._v(" "),a("li",[t._v("【server】升级 springboot 、oshi、docker-java、jgit")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-44-3-beta-2023-08-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-44-3-beta-2023-08-31"}},[t._v("#")]),t._v(" 2.10.44.3-beta (2023-08-31)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-14"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】升级 mwiede.jsch 版本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-44-2-beta-2023-08-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-44-2-beta-2023-08-30"}},[t._v("#")]),t._v(" 2.10.44.2-beta (2023-08-30)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-15"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 构建回滚创建新的构建记录（感谢"),a("a",{attrs:{href:"https://gitee.com/autools",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Smith"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7VEJA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7VEJA"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-44-1-beta-2023-08-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-44-1-beta-2023-08-29"}},[t._v("#")]),t._v(" 2.10.44.1-beta (2023-08-29)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-6"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 支持 git submodules\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/Croce",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Croce"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/195",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 195"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-16"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 新增资产无法正常监控问题（感谢@乔、@MichelleChung、@Pluto）")]),t._v(" "),a("li",[t._v("【server】优化 编辑集群地址不验证，调整到心跳检测验证（感谢@黄纲）")]),t._v(" "),a("li",[t._v("【server】优化 构建新增环境变量：BUILD_ORIGINAL_RESULT_DIR_FILE、BUILD_RESULT_DIR_FILE（发布流程）(感谢@黄纲)")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-6-beta-2023-08-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-6-beta-2023-08-23"}},[t._v("#")]),t._v(" 2.10.42.6-beta (2023-08-23)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-17"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 未配置集群地址时无法切换工作空间（感谢@ccx2480）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-5-beta-2023-08-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-5-beta-2023-08-23"}},[t._v("#")]),t._v(" 2.10.42.5-beta (2023-08-23)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-7"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 集群化管理工作空间（感谢@定格、"),a("a",{attrs:{href:"https://gitee.com/iniushi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@paobu"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7UG5V",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7UG5V"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-18"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 资产管理 SSH 管理系统名称显示未知问题（感谢@勤思·）")]),t._v(" "),a("li",[t._v("【server】优化 资产管理 Docker 管理支持配置分组")]),t._v(" "),a("li",[t._v("【server】优化 仓库管理支持配置分组")]),t._v(" "),a("li",[t._v("【server】优化 SSH 文件夹支持前端排序（感谢@勤思·）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-4-beta-2023-08-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-4-beta-2023-08-19"}},[t._v("#")]),t._v(" 2.10.42.4-beta (2023-08-19)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-8"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 ssh 相关功能支持 openssh8+\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/gclm",target:"_blank",rel:"noopener noreferrer"}},[t._v("@孤城落寞"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/193",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 193"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-19"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 仓库账号、 SSH 证书密码支持选择环境变量")]),t._v(" "),a("li",[t._v("【all】升级 commons-compress、fastjson、hutool 版本")]),t._v(" "),a("li",[t._v("【server】优化 maven 依赖冲突")]),t._v(" "),a("li",[t._v("【server】优化 文件发布-节点发布文件名使用真实名称（感谢@勤思·）")]),t._v(" "),a("li",[t._v("【server】优化 文件发布-ssh发布新增变量：FILE_NAME、FILE_EXT_NAME")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-3-beta-2023-08-04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-3-beta-2023-08-04"}},[t._v("#")]),t._v(" 2.10.42.3-beta (2023-08-04)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-9"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 SSH 文件管理修改文件权限功能（感谢 "),a("a",{attrs:{href:"https://gitee.com/michelle1028",target:"_blank",rel:"noopener noreferrer"}},[t._v("@MichelleChung"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I6VDXS",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I6VDXS"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-20"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】升级 h2、SpringBoot 版本")]),t._v(" "),a("li",[t._v("【server】使用系统git时，无法克隆tag问题优化 （感谢@唐明）")]),t._v(" "),a("li",[t._v("【server】优化 SSH 和 代码仓库的密码从工作空间变量中读取")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-2-beta-2023-07-04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-2-beta-2023-07-04"}},[t._v("#")]),t._v(" 2.10.42.2-beta (2023-07-04)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-10"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 Docker 容器重建功能，即删除原有的容器，重新创建一个新的容器")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-21"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 删除工作空间前预检查关联数据存在情况（感谢 "),a("a",{attrs:{href:"https://gitee.com/chenxu8989",target:"_blank",rel:"noopener noreferrer"}},[t._v("@陈旭"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7F0ZN",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7F0ZN"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 退出登录支持彻底退出、切换账号退出（感谢 "),a("a",{attrs:{href:"https://gitee.com/wangfubiao",target:"_blank",rel:"noopener noreferrer"}},[t._v("@wangfubiao"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7GA5Q",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7GA5Q"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 IP 白名单验证忽略 IPV6 情况")]),t._v(" "),a("li",[t._v("【server】优化 服务端缓存管理支持查看黑名单 IP 详细信息（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-42-1-beta-2023-06-26"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-42-1-beta-2023-06-26"}},[t._v("#")]),t._v(" 2.10.42.1-beta (2023-06-26)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-11"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 Docker 管理增加 SSH 连接")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-22"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 SSH 编辑输入框出现部分关键词时保持报错（感谢 "),a("a",{attrs:{href:"https://gitee.com/hjdyzy",target:"_blank",rel:"noopener noreferrer"}},[t._v("@一只羊"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7E3UG",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7E3UG"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 日志组件支持显示 \\t 制表符、清空缓冲区滚动到顶部")]),t._v(" "),a("li",[t._v("【server】修复 彻底删除节点分发时未自动删除关联日志（感谢@ccx2480）")]),t._v(" "),a("li",[t._v("【server】修复 节点管理中脚本模板翻页无效（感谢 "),a("a",{attrs:{href:"https://gitee.com/wangfubiao",target:"_blank",rel:"noopener noreferrer"}},[t._v("@wangfubiao"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7F0RS",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7F0RS"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 工作空间配置页面中新增节点分发白名单配置入口（感谢 "),a("a",{attrs:{href:"https://gitee.com/chenxu8989",target:"_blank",rel:"noopener noreferrer"}},[t._v("@陈旭"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7F0W0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7F0W0"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建附加环境变量支持解析 URL 参数格式\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/qiqi513_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@爱琳琳真是太好了"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7FROG",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7FROG"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】优化 构建支持单个配置保留天数和保留个数\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/VampireAchao",target:"_blank",rel:"noopener noreferrer"}},[t._v("@阿超"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I7FOG2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I7FOG2"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-41-3-beta-2023-06-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-41-3-beta-2023-06-12"}},[t._v("#")]),t._v(" 2.10.41.3-beta (2023-06-12)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-12"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 SSH 列表支持显示 docker 版本信息")]),t._v(" "),a("li",[t._v("【server】优化 Docker 镜像增加批量删除（已经被容器使用的镜像不会删除）")]),t._v(" "),a("li",[t._v("【server】优化 启用 Jpom 新版专属 logo")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-23"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 查看 docker 容器日志 web socket 线程被阻塞问题")]),t._v(" "),a("li",[t._v("【server】优化 日志组件显示高亮、滚动条样式优化")]),t._v(" "),a("li",[t._v("【server】优化 web socket 会话关闭显示分类")]),t._v(" "),a("li",[t._v("【server】优化 页面滚动条样式")]),t._v(" "),a("li",[t._v("【server】优化 编辑关联分发，选择项目下拉框不能显示项目全名称（tooltip）（感谢@LYY）")]),t._v(" "),a("li",[t._v("【server】优化 监听页面关闭事件，主动关闭 websocket")]),t._v(" "),a("li",[t._v("【server】修复 批量构建触发器无法正常使用（感谢 "),a("a",{attrs:{href:"https://github.com/cheakin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@botboy"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/48",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 48"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意-2"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("ol",[a("li",[t._v("如果自定义过 SSH 监控脚本需要自行同步获取 docker 信息脚本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-41-2-beta-2023-06-09"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-41-2-beta-2023-06-09"}},[t._v("#")]),t._v(" 2.10.41.2-beta (2023-06-09)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-13"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 工作空间新增分组字段（存在多个分组时页面切换将使用二级选择）（感谢@酱总）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-24"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-24"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 页面关闭 docker 终端未主动关闭后台终端进程问题")]),t._v(" "),a("li",[t._v("【server】优化 docker 终端页面缓冲区大小自动适应")]),t._v(" "),a("li",[t._v("【server】优化 项目列表可以查看项目日志（避免控制台卡顿无法操作下载日志）(感谢@阿超)")]),t._v(" "),a("li",[t._v("【server】优化 日志组件采用虚拟滚动渲染，避免日志过多浏览器卡死")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-41-1-beta-2023-05-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-41-1-beta-2023-05-15"}},[t._v("#")]),t._v(" 2.10.41.1-beta (2023-05-15)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-14"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 仓库支持导入导出")]),t._v(" "),a("li",[t._v("【server】新增 镜像创建容器支持配置 hostname、集群服务支持配置 hostname（感谢@心光）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-25"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-25"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 资产管理支持管理共享仓库")]),t._v(" "),a("li",[t._v("【server】优化 增大验证码检测功能异常捕捉范围")]),t._v(" "),a("li",[t._v("【server】修复 令牌导入仓库令牌长度不足问题（感谢 "),a("a",{attrs:{href:"https://github.com/yeliulee",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Sherman Chu"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/45",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github issues 45"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 分发列表配置功能无法使用（感谢 "),a("a",{attrs:{href:"https://gitee.com/fjlyy321",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Free"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I716UI",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I716UI"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 构建卡片布局、构建详情中构建方式显示不正确（感谢@A）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-8-beta-2023-04-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-8-beta-2023-04-19"}},[t._v("#")]),t._v(" 2.10.40.8-beta (2023-04-19)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-26"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-26"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 仓库编辑清除密码按钮弹窗层级问题（感谢 "),a("a",{attrs:{href:"https://gitee.com/xuanyuandoudou",target:"_blank",rel:"noopener noreferrer"}},[t._v("@轩辕豆豆"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I6VSCR",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I6VSCR"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 优化构建列表卡片布局存在未构建数据布局错乱问题（感谢 "),a("a",{attrs:{href:"https://gitee.com/lin_yeqi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@lin_yeqi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I6VUB7",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I6VUB7"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-6-beta-2023-04-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-6-beta-2023-04-14"}},[t._v("#")]),t._v(" 2.10.40.6-beta (2023-04-14)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-15"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 容器构建中对 gradle 插件的支持（感谢 "),a("a",{attrs:{href:"https://gitee.com/XiaoZhiGongChengShi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@xiaozhi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/188",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 188"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-27"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 构建 SSH 发布命令支持 "),a("code",[t._v("SSH_RELEASE_PATH")]),t._v(" 环境变量（感谢@定格）")]),t._v(" "),a("li",[t._v("【server】修复 全屏终端无法打开文件管理（感谢@Pluto）")]),t._v(" "),a("li",[t._v("【server】优化 自动探测服务端登录验证码是否可用")]),t._v(" "),a("li",[t._v("【all】优化 文件编辑后缀识别支持配置文件名或者正则表达式（感谢@MichelleChung）")]),t._v(" "),a("li",[t._v("【server】优化 支持自动执行触发器清理")]),t._v(" "),a("li",[t._v("【server】优化 重新登录未加载管理员菜单（@A）")]),t._v(" "),a("li",[t._v("【server】修复 第三方登录跳转测试丢失")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-5-beta-2023-04-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-5-beta-2023-04-12"}},[t._v("#")]),t._v(" 2.10.40.5-beta (2023-04-12)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-28"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-28"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 清空浏览器缓存未跳转到登录页面")]),t._v(" "),a("li",[t._v("【server】优化 构建拉取 git 仓库支持使用服务器中的 git 插件，实现配置克隆深度参数")]),t._v(" "),a("li",[t._v("【server】修复 删除节点脚本报错（感谢 "),a("a",{attrs:{href:"https://gitee.com/XiaoZhiGongChengShi",target:"_blank",rel:"noopener noreferrer"}},[t._v("@xiaozhi"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I6USMY",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I6USMY"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-4-beta-2023-04-07"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-4-beta-2023-04-07"}},[t._v("#")]),t._v(" 2.10.40.4-beta (2023-04-07)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-29"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】修复 获取项目状态部分情况出现 NPE （感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-3-beta-2023-04-06"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-3-beta-2023-04-06"}},[t._v("#")]),t._v(" 2.10.40.3-beta (2023-04-06)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-30"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 编辑构建无法重置已经选择的事件脚本 （感谢@左手生活，右手浪漫）")]),t._v(" "),a("li",[t._v("【server】优化 登录页面切换验证码自动清空验证码输入框（感谢@TrouBles）")]),t._v(" "),a("li",[t._v("【server】修复 docker 集群日志查看后未自动关闭造成日志文件继续增长的问题（@无味。）")]),t._v(" "),a("li",[t._v("【server】优化 服务端缓存项目信息的创建时间和修改时间同步为节点中的数据创建、修改时间")]),t._v(" "),a("li",[t._v("【server】优化 文件管理支持批量删除（感谢@左手生活，右手浪漫）")]),t._v(" "),a("li",[t._v("【agent】优化 取消 agent hutool-cache 包依赖")]),t._v(" "),a("li",[t._v("【server】优化 JustAuth fastjson 依赖配置为 fastjson2")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-2-beta-2023-04-04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-2-beta-2023-04-04"}},[t._v("#")]),t._v(" 2.10.40.2-beta (2023-04-04)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-31"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 项目文件跟踪控制台无法正常使用（感谢@左手生活，右手浪漫）")]),t._v(" "),a("li",[t._v("【server】修复 插件端日志无法正常差异")]),t._v(" "),a("li",[t._v("【server】修复 docker 拉取镜像不能识别私有仓库地址（@章强）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-40-1-beta-2023-04-04"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-40-1-beta-2023-04-04"}},[t._v("#")]),t._v(" 2.10.40.1-beta (2023-04-04)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-32"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-32"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 日志搜索控制台无法正常使用（感谢@左手生活，右手浪漫）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-39-4-beta-2023-04-03"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-39-4-beta-2023-04-03"}},[t._v("#")]),t._v(" 2.10.39.4-beta (2023-04-03)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-33"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-33"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 查看文件发布详情节点名称未显示")]),t._v(" "),a("li",[t._v("【server】优化 发布记录重建不能选中节点")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-39-3-beta-2023-04-03"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-39-3-beta-2023-04-03"}},[t._v("#")]),t._v(" 2.10.39.3-beta (2023-04-03)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-34"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-34"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 资产管理机器管理单个分配工作空间无法正常使用（感谢@咻咻咻秀啊）")]),t._v(" "),a("li",[t._v("【server】修复 资产管理相关权限、操作日志无法记录问题（感谢@咻咻咻秀啊）")]),t._v(" "),a("li",[t._v("【server】修复 docker 控制台 、日志无法正常使用")]),t._v(" "),a("li",[t._v("【server】优化 docker 控制台页面布局优化，支持单独查看 docker-compose")]),t._v(" "),a("li",[t._v("【server】优化 docker 实时查看日志支持配置是否显示时间戳")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-39-2-beta-2023-03-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-39-2-beta-2023-03-31"}},[t._v("#")]),t._v(" 2.10.39.2-beta (2023-03-31)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-35"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-35"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 构建同步到文件管理中心失败（感谢@破冰）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-39-1-beta-2023-03-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-39-1-beta-2023-03-31"}},[t._v("#")]),t._v(" 2.10.39.1-beta (2023-03-31)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-16"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-36"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-36"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 登录成功主动刷新菜单缓存、切换账号登录工作空间无权限页面白屏（感谢@A、@零壹）")]),t._v(" "),a("li",[t._v("【all】更名 变更包名为 "),a("code",[t._v("org.dromara.jpom")])]),t._v(" "),a("li",[t._v("【server】修复 编辑 docker 导入证书弹窗无法正常显示问题（感谢@左手生活，右手浪漫）")]),t._v(" "),a("li",[t._v("【server】修复 工作空间中资产管理相关页面搜索无数据时出现操作引导提示（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-11-beta-2023-03-31"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-11-beta-2023-03-31"}},[t._v("#")]),t._v(" 2.10.38.11-beta (2023-03-31)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-17"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 oauth2 新增 gitee、github 平台（感谢@A）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-37"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-37"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 规范 oauth2 登录接口和回调地址")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-10-beta-2023-03-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-10-beta-2023-03-30"}},[t._v("#")]),t._v(" 2.10.38.10-beta (2023-03-30)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-38"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-38"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 节点脚本支持全局共享同步节点、节点管理查看脚本重复问题（感谢@奇奇）")]),t._v(" "),a("li",[t._v("【server】修复 创建构建选择命令模板无法修改（感谢@定格）")]),t._v(" "),a("li",[t._v("【server】优化 构建新增配置是否发布隐藏文件属性（感谢@简单）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-9-beta-2023-03-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-9-beta-2023-03-30"}},[t._v("#")]),t._v(" 2.10.38.9-beta (2023-03-30)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-18"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】新增 节点脚本支持全局共享（感谢@奇奇）")]),t._v(" "),a("li",[t._v("【server】新增 构建状态新增"),a("code",[t._v("队列等待")]),t._v("，用于标记当前构建存于线程排队中（感谢@酱总）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-39"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-39"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 SSH 终端无法正常使用的问题（感谢@左手生活，右手浪漫）")]),t._v(" "),a("li",[t._v("【server】修复 缓存中的工作空间 ID 和路由工作空间 ID 不一致问题")]),t._v(" "),a("li",[t._v("【server】修复 超出构建队列数取消任务不生效问题（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-8-beta-2023-03-30"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-8-beta-2023-03-30"}},[t._v("#")]),t._v(" 2.10.38.8-beta (2023-03-30)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-40"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-40"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 节点脚本、项目控制台无法正常使用的问题（感谢@奇奇）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-7-beta-2023-03-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-7-beta-2023-03-29"}},[t._v("#")]),t._v(" 2.10.38.7-beta (2023-03-29)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-19"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 构建新增配置排除发布目录表达式（感谢@毛毛虫）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-41"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-41"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 修改节点未填写密码不能保存")]),t._v(" "),a("li",[t._v("【server】修复 服务端脚本非共享脚本不能执行问题")]),t._v(" "),a("li",[t._v("【server】优化 构建命令支持引用脚本模板内容（便于复杂构建命令管理）（感谢@毛毛虫）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-6-beta-2023-03-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-6-beta-2023-03-29"}},[t._v("#")]),t._v(" 2.10.38.6-beta (2023-03-29)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-42"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-42"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 SSH 分组无法正常搜索、排序异常（感谢@A）")]),t._v(" "),a("li",[t._v("【server】修复 编辑构建分组、保存并构建按钮无效（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】修复 全局共享脚本日志无法查看问题（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-5-beta-2023-03-29"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-5-beta-2023-03-29"}},[t._v("#")]),t._v(" 2.10.38.5-beta (2023-03-29)")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-43"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-43"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 证书管理支持使用文件管理部署")]),t._v(" "),a("li",[t._v("【server】优化 节点管理中项目管理和脚本管理菜单合并为一个菜单")]),t._v(" "),a("li",[t._v("【server】修复 节点分发构建确认弹窗筛选项目不生效问题")]),t._v(" "),a("li",[t._v("【server】修复 无法使用添加构建功能")]),t._v(" "),a("li",[t._v("【server】修复 资产管理 ssh 分组不生效问题（感谢@A）")]),t._v(" "),a("li",[t._v("【server】优化 构建详情页面布局（构建触发器、查看构建历史）")]),t._v(" "),a("li",[t._v("【server】优化 新增构建状态描述来记录构建异常信息")]),t._v(" "),a("li",[t._v("【server】优化 构建页面新增卡片布局方式")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意-3"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("p",[t._v("构建触发器变动，发生异常时 type 为 error,并且新增：statusMsg 字段")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-4-beta-2023-03-28"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-4-beta-2023-03-28"}},[t._v("#")]),t._v(" 2.10.38.4-beta (2023-03-28)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-20"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【all】新增 文件管理发布支持发布到节点指定目录")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-44"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-44"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】修复 无法正常使用下载功能")]),t._v(" "),a("li",[t._v("【all】升级 springboot、hutool、fastjson2、svnkit 版本")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-3-beta-2023-03-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-3-beta-2023-03-27"}},[t._v("#")]),t._v(" 2.10.38.3-beta (2023-03-27)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-21"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-21"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-45"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-45"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 删除管理脚本中的 "),a("code",[t._v("-XX:+AggressiveOpts")]),t._v(" 参数\n（感谢 "),a("a",{attrs:{href:"https://gitee.com/niuxiaozu",target:"_blank",rel:"noopener noreferrer"}},[t._v("@牛孝祖"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I6PUNM",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I6PUNM"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】修复 兼容 oauth2 登录没有 state 场景（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-2-beta-2023-03-27"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-2-beta-2023-03-27"}},[t._v("#")]),t._v(" 2.10.38.2-beta (2023-03-27)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-22"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 支持 oauth2 登录 （感谢 "),a("a",{attrs:{href:"https://gitee.com/maxkeytop_admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("@MaxKeyTop"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/183",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr 183"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-46"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-46"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 在线构建仓库支持全局共享（避免同一个仓库频繁创建）（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】修复 开启 beta 计划快速安装命令不是 beta 版本（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】修复 批量构建任务等待中没有日志输出问题（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】优化 构建支持批量取消（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】优化 取消构建时候主动删除构建容器")]),t._v(" "),a("li",[t._v("【server】优化 构建触发器新增微队列，避免同一时间提交构建任务被拒绝（服务重启队列任务将丢失）（感谢@轩辕豆豆）")]),t._v(" "),a("li",[t._v("【server】优化 任务环境页面支持查看间隔任务统计信息")]),t._v(" "),a("li",[t._v("【server】优化 令牌导入仓库模块统一调整为模板配置（部分方式不支持搜索）（感谢@魏宏斌）")]),t._v(" "),a("li",[t._v("【agent】优化 DSL 项目报警内容添加状态消息（感谢@核桃）")]),t._v(" "),a("li",[t._v("【server】优化 服务端脚本支持配置全局共享（感谢@酱总）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-10-38-1-beta-2023-03-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-38-1-beta-2023-03-23"}},[t._v("#")]),t._v(" 2.10.38.1-beta (2023-03-23)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-23"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-23"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增 证书管理全部迁移到服务端统一导入 （感谢@.）")]),t._v(" "),a("li",[t._v("【server】新增 节点项目支持导入，导出（感谢@酱总）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-47"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-47"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】优化 清理单项构建历史保留个数只判断（构建结束、发布中、发布失败、发布失败）有效构建状态，避免无法保留有效构建历史（感谢@张飞鸿）")]),t._v(" "),a("li",[t._v("【server】优化 节点监控超时时间调整为 30 秒（避免 windows 服务器频繁超时）（感谢@波比）")]),t._v(" "),a("li",[t._v("【server】优化 打开节点管理页面不刷新节点列表")]),t._v(" "),a("li",[t._v("【agent】修复 未配置节点白名单时直接创建分发项目报错（感谢@奋起的大牛）")]),t._v(" "),a("li",[t._v("【server】修复 SSH 关联工作空间的授权目录无法取消")]),t._v(" "),a("li",[t._v("【server】优化 查看分发项目状态取消折叠 table，调整为独立页面")]),t._v(" "),a("li",[t._v("【server】优化 逻辑节点没有显示快速安装按钮问题（感谢@酱总）")]),t._v(" "),a("li",[t._v("【server】优化 docker TLS 证书全部迁移到证书管理，配置证书支持快捷选择 （感谢@.）")]),t._v(" "),a("li",[t._v("【server】修复 仓库 ssh 协议配置超时时间无法正常拉取代码（感谢@毛毛虫）")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-注意-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-注意-4"}},[t._v("#")]),t._v(" ⚠️ 注意")]),t._v(" "),a("ol",[a("li",[t._v("如果节点已经配置过项目文件下载远程地址白名单需要统一配置到服务端的工作空间的白名单。")]),t._v(" "),a("li",[t._v("已经配置节点项目远程下载白名单将保留只读，不做实际判断")])]),t._v(" "),a("h3",{attrs:{id:"❌-不兼容功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#❌-不兼容功能"}},[t._v("#")]),t._v(" ❌ 不兼容功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】取消 节点管理证书管理取消上传编辑功能（保留查询删除功能）")]),t._v(" "),a("li",[t._v("【agent】取消 节点白名单配置取消 ssl 证书路径配置")]),t._v(" "),a("li",[t._v("【agent】取消 节点项目文件下载远程文件白名单统一调整到服务端白名单配置")])]),t._v(" "),a("hr")])}),[],!1,null,null,null);a.default=r.exports},565:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2-7-3-2021-12-02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-3-2021-12-02"}},[t._v("#")]),t._v(" 2.7.3 (2021-12-02)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】新增自定义系统网页标题配置"),a("code",[t._v("jpom.name")])]),t._v(" "),a("li",[t._v("【server】新增自定义系统网页 logo 配置"),a("code",[t._v("jpom.logoFile")])]),t._v(" "),a("li",[t._v("【server】新增自定义系统登录页面标题配置"),a("code",[t._v("jpom.loginTitle")])]),t._v(" "),a("li",[t._v("【server】新增自定义系统 logo 文字标题配置"),a("code",[t._v("jpom.subTitle")])]),t._v(" "),a("li",[t._v("新增在线下载最新版本更新包功能（在线检测最新版本）")]),t._v(" "),a("li",[t._v("【server】新增菜单"),a("code",[t._v("系统管理-数据库备份")]),t._v("，支持 Jpom 使用的 H2 数据库备份、还原")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】恢复构建产物为匹配符无法正常发布问题（感谢@Kay）")]),t._v(" "),a("li",[t._v("【server】恢复在线升级页面在二级路径下无法使用的问题 (感谢@hu丶向...🤡)")]),t._v(" "),a("li",[t._v("【server】恢复构建执行命令阻塞问题（感谢@小猿同学）")]),t._v(" "),a("li",[t._v("【server】恢复限制 IP 访问和插件端授权信息不正确状态码冲突（感谢@小龙、@大灰灰）")]),t._v(" "),a("li",[t._v("取消 tools.jar 依赖")]),t._v(" "),a("li",[t._v("【server】优化初始化数据库流程，避免多次执行相同修改，节省启动时间")]),t._v(" "),a("li",[t._v("【fix】恢复项目副本集乱码（感谢@ʟᴊx）")]),t._v(" "),a("li",[t._v("【server】添加在线升级完成后的回调提示")]),t._v(" "),a("li",[t._v("【server】ssh安装节点按钮动态显示")]),t._v(" "),a("li",[t._v("【server】恢复构建信息中脚本过长无法构建的bug（感谢@Dream）")]),t._v(" "),a("li",[t._v("在网页的编辑器中修改配置文件时兼容tab键（感谢@Dream）")])]),t._v(" "),a("blockquote",[a("p",[t._v("取消 tools.jar 依赖后，Java 项目状态监控使用 "),a("code",[t._v("jps")]),t._v(" 命令实现")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-7-2-fix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-2-fix"}},[t._v("#")]),t._v(" 2.7.2 (fix)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent】解决 nginx 编辑配置文件 url 编码问题")]),t._v(" "),a("li",[t._v("【server】新增配置构建命令支持不检测删除命令 "),a("code",[t._v("build.checkDeleteCommand")]),t._v(" (感谢@Dream)")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-7-1-fix"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-fix"}},[t._v("#")]),t._v(" 2.7.1 (fix)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("解决插件端请求参数 url 编码无法解析问题（感谢@知识就是力量）")]),t._v(" "),a("li",[t._v("【agent】项目文件夹为空不再提示错误信息")]),t._v(" "),a("li",[t._v("【server】fix 编辑构建选择 ssh 发布无法保存 （感谢 @Peision "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I4CQWA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I4CQWA"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】fix ssh 终端未配置禁用命令不能输入空格问题")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-7-0-beta"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-0-beta"}},[t._v("#")]),t._v(" 2.7.0 (beta)")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-4"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("【server】构建中的仓库独立管理")])]),t._v(" "),a("li",[a("strong",[t._v("【server】构建信息存储方式调整为 h2 数据库，不再存储到 json 文件中")])]),t._v(" "),a("li",[a("strong",[t._v("【server】构建触发器地址变更")])]),t._v(" "),a("li",[t._v("【agent】新增文件管理中允许编辑的文件后缀，以及对应后缀的文件编码")]),t._v(" "),a("li",[t._v("项目文件管理中新增编辑按钮，支持编辑文本文件（ 新版本 UI 同步新增该功能）")]),t._v(" "),a("li",[t._v("程序启动输出默认 IP 地址和当前运行端口信息")]),t._v(" "),a("li",[t._v("bat 管理命令（windows）启动后输出日志文件,方便排查当前启动情况")]),t._v(" "),a("li",[t._v("【server】上传文件到插件端（节点）超时配置独立,采用 server 端全局配置,配置参数 "),a("code",[t._v("node.uploadFileTimeOut")]),t._v("\n（感谢 @LW 根据 Gitee  "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3O8YE",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues I3O8YE"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】角色新增添加权限配置 （感谢@misaka "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/141",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】节点升级上传新包成功后删除历史包")]),t._v(" "),a("li",[t._v("【server】新版本 UI 菜单系统管理、节点升级只有系统管理员可见")]),t._v(" "),a("li",[t._v("【server】新版本 UI 脚本模板同步添加执行参数（感谢@轻描淡写 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I43G4B",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I43G4B"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】新版本 UI 同步添加 common.js")]),t._v(" "),a("li",[t._v("【agent】项目文件管理新增下载远程文件功能")]),t._v(" "),a("li",[t._v("【agent】节点首页监控新增实际使用内存占比（linux系统） （感谢@大灰灰）")]),t._v(" "),a("li",[t._v("【server】ssh 新增操作记录（方便查看执行历史回溯操作）")]),t._v(" "),a("li",[t._v("【server】新增 h2 控制台配置属性,基于 SpringBoot,配置参数"),a("code",[t._v("spring.h2.console.enabled")])]),t._v(" "),a("li",[t._v("【server】节点分发支持下载远程文件 （感谢@落泪归枫 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I1LM27",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I1LM27"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】节点分发支持 file 类型项目")]),t._v(" "),a("li",[t._v("【agent】项目新增配置日志文件输出到指定目录")]),t._v(" "),a("li",[t._v("【server】构建产物目录支持通配符"),a("code",[t._v("AntPathMatcher")]),t._v("模式 （感谢@saysay "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I455FM",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I455FM"),a("OutboundLink")],1),t._v("\n）")]),t._v(" "),a("li",[t._v("【server】新增 h2 数据库缓存大小配置 "),a("a",{attrs:{href:"http://www.h2database.com/html/features.html#cache_settings",target:"_blank",rel:"noopener noreferrer"}},[t._v("CACHE_SIZE"),a("OutboundLink")],1),t._v(" `db.cacheSize")]),t._v(" "),a("li",[t._v("【server】构建触发器新增延迟执行参数（感谢@Steve.Liu）")]),t._v(" "),a("li",[t._v("【server】增加全局项目搜索功能")]),t._v(" "),a("li",[t._v("【agent】项目增加批量启动关闭重启")]),t._v(" "),a("li",[t._v("【server】节点分发文件支持上传非压缩包（感谢@Sam、風中飛絮 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3YNA5",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I3YNA5"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】nginx 二级代理无法访问（感谢@hu丶向...🤡）")]),t._v(" "),a("li",[t._v("【server】ssh文件管理新增在线编辑（感谢@嗳啨 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I4ADTA",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I4ADTA"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("在线升级支持上传 zip 包自动解析（感谢@Sam）")]),t._v(" "),a("li",[t._v("【server】ssh 安装插件端新增等待次数配置（感谢@hu丶向...🤡）")]),t._v(" "),a("li",[t._v("【server】新增前端接口请求超时配置 "),a("code",[t._v("jpom.webApiTimeOut")]),t._v("（感谢@hu丶向...🤡）")]),t._v(" "),a("li",[t._v("【server】构建支持 tag 通配符 （感谢@落泪归枫 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I1LM1V",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee issues I1LM1V"),a("OutboundLink")],1),t._v(" ）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-4"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】添加节点时候限制超时时间，避免配置错误一直等待情况")]),t._v(" "),a("li",[t._v("【server】优化限制 IP 白名单相关判断，避免手动修改错误后一直限制访问")]),t._v(" "),a("li",[t._v("【server】添加 QQ 邮箱配置参照说明 "),a("a",{attrs:{href:"https://service.mail.qq.com/cgi-bin/help?subtype=1&&no=369&&id=28",target:"_blank",rel:"noopener noreferrer"}},[t._v("QQ邮箱官方文档"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix: 删除临时文件出现 "),a("code",[t._v("AccessDeniedException")]),t._v(" 更新文件权限为可读（取消只读权限）")]),t._v(" "),a("li",[t._v("【server】拉取 GIT 代码根据仓库路径添加 "),a("code",[t._v("synchronized")])]),t._v(" "),a("li",[t._v("【server】节点管理页面支持刷新当前节点页面（刷新不再回到首页）")]),t._v(" "),a("li",[t._v("【server】 jpom-service.sh 文件加载环境变量修改为 判断模式")]),t._v(" "),a("li",[t._v("【agent】fix: windows 环境保存配置文件错误问题")]),t._v(" "),a("li",[t._v("【agent】fix: 在线升级页面在没有配置白名单时候无法显示节点信息")]),t._v(" "),a("li",[t._v("【server】ssh 快捷安装插件端检查配置文件不在使用 SpringBoot 非 public 工具类")]),t._v(" "),a("li",[t._v("【server】请求节点发生异常打印具体堆栈、接口异常拦截器里面默认不打印堆栈 （根据 Gitee  "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3O8YE",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues I3O8YE"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【server】节点升级中偶尔出现无法获取到对应的版本信息问题（感谢@misaka Gitee issues "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I41TDY",target:"_blank",rel:"noopener noreferrer"}},[t._v("I41TDY"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("本地运行数据目录位置改为"),a("code",[t._v("${user.home}/jpom/xxxx")]),t._v("、日志路径改为项目模块下")]),t._v(" "),a("li",[t._v("【agent】升级 "),a("code",[t._v("commons-compress")]),t._v(" 依赖 （来自 GitHub "),a("a",{attrs:{href:"https://github.com/advisories",target:"_blank",rel:"noopener noreferrer"}},[t._v("advisories"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("agent 和 server 间的 websocket 鉴权调整")]),t._v(" "),a("li",[t._v("【server】update: 刷新整个页面的时候重新加载菜单")]),t._v(" "),a("li",[t._v("历史监控图表查询报时间格式化错误(字符串工具类) （感谢@misaka "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/pulls/142",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee pr"),a("OutboundLink")],1),t._v(" ）")]),t._v(" "),a("li",[t._v("【agent】nginx 配置文件取消强制检测 server 节点")]),t._v(" "),a("li",[t._v("【server】仓库密码改为隐藏")]),t._v(" "),a("li",[t._v("解决退出登录验证码没有刷新问题 （感谢群友：Steve.Liu）")]),t._v(" "),a("li",[t._v("【agent】节点分发清空发布无效（感谢@Sam）")]),t._v(" "),a("li",[t._v("【server】编写分发项目时，当分发节点做替换、新增的操作后，点击确认，控制台报错（感谢@tan90°）")])]),t._v(" "),a("h3",{attrs:{id:"⚠️-升级注意事项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#⚠️-升级注意事项"}},[t._v("#")]),t._v(" ⚠️ 升级注意事项")]),t._v(" "),a("blockquote",[a("p",[t._v("【特别声明】当前版本 仓库和构建并没有接入动态数据权限，如果对权限敏感的用户建议等待下一个版本优化权限后再升级（如有疑问可以微信群沟通）")])]),t._v(" "),a("blockquote",[a("p",[t._v("⚠️ 注意1：由于构建信息全部存储到 h2 数据库中，之前到构建信息会自动同步，在升级后到第一次启动需观察控制台信息，启动成功后请检查构建信息，仓库信息是否同步正确")]),t._v(" "),a("p",[t._v("⚠️ 注意2：构建的触发器地址有更新，需要重新获取触发器地址")]),t._v(" "),a("p",[t._v("⚠️ 注意3：升级到该版本需要保证 agent、server 都保持同步，如果只升级 server 会出现项目控制台等功能无法正常使用")]),t._v(" "),a("p",[t._v("⚠️ 注意4：升级 2.7.x 后不建议降级操作,会涉及到数据不兼容到情况")])]),t._v(" "),a("hr")])}),[],!1,null,null,null);a.default=r.exports},569:function(t,a,e){"use strict";e.r(a);var s=e(8),r=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"🚀-2-5-0-2-5-2-版本日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🚀-2-5-0-2-5-2-版本日志"}},[t._v("#")]),t._v(" 🚀 2.5.0 ~ 2.5.2 版本日志")]),t._v(" "),a("h2",{attrs:{id:"_2-5-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2"}},[t._v("#")]),t._v(" 2.5.2")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【agent+server】 新增节点批量升级功能（注意，之前的节点版本不支持该功能需要升级当前版本后才能使用该功能）")]),t._v(" "),a("li",[t._v("【server】节点配置的超时时间单位由毫秒改为秒，并且最小值为2秒")]),t._v(" "),a("li",[t._v("【server】新增构建合并分支日志（便于判断分支冲突问题）")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】fix bug:\n分发列表页面，展开某个节点之后点击操作按钮会出现新的一行无效数据。"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/e28b14bcf3dce402ce170a40f9bb93c4d25d0935",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Hotstrip"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug:\n项目监控页面，线程数据加载失败问题 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/b11c5443db6468a2bf7f6a9fa933f8d965899624",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Hotstrip"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug: 修复低版本浏览器不支持 "),a("code",[t._v(".replaceAll()")]),t._v("\n方法 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/0fb475963153b76546409ac3065a0efe9e647541",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/fat_magpie_beijing_tony",target:"_blank",rel:"noopener noreferrer"}},[t._v("@杨巍"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】update: 更新分发列表 -- 关联分发项目页面操作逻辑（跟老版本操作逻辑一致）"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/cd6e4ae89f833e5e7ef11bd12c324a487de27b1a",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/koushare_dfli",target:"_blank",rel:"noopener noreferrer"}},[t._v("@李道甫"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】update: 优化项目文件管理页面，加载目录树时会多次显示 loading 层 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/71b3779bffb36259e0980ce25d4e4082a9d7c2e6",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Hotstrip"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug: 修复节点请求超时可能导致节点项目列表为空 bug "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/e3182dfa04c27e63a29d67b292a7bfef834f875e",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/hotstrip",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Hotstrip"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【agent】 fix bug: index 获取进程列表 NPE (感谢@夏末秋初)")]),t._v(" "),a("li",[t._v("【server】fix bug: 修复上传项目压缩文件创建项目目录异常"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I29FRJ",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里查看对应 issue"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug：创建构建时，如果选择\nsvn，隐藏掉分支选项。"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3TA6S",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里查看对应 issue"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/alexa1989",target:"_blank",rel:"noopener noreferrer"}},[t._v("感谢 Alexa 提出 issue"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/compare/180914f4ddda4dc34fa2df9b169bac7b593dedb0...aa6bb065b6f507ad0bf42225a2aad40e2d25597f",target:"_blank",rel:"noopener noreferrer"}},[t._v("@Hotstrip"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】 fix bug: ssh 构建发布清空历史文件失败（感谢@金晨曦）")]),t._v(" "),a("li",[t._v("【server】update 构建初始化仓库拉取指定分支，不先拉取主分支再切换到指定分支（感谢@大灰灰）")]),t._v(" "),a("li",[t._v("【server】程序关闭时候自动关闭 h2 数据连接池，避免数据库文件被损坏")]),t._v(" "),a("li",[t._v("【server】style:\n优化logo，登录页面，初始化页面 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/5d4783f0be7d44bb04275b059ccd1509620c5828",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看对应提交记录"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/zsf_008",target:"_blank",rel:"noopener noreferrer"}},[t._v("@长得丑活得久i"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug:\n修复在没有配置nginx白名单时访问nginx列表数据一直加载中问题"),a("a",{attrs:{href:"https://github.com/dromara/Jpom/issues/5",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里查看对应 issue"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://gitee.com/zsf_008",target:"_blank",rel:"noopener noreferrer"}},[t._v("@长得丑活得久i"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("新增 .gitattributes 文件控制命令文件的编码格式以及换行符（感谢@ℳ๓₯㎕斌）")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-5-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1"}},[t._v("#")]),t._v(" 2.5.1")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-2"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【Server】保存邮箱信息时候验证邮箱配置是否正确（感谢@maybe）")]),t._v(" "),a("li",[t._v("【Server】Token 机制采用 jwt")]),t._v(" "),a("li",[t._v("【Server】git 构建新增进度日志输出")]),t._v(" "),a("li",[t._v("【Server】添加操作监控相关 api 和页面功能")]),t._v(" "),a("li",[t._v("【Server】完善 JWT token 过期自动续签功能")]),t._v(" "),a("li",[t._v("【Server】添加前端页面引导系统（使用 introJs）")]),t._v(" "),a("li",[t._v("【Server】访问 ip 限制，支持配置白名单和黑名单来控制 ip 访问权限")]),t._v(" "),a("li",[t._v("【Server】添加服务自启动脚本创建方案，下面贴一下 Server 端自启动方式：")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-2"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【Server】全局网络请求新增 loading 状态控制")]),t._v(" "),a("li",[t._v("【Server】获取构建日志关闭 loading 状态")]),t._v(" "),a("li",[t._v("【Agent】控制台日志支持定时清空,避免日志文件太大（感谢@南有乔木）")]),t._v(" "),a("li",[t._v("【Server】在线升级状态判断修复")]),t._v(" "),a("li",[t._v("【Server】修复项目获取进程信息失败（感谢@onlyonezhongjinhui GitHub issues#7）")]),t._v(" "),a("li",[t._v("【Server】项目文件管理中显示项目文件存放真实目录")]),t._v(" "),a("li",[t._v("【Server】项目文件管理中文件夹不存在时，loading不消失（感谢@onlyonezhongjinhui GitHub issues#6）")]),t._v(" "),a("li",[t._v("【Server】文件管理列表不能正常加载二级以上的目录")]),t._v(" "),a("li",[t._v("【Server】添加监控判断用户是否配置报警联系方式（感谢@maybe）")]),t._v(" "),a("li",[t._v("【Server】初始化安装不能自动登录")]),t._v(" "),a("li",[t._v("【Server】页面组件采用国际化采用 zh_cn")]),t._v(" "),a("li",[t._v("【Server】服务器中验证码无法加载（感谢@何好听 Gitee issues#I3E7XQ）")]),t._v(" "),a("li",[t._v("【Agent】解决控制台输出 "),a("code",[t._v("Failed to check connection: java.net.ConnectException: Connection refused: connect")]),t._v(",因为没有关闭对应的 jmx")]),t._v(" "),a("li",[t._v("【Agent】解决首页控制台 java 进程列表慢的问题（采用定时拉取并缓存）")]),t._v(" "),a("li",[t._v("【server】fix bug:\n节点列表页面，展开某个节点之后点击操作按钮会出现新的一行无效数据。 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/commit/b9ecdfa649d27c46bca696e6df088a0908056ff6",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看提交记录"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug: 节点列表页面，在没有安装节点的情况下，点击终端按钮会在控制台报错。"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3J4UI",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里查看对应 issue"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】fix bug: 节点管理里面的 Nginx 管理，关闭服务的接口参数传递错了。"),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3IFZY",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里查看对应 issue"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】优化系统配置页面的样式，在小屏幕设备上会出现多个竖方向上的滚动条，甚至有时候会遮住底部的操作按钮")]),t._v(" "),a("li",[t._v("【server】ssh 终端命令交互优化（改优化取消之前版本快捷解压功能，删除命令检查）")]),t._v(" "),a("li",[t._v("【server】优化表格的排版和高度等样式，适配页面。详情见 "),a("a",{attrs:{href:"https://gitee.com/dromara/Jpom/issues/I3EE2R",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("【server】优化节点分发关联操作界面。")])]),t._v(" "),a("blockquote",[a("p",[t._v("⚠️ 注意事项：")]),t._v(" "),a("ol",[a("li",[t._v("ssh 终端的删除命令检查临时取消（后面版本会重新优化）")]),t._v(" "),a("li",[t._v("该版本新增配置 Jpom 服务方式，需要更新 Server.sh、Agent.sh 文件，在线升级仅升级应用程序不会升级对应的管理命令文件，如果需要使用到该功能还需要手动覆盖更新对应的文件。（如果自定义过管理命令文件则需要差异覆盖）")])])]),t._v(" "),a("blockquote",[a("p",[t._v("开机自启动：")]),t._v(" "),a("blockquote",[a("ol",[a("li",[t._v("在 Server 端找到 Server.sh 文件，执行命令 "),a("code",[t._v("./Server.sh create")]),t._v("，会在当前目录下生成 jpom-server 文件，这个文件就是 Server 端的自启动的文件")]),t._v(" "),a("li",[t._v("在 Agent 端找到 Agent.sh 文件，执行命令 "),a("code",[t._v("./Agent.sh create")]),t._v("，会在当前目录下生成 jpom-agent 文件，这个文件就是 Agent 端的自启动的文件")]),t._v(" "),a("li",[t._v("把刚刚生成的自启动文件移动到 /etc/init.d/ 目录")]),t._v(" "),a("li",[t._v("到 /etc/init.d/ 目录让自启动文件拥有执行权限，执行命令 "),a("code",[t._v("chmod +x jpom-server")]),t._v(" 或者 "),a("code",[t._v("chmod +x jpom-agent")])]),t._v(" "),a("li",[t._v("注册到 chkconfig 列表里面，就可以实现开机自启，执行命令 "),a("code",[t._v("chkconfig --add jpom-server")]),t._v(" 或者 "),a("code",[t._v("chkconfig --add jpom-agent")])]),t._v(" "),a("li",[t._v("执行完第 4 步就可以通过 "),a("code",[t._v("service jpom-xxx {status | start | stop}")]),t._v(" 来管理 Jpom 服务")]),t._v(" "),a("li",[t._v("目前仅通过 Cent OS 服务器测试，其他服务器可能会无效")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-5-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-0"}},[t._v("#")]),t._v(" 2.5.0")]),t._v(" "),a("h3",{attrs:{id:"🐣-新增功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐣-新增功能-3"}},[t._v("#")]),t._v(" 🐣 新增功能")]),t._v(" "),a("ol",[a("li",[t._v("【server】接入全局 loading 控件")]),t._v(" "),a("li",[t._v("【server】默认进入新版UI")])]),t._v(" "),a("h3",{attrs:{id:"🐞-解决bug、优化功能-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🐞-解决bug、优化功能-3"}},[t._v("#")]),t._v(" 🐞 解决BUG、优化功能")]),t._v(" "),a("ol",[a("li",[t._v("【Server】fix bug: ssh 列表页面编辑弹窗无法加载（当没有设置文件目录时）")]),t._v(" "),a("li",[t._v("【Server】fix bug: 分发列表，项目运行状态显示错误")]),t._v(" "),a("li",[t._v("【Server】fix bug：第一次安装未能正常打开初始化账号密码页面")]),t._v(" "),a("li",[t._v("【server】fix bug: 独立分发项目编辑时，jvm args 等参数不会回显")]),t._v(" "),a("li",[t._v("【server】fix: 点击构建自动打开构建日志、构建日志弹窗自动滚动到底部")]),t._v(" "),a("li",[t._v("【server】add: index.html 添加打包时间")]),t._v(" "),a("li",[t._v("【server】fix bug：添加、编辑用户原始密码进行了sha1")]),t._v(" "),a("li",[t._v("【server】add: 添加构建历史回滚操作（感谢@李道甫）")]),t._v(" "),a("li",[t._v("【server】add: 添加项目文件管理页面上传压缩文件（感谢@李道甫）")]),t._v(" "),a("li",[t._v("【server】fix bug: 文件上传时显示上传进度（感谢@李道甫）")]),t._v(" "),a("li",[t._v("【server】fix bug: 项目文件管理的侧边文件树优化（感谢@李道甫）")]),t._v(" "),a("li",[t._v("【server】fix: 控制台日志弹窗自动滚动到底部（感谢@南有乔木）")]),t._v(" "),a("li",[t._v("【server】add: File方式创建项目 项目控制台互调（感谢@李道甫 贡献）")]),t._v(" "),a("li",[t._v("【server】add: 分发提示修改 分发项目显示 （感谢@李道甫 贡献）")])]),t._v(" "),a("blockquote",[a("p",[t._v("⚠️ 注意：目前新版本登录状态采用固定 token 模式，登录后将一直保持在线状态，如需要退出或者离线需要进行退出登录操作。（该问题将于后面版本进行优化调整）")])])])}),[],!1,null,null,null);a.default=r.exports}}]);